{"pageProps":{"post":{"title":"Flask, MongoDB, 그리고 React로 실시간 GitHub Webhook 리스너 만드는 방법","description":"","date":"2024-06-30 23:02","slug":"2024-06-30-BuildingaReal-TimeGitHubWebhookListenerwithFlaskMongoDBandReact","content":"\n\n본 기사에서는 \"Push\", \"Pull Request\", \"Merge\"와 같은 GitHub 웹훅을 수신하는 프로젝트를 만드는 방법을 안내하겠습니다. 이러한 이벤트를 Flask 애플리케이션에서 캡처하고 MongoDB에 저장하며, React 프론트엔드를 사용하여 실시간으로 표시할 것입니다. 마지막으로 Flask 앱을 Vercel에 배포해 보겠습니다.\n\n# 배울 내용\n\n- GitHub 웹훅 설정하는 방법\n- 웹훅을 처리하기 위한 Flask 애플리케이션 만드는 방법\n- 웹훅 데이터를 MongoDB에 저장하는 방법\n- 실시간 업데이트를 표시하는 React 애플리케이션 만드는 방법\n- Flask 애플리케이션을 Vercel에 배포하는 방법\n\n# 준비물\n\n<div class=\"content-ad\"></div>\n\n- Python, Flask 및 React에 대한 기본 지식\n- GitHub 계정\n- 로컬에 MongoDB 설치 또는 클라우드 MongoDB 서비스\n- Node.js 및 npm 설치\n- Vercel 계정\n\n## 단계 1: GitHub Webhook 설정\n\n- GitHub 저장소 설정\n\nGitHub에서 새 저장소를 만듭니다.\n\nGitHub에서 action-repo라는 새 저장소를 만듭니다. 이 저장소는 \"Push\", \"Pull Request\", \"Merge\"와 같은 이벤트에 기반하여 웹훅을 트리거합니다.\n\n<div class=\"content-ad\"></div>\n\n2. 웹훅 추가하기\n\n- GitHub의 작업 리포지토리로 이동합니다.\n- 설정에서 웹훅(Webhooks)으로 이동합니다.\n- 웹훅 추가를 클릭합니다.\n- 페이로드 URL을 Flask 앱의 엔드포인트로 설정합니다 (나중에 이를 설정할 예정입니다).\n- 컨텐츠 유형을 application/json으로 설정합니다.\n- 개별 이벤트를 선택하도록 \"푸쉬(Push)\", \"풀 리퀘스트(Pull Request)\", \"병합(Merge)\" 이벤트를 선택합니다.\n- 웹훅 추가를 클릭합니다.\n\n# 단계 2: Flask 애플리케이션 생성\n\n- 프로젝트 초기화\n\n<div class=\"content-ad\"></div>\n\n플라스크 프로젝트를 위한 webhook-repo라는 디렉토리를 만들어보세요.\n\n```js\nmkdir webhook-repo\ncd webhook-repo\npython3 -m venv venv\nsource venv/bin/activate\npip install Flask pymongo\n```\n\n2. Flask 앱 만들기\n\nwebhook-repo 디렉토리에 다음 코드를 사용하여 app.py를 만들어보세요.\n\n<div class=\"content-ad\"></div>\n\n```python\nfrom flask import Flask, request, jsonify\nfrom pymongo import MongoClient\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# MongoDB 연결\nclient = MongoClient('mongodb://localhost:27017/')\ndb = client['github_webhooks']\ncollection = db['events']\n\n@app.route('/webhook', methods=['POST'])\ndef webhook():\n    data = request.json\n    event_type = request.headers.get('X-GitHub-Event')\n    \n    if event_type == 'push':\n        author = data['pusher']['name']\n        to_branch = data['ref'].split('/')[-1]\n        timestamp = datetime.strptime(data['head_commit']['timestamp'], \"%Y-%m-%dT%H:%M:%SZ\")\n        event_data = {\n            \"type\": \"push\",\n            \"author\": author,\n            \"to_branch\": to_branch,\n            \"timestamp\": timestamp\n        }\n    elif event_type == 'pull_request':\n        author = data['pull_request']['user']['login']\n        from_branch = data['pull_request']['head']['ref']\n        to_branch = data['pull_request']['base']['ref']\n        timestamp = datetime.strptime(data['pull_request']['created_at'], \"%Y-%m-%dT%H:%M:%SZ\")\n        event_data = {\n            \"type\": \"pull_request\",\n            \"author\": author,\n            \"from_branch\": from_branch,\n            \"to_branch\": to_branch,\n            \"timestamp\": timestamp\n        }\n    elif event_type == 'pull_request' and data['pull_request']['merged']:\n        author = data['pull_request']['user']['login']\n        from_branch = data['pull_request']['head']['ref']\n        to_branch = data['pull_request']['base']['ref']\n        timestamp = datetime.strptime(data['pull_request']['merged_at'], \"%Y-%m-%dT%H:%M:%SZ\")\n        event_data = {\n            \"type\": \"merge\",\n            \"author\": author,\n            \"from_branch\": from_branch,\n            \"to_branch\": to_branch,\n            \"timestamp\": timestamp\n        }\n    else:\n        return jsonify({'message': '지원되지 않는 이벤트입니다'}), 400\n\n    collection.insert_one(event_data)\n    return jsonify({'message': '이벤트가 수신되었습니다'}), 200\n\n@app.route('/events', methods=['GET'])\ndef get_events():\n    events = list(collection.find().sort(\"timestamp\", -1).limit(10))\n    for event in events:\n        event['_id'] = str(event['_id'])\n    return jsonify(events), 200\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000)\n```\n\n3. requirements.txt 파일 생성\n\n필요한 의존성이 명시된 requirements.txt 파일을 만들어주세요:\n\n```python\nFlask\npymongo\n```\n\n<div class=\"content-ad\"></div>\n\n# 단계 3: Vercel에 Flask 앱 배포하기\n\n- vercel.json 파일 만들기\n\nvercel.json 설정 파일을 만듭니다:\n\n```js\n{\n  \"version\": 2,\n  \"builds\": [\n    {\n      \"src\": \"app.py\",\n      \"use\": \"@vercel/python\"\n    }\n  ],\n  \"routes\": [\n    {\n      \"src\": \"/(.*)\",\n      \"dest\": \"app.py\"\n    }\n  ]\n}\n```\n\n<div class=\"content-ad\"></div>\n\n2. Vercel에 배포하기\n\n- Vercel CLI 설치하기: npm install -g vercel\n- Vercel에 로그인하기: vercel login\n- 프로젝트를 배포하기: vercel\n\n# 단계 4: React 프론트엔드 생성\n\n- React 앱 설정하기\n\n<div class=\"content-ad\"></div>\n\nReact 애플리케이션을 새로 만들어 보세요:\n\n```js\nnpx create-react-app github-webhooks-ui\ncd github-webhooks-ui\nnpm install axios\n```\n\n2. App.js 파일을 만들어 보세요\n\nApp.js 파일 내용을 다음과 같이 변경해 주세요:\n\n<div class=\"content-ad\"></div>\n\n```js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst App = () => {\n  const [events, setEvents] = useState([]);\n\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const response = await axios.get('https://your-vercel-app.vercel.app/events');\n        setEvents(response.data);\n      } catch (error) {\n        console.error('Error fetching events', error);\n      }\n    };\n\n    fetchEvents();\n    const interval = setInterval(fetchEvents, 15000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <h1>GitHub Repository Events</h1>\n      <ul>\n        {events.map(event => (\n          <li key={event._id}>\n            {event.type === 'push' && `${event.author} pushed to ${event.to_branch} on ${new Date(event.timestamp).toUTCString()}`}\n            {event.type === 'pull_request' && `${event.author} submitted a pull request from ${event.from_branch} to ${event.to_branch} on ${new Date(event.timestamp).toUTCString()}`}\n            {event.type === 'merge' && `${event.author} merged branch ${event.from_branch} to ${event.to_branch} on ${new Date(event.timestamp).toUTCString()}`}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default App;\n```\n\n3. React 앱 실행\n\nReact 애플리케이션을 시작하려면:\n\n```js\nnpm start\n```\n\n<div class=\"content-ad\"></div>\n\n# 테스트 및 확인\n\n- GitHub 웹훅 업데이트:\n\nGitHub 웹훅 설정에서 Payload URL을 배포된 Vercel의 Flask 앱을 가리키도록 업데이트하십시오:\n\n```js\nhttps://your-vercel-app.vercel.app/webhook\n```\n\n<div class=\"content-ad\"></div>\n\n2. 트리거 이벤트:\n\n- Push Action: 변경 사항을 만들어서 action-repo에 푸시합니다.\n- Pull Request Action: 새 브랜치를 만들어서 변경 사항을 적용하고 푸시한 다음 풀 리퀘스트를 오픈합니다.\n- Merge Action: 풀 리퀘스트를 병합합니다.\n\n3. 확인: React 앱을 확인해서 이벤트가 올바르게 표시되는지 확인해보세요.\n\n# 결론\n\n<div class=\"content-ad\"></div>\n\n이 프로젝트에서는 다음을 배웠습니다:\n\n- GitHub 웹훅 설정 및 처리 방법\n- 웹훅 이벤트를 처리하는 Flask 애플리케이션 생성\n- MongoDB에 이벤트 저장\n- React 프론트엔드를 사용하여 실시간 이벤트 표시\n- Vercel에 Flask 애플리케이션 배포\n\n이 프로젝트는 다양한 기술을 통합하여 실시간 업데이트를 효율적으로 처리하는 풀 스택 애플리케이션을 보여줍니다. 궁금한 점이나 개선하고 싶은 부분이 있으면 인증, 추가적인 이벤트 유형 또는 더 다양하고 진보된 UI 요소를 추가하여 이 프로젝트를 확장해보세요.\n\n즐거운 코딩되세요!","ogImage":{"url":"/assets/img/2024-06-30-BuildingaReal-TimeGitHubWebhookListenerwithFlaskMongoDBandReact_0.png"},"coverImage":"/assets/img/2024-06-30-BuildingaReal-TimeGitHubWebhookListenerwithFlaskMongoDBandReact_0.png","tag":["Tech"],"readingTime":7},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>본 기사에서는 \"Push\", \"Pull Request\", \"Merge\"와 같은 GitHub 웹훅을 수신하는 프로젝트를 만드는 방법을 안내하겠습니다. 이러한 이벤트를 Flask 애플리케이션에서 캡처하고 MongoDB에 저장하며, React 프론트엔드를 사용하여 실시간으로 표시할 것입니다. 마지막으로 Flask 앱을 Vercel에 배포해 보겠습니다.</p>\n<h1>배울 내용</h1>\n<ul>\n<li>GitHub 웹훅 설정하는 방법</li>\n<li>웹훅을 처리하기 위한 Flask 애플리케이션 만드는 방법</li>\n<li>웹훅 데이터를 MongoDB에 저장하는 방법</li>\n<li>실시간 업데이트를 표시하는 React 애플리케이션 만드는 방법</li>\n<li>Flask 애플리케이션을 Vercel에 배포하는 방법</li>\n</ul>\n<h1>준비물</h1>\n<div class=\"content-ad\"></div>\n<ul>\n<li>Python, Flask 및 React에 대한 기본 지식</li>\n<li>GitHub 계정</li>\n<li>로컬에 MongoDB 설치 또는 클라우드 MongoDB 서비스</li>\n<li>Node.js 및 npm 설치</li>\n<li>Vercel 계정</li>\n</ul>\n<h2>단계 1: GitHub Webhook 설정</h2>\n<ul>\n<li>GitHub 저장소 설정</li>\n</ul>\n<p>GitHub에서 새 저장소를 만듭니다.</p>\n<p>GitHub에서 action-repo라는 새 저장소를 만듭니다. 이 저장소는 \"Push\", \"Pull Request\", \"Merge\"와 같은 이벤트에 기반하여 웹훅을 트리거합니다.</p>\n<div class=\"content-ad\"></div>\n<ol start=\"2\">\n<li>웹훅 추가하기</li>\n</ol>\n<ul>\n<li>GitHub의 작업 리포지토리로 이동합니다.</li>\n<li>설정에서 웹훅(Webhooks)으로 이동합니다.</li>\n<li>웹훅 추가를 클릭합니다.</li>\n<li>페이로드 URL을 Flask 앱의 엔드포인트로 설정합니다 (나중에 이를 설정할 예정입니다).</li>\n<li>컨텐츠 유형을 application/json으로 설정합니다.</li>\n<li>개별 이벤트를 선택하도록 \"푸쉬(Push)\", \"풀 리퀘스트(Pull Request)\", \"병합(Merge)\" 이벤트를 선택합니다.</li>\n<li>웹훅 추가를 클릭합니다.</li>\n</ul>\n<h1>단계 2: Flask 애플리케이션 생성</h1>\n<ul>\n<li>프로젝트 초기화</li>\n</ul>\n<div class=\"content-ad\"></div>\n<p>플라스크 프로젝트를 위한 webhook-repo라는 디렉토리를 만들어보세요.</p>\n<pre><code class=\"hljs language-js\">mkdir webhook-repo\ncd webhook-repo\npython3 -m venv venv\nsource venv/bin/activate\npip install <span class=\"hljs-title class_\">Flask</span> pymongo\n</code></pre>\n<ol start=\"2\">\n<li>Flask 앱 만들기</li>\n</ol>\n<p>webhook-repo 디렉토리에 다음 코드를 사용하여 app.py를 만들어보세요.</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> flask <span class=\"hljs-keyword\">import</span> Flask, request, jsonify\n<span class=\"hljs-keyword\">from</span> pymongo <span class=\"hljs-keyword\">import</span> MongoClient\n<span class=\"hljs-keyword\">from</span> datetime <span class=\"hljs-keyword\">import</span> datetime\n\napp = Flask(__name__)\n\n<span class=\"hljs-comment\"># MongoDB 연결</span>\nclient = MongoClient(<span class=\"hljs-string\">'mongodb://localhost:27017/'</span>)\ndb = client[<span class=\"hljs-string\">'github_webhooks'</span>]\ncollection = db[<span class=\"hljs-string\">'events'</span>]\n\n<span class=\"hljs-meta\">@app.route(<span class=\"hljs-params\"><span class=\"hljs-string\">'/webhook'</span>, methods=[<span class=\"hljs-string\">'POST'</span>]</span>)</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">webhook</span>():\n    data = request.json\n    event_type = request.headers.get(<span class=\"hljs-string\">'X-GitHub-Event'</span>)\n    \n    <span class=\"hljs-keyword\">if</span> event_type == <span class=\"hljs-string\">'push'</span>:\n        author = data[<span class=\"hljs-string\">'pusher'</span>][<span class=\"hljs-string\">'name'</span>]\n        to_branch = data[<span class=\"hljs-string\">'ref'</span>].split(<span class=\"hljs-string\">'/'</span>)[-<span class=\"hljs-number\">1</span>]\n        timestamp = datetime.strptime(data[<span class=\"hljs-string\">'head_commit'</span>][<span class=\"hljs-string\">'timestamp'</span>], <span class=\"hljs-string\">\"%Y-%m-%dT%H:%M:%SZ\"</span>)\n        event_data = {\n            <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"push\"</span>,\n            <span class=\"hljs-string\">\"author\"</span>: author,\n            <span class=\"hljs-string\">\"to_branch\"</span>: to_branch,\n            <span class=\"hljs-string\">\"timestamp\"</span>: timestamp\n        }\n    <span class=\"hljs-keyword\">elif</span> event_type == <span class=\"hljs-string\">'pull_request'</span>:\n        author = data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'user'</span>][<span class=\"hljs-string\">'login'</span>]\n        from_branch = data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'head'</span>][<span class=\"hljs-string\">'ref'</span>]\n        to_branch = data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'base'</span>][<span class=\"hljs-string\">'ref'</span>]\n        timestamp = datetime.strptime(data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'created_at'</span>], <span class=\"hljs-string\">\"%Y-%m-%dT%H:%M:%SZ\"</span>)\n        event_data = {\n            <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"pull_request\"</span>,\n            <span class=\"hljs-string\">\"author\"</span>: author,\n            <span class=\"hljs-string\">\"from_branch\"</span>: from_branch,\n            <span class=\"hljs-string\">\"to_branch\"</span>: to_branch,\n            <span class=\"hljs-string\">\"timestamp\"</span>: timestamp\n        }\n    <span class=\"hljs-keyword\">elif</span> event_type == <span class=\"hljs-string\">'pull_request'</span> <span class=\"hljs-keyword\">and</span> data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'merged'</span>]:\n        author = data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'user'</span>][<span class=\"hljs-string\">'login'</span>]\n        from_branch = data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'head'</span>][<span class=\"hljs-string\">'ref'</span>]\n        to_branch = data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'base'</span>][<span class=\"hljs-string\">'ref'</span>]\n        timestamp = datetime.strptime(data[<span class=\"hljs-string\">'pull_request'</span>][<span class=\"hljs-string\">'merged_at'</span>], <span class=\"hljs-string\">\"%Y-%m-%dT%H:%M:%SZ\"</span>)\n        event_data = {\n            <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"merge\"</span>,\n            <span class=\"hljs-string\">\"author\"</span>: author,\n            <span class=\"hljs-string\">\"from_branch\"</span>: from_branch,\n            <span class=\"hljs-string\">\"to_branch\"</span>: to_branch,\n            <span class=\"hljs-string\">\"timestamp\"</span>: timestamp\n        }\n    <span class=\"hljs-keyword\">else</span>:\n        <span class=\"hljs-keyword\">return</span> jsonify({<span class=\"hljs-string\">'message'</span>: <span class=\"hljs-string\">'지원되지 않는 이벤트입니다'</span>}), <span class=\"hljs-number\">400</span>\n\n    collection.insert_one(event_data)\n    <span class=\"hljs-keyword\">return</span> jsonify({<span class=\"hljs-string\">'message'</span>: <span class=\"hljs-string\">'이벤트가 수신되었습니다'</span>}), <span class=\"hljs-number\">200</span>\n\n<span class=\"hljs-meta\">@app.route(<span class=\"hljs-params\"><span class=\"hljs-string\">'/events'</span>, methods=[<span class=\"hljs-string\">'GET'</span>]</span>)</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_events</span>():\n    events = <span class=\"hljs-built_in\">list</span>(collection.find().sort(<span class=\"hljs-string\">\"timestamp\"</span>, -<span class=\"hljs-number\">1</span>).limit(<span class=\"hljs-number\">10</span>))\n    <span class=\"hljs-keyword\">for</span> event <span class=\"hljs-keyword\">in</span> events:\n        event[<span class=\"hljs-string\">'_id'</span>] = <span class=\"hljs-built_in\">str</span>(event[<span class=\"hljs-string\">'_id'</span>])\n    <span class=\"hljs-keyword\">return</span> jsonify(events), <span class=\"hljs-number\">200</span>\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">'__main__'</span>:\n    app.run(host=<span class=\"hljs-string\">'0.0.0.0'</span>, port=<span class=\"hljs-number\">5000</span>)\n</code></pre>\n<ol start=\"3\">\n<li>requirements.txt 파일 생성</li>\n</ol>\n<p>필요한 의존성이 명시된 requirements.txt 파일을 만들어주세요:</p>\n<pre><code class=\"hljs language-python\">Flask\npymongo\n</code></pre>\n<div class=\"content-ad\"></div>\n<h1>단계 3: Vercel에 Flask 앱 배포하기</h1>\n<ul>\n<li>vercel.json 파일 만들기</li>\n</ul>\n<p>vercel.json 설정 파일을 만듭니다:</p>\n<pre><code class=\"hljs language-js\">{\n  <span class=\"hljs-string\">\"version\"</span>: <span class=\"hljs-number\">2</span>,\n  <span class=\"hljs-string\">\"builds\"</span>: [\n    {\n      <span class=\"hljs-string\">\"src\"</span>: <span class=\"hljs-string\">\"app.py\"</span>,\n      <span class=\"hljs-string\">\"use\"</span>: <span class=\"hljs-string\">\"@vercel/python\"</span>\n    }\n  ],\n  <span class=\"hljs-string\">\"routes\"</span>: [\n    {\n      <span class=\"hljs-string\">\"src\"</span>: <span class=\"hljs-string\">\"/(.*)\"</span>,\n      <span class=\"hljs-string\">\"dest\"</span>: <span class=\"hljs-string\">\"app.py\"</span>\n    }\n  ]\n}\n</code></pre>\n<div class=\"content-ad\"></div>\n<ol start=\"2\">\n<li>Vercel에 배포하기</li>\n</ol>\n<ul>\n<li>Vercel CLI 설치하기: npm install -g vercel</li>\n<li>Vercel에 로그인하기: vercel login</li>\n<li>프로젝트를 배포하기: vercel</li>\n</ul>\n<h1>단계 4: React 프론트엔드 생성</h1>\n<ul>\n<li>React 앱 설정하기</li>\n</ul>\n<div class=\"content-ad\"></div>\n<p>React 애플리케이션을 새로 만들어 보세요:</p>\n<pre><code class=\"hljs language-js\">npx create-react-app github-webhooks-ui\ncd github-webhooks-ui\nnpm install axios\n</code></pre>\n<ol start=\"2\">\n<li>App.js 파일을 만들어 보세요</li>\n</ol>\n<p>App.js 파일 내용을 다음과 같이 변경해 주세요:</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">React</span>, { useState, useEffect } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"hljs-keyword\">import</span> axios <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'axios'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'./App.css'</span>;\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">App</span> = (<span class=\"hljs-params\"></span>) => {\n  <span class=\"hljs-keyword\">const</span> [events, setEvents] = <span class=\"hljs-title function_\">useState</span>([]);\n\n  <span class=\"hljs-title function_\">useEffect</span>(<span class=\"hljs-function\">() =></span> {\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">fetchEvents</span> = <span class=\"hljs-keyword\">async</span> (<span class=\"hljs-params\"></span>) => {\n      <span class=\"hljs-keyword\">try</span> {\n        <span class=\"hljs-keyword\">const</span> response = <span class=\"hljs-keyword\">await</span> axios.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'https://your-vercel-app.vercel.app/events'</span>);\n        <span class=\"hljs-title function_\">setEvents</span>(response.<span class=\"hljs-property\">data</span>);\n      } <span class=\"hljs-keyword\">catch</span> (error) {\n        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(<span class=\"hljs-string\">'Error fetching events'</span>, error);\n      }\n    };\n\n    <span class=\"hljs-title function_\">fetchEvents</span>();\n    <span class=\"hljs-keyword\">const</span> interval = <span class=\"hljs-built_in\">setInterval</span>(fetchEvents, <span class=\"hljs-number\">15000</span>);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-function\">() =></span> <span class=\"hljs-built_in\">clearInterval</span>(interval);\n  }, []);\n\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"App\"</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">h1</span>></span>GitHub Repository Events<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">h1</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">ul</span>></span>\n        {events.map(event => (\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">li</span> <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">{event._id}</span>></span>\n            {event.type === 'push' &#x26;&#x26; `${event.author} pushed to ${event.to_branch} on ${new Date(event.timestamp).toUTCString()}`}\n            {event.type === 'pull_request' &#x26;&#x26; `${event.author} submitted a pull request from ${event.from_branch} to ${event.to_branch} on ${new Date(event.timestamp).toUTCString()}`}\n            {event.type === 'merge' &#x26;&#x26; `${event.author} merged branch ${event.from_branch} to ${event.to_branch} on ${new Date(event.timestamp).toUTCString()}`}\n          <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">li</span>></span>\n        ))}\n      <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">ul</span>></span>\n    <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">div</span>></span></span>\n  );\n};\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title class_\">App</span>;\n</code></pre>\n<ol start=\"3\">\n<li>React 앱 실행</li>\n</ol>\n<p>React 애플리케이션을 시작하려면:</p>\n<pre><code class=\"hljs language-js\">npm start\n</code></pre>\n<div class=\"content-ad\"></div>\n<h1>테스트 및 확인</h1>\n<ul>\n<li>GitHub 웹훅 업데이트:</li>\n</ul>\n<p>GitHub 웹훅 설정에서 Payload URL을 배포된 Vercel의 Flask 앱을 가리키도록 업데이트하십시오:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">https</span>:<span class=\"hljs-comment\">//your-vercel-app.vercel.app/webhook</span>\n</code></pre>\n<div class=\"content-ad\"></div>\n<ol start=\"2\">\n<li>트리거 이벤트:</li>\n</ol>\n<ul>\n<li>Push Action: 변경 사항을 만들어서 action-repo에 푸시합니다.</li>\n<li>Pull Request Action: 새 브랜치를 만들어서 변경 사항을 적용하고 푸시한 다음 풀 리퀘스트를 오픈합니다.</li>\n<li>Merge Action: 풀 리퀘스트를 병합합니다.</li>\n</ul>\n<ol start=\"3\">\n<li>확인: React 앱을 확인해서 이벤트가 올바르게 표시되는지 확인해보세요.</li>\n</ol>\n<h1>결론</h1>\n<div class=\"content-ad\"></div>\n<p>이 프로젝트에서는 다음을 배웠습니다:</p>\n<ul>\n<li>GitHub 웹훅 설정 및 처리 방법</li>\n<li>웹훅 이벤트를 처리하는 Flask 애플리케이션 생성</li>\n<li>MongoDB에 이벤트 저장</li>\n<li>React 프론트엔드를 사용하여 실시간 이벤트 표시</li>\n<li>Vercel에 Flask 애플리케이션 배포</li>\n</ul>\n<p>이 프로젝트는 다양한 기술을 통합하여 실시간 업데이트를 효율적으로 처리하는 풀 스택 애플리케이션을 보여줍니다. 궁금한 점이나 개선하고 싶은 부분이 있으면 인증, 추가적인 이벤트 유형 또는 더 다양하고 진보된 UI 요소를 추가하여 이 프로젝트를 확장해보세요.</p>\n<p>즐거운 코딩되세요!</p>\n</body>\n</html>\n"},"__N_SSG":true}