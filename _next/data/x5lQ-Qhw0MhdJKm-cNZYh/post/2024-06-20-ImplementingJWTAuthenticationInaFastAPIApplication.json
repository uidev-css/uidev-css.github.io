{"pageProps":{"post":{"title":"ë¹ ë¥¸ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ JWT ì¸ì¦ êµ¬í˜„í•˜ê¸°","description":"","date":"2024-06-20 14:08","slug":"2024-06-20-ImplementingJWTAuthenticationInaFastAPIApplication","content":"\n\nì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì—ì„œëŠ” FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ JWT (JSON Web Token) ì¸ì¦ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•˜ê² ìŠµë‹ˆë‹¤. JWTëŠ” ë‘ ë‹¹ì‚¬ì ê°„ì— ì£¼ì¥ì„ ë‚˜íƒ€ë‚´ëŠ” ì»´íŒ©íŠ¸í•˜ê³  URL-ì•ˆì „í•œ ìˆ˜ë‹¨ìœ¼ë¡œ, ë³´ì•ˆ ì¸ì¦ì— ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-20-ImplementingJWTAuthenticationInaFastAPIApplication_0.png)\n\n## JWTë€ ë¬´ì—‡ì¸ê°€ìš”?\n\nJWTëŠ” JSON Web Tokenì˜ ì•½ìì…ë‹ˆë‹¤. ì¼ë¶€ ì£¼ì¥ì„ ë‚˜íƒ€ë‚´ëŠ” í† í°ì„ ìƒì„±í•˜ê¸° ìœ„í•œ í‘œì¤€ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í† í°ë“¤ì€ ë¹„ë°€ í‚¤ ë˜ëŠ” ê³µê°œ/ê°œì¸ í‚¤ ìŒìœ¼ë¡œ ì„œëª…ë©ë‹ˆë‹¤. ë‹¤ìŒì€ JWTê°€ ì‘ë™í•˜ëŠ” ê°„ë‹¨í•œ ì„¤ëª…ì…ë‹ˆë‹¤:\n\n<div class=\"content-ad\"></div>\n\n- í—¤ë”: ì¼ë°˜ì ìœ¼ë¡œ í† í° ìœ í˜• (JWT)ê³¼ ì„œëª… ì•Œê³ ë¦¬ì¦˜ (ì˜ˆ: HMAC SHA256 ë˜ëŠ” RSA)ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\n\n```json\n{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n```\n\n- í˜ì´ë¡œë“œ: í´ë ˆì„ì€ ê°œì²´(ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ì)ì— ê´€í•œ ë¬¸ì¥ê³¼ ì¶”ê°€ ë°ì´í„°ì…ë‹ˆë‹¤.\n\n```json\n{\n  \"username\": \"rajan\",\n  \"email\": \"rajan12@rajan.com\"\n}\n```\n\n<div class=\"content-ad\"></div>\n\n- ì„œëª…: ì„œëª… ë¶€ë¶„ì„ ë§Œë“¤ë ¤ë©´ ì¸ì½”ë”©ëœ í—¤ë”, ì¸ì½”ë”©ëœ í˜ì´ë¡œë“œ, ë¹„ë°€í‚¤ ë° í—¤ë”ì—ì„œ ì§€ì •í•œ ì•Œê³ ë¦¬ì¦˜ì„ ê°€ì ¸ ì™€ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n# secret id\nABjhjdsjfsh234fjhuih324$jihdfdshkgsog\n```\n\n## JWTì˜ ì¥ì :\n\n- ê°„ê²°í•¨: JWTëŠ” ê°„ê²°í•˜ë©° URL, POST ë§¤ê°œë³€ìˆ˜ ë˜ëŠ” HTTP í—¤ë” ì•ˆì— ì „ì†¡í•  ìˆ˜ ìˆì–´ ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.\n- ìì²´ í¬í•¨: í˜ì´ë¡œë“œì—ëŠ” ì¸ì¦ì— í•„ìš”í•œ ëª¨ë“  ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆì–´ ì—¬ëŸ¬ ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## FastAPIì—ì„œì˜ ë‹¨ê³„ë³„ êµ¬í˜„\n\n## ë‹¨ê³„ 1: ì˜ì¡´ì„± ì„¤ì •\n\në¨¼ì €, FastAPIì™€ ê´€ë ¨ ì˜ì¡´ì„±ì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:\n\n```js\npip install fastapi \npip install passlib \npip install python-jose\n```\n\n<div class=\"content-ad\"></div>\n\n## ë‹¨ê³„ 2: ëª¨ë¸ ë° ìŠ¤í‚¤ë§ˆ ì •ì˜\n\nì‚¬ìš©ì ëª¨ë¸ê³¼ ìš”ì²­/ì‘ë‹µ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.\n\n## models.py\n\n```python\n# models.py\n\nfrom pydantic import BaseModel\nfrom typing import List\n\nclass User(BaseModel):\n    username: str\n    email: str\n    hashed_password: str\n\n# ë©”ëª¨ë¦¬ ë‚´ \"ë°ì´í„°ë² ì´ìŠ¤\"\nfake_users_db: List[User] = []\nblocklist_token = []\n```\n\n<div class=\"content-ad\"></div>\n\nì´ ë¸”ë¡œê·¸ì—ì„œëŠ” ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•©ë‹ˆë‹¤. ìœ„ì˜ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, fake_user_dbë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ë¥¼ ì €ì¥í•˜ê³ , blocklist_tokenì„ ì‚¬ìš©í•˜ì—¬ ì°¨ë‹¨ëœ í† í°ì„ ì €ì¥í•©ë‹ˆë‹¤.\n\n## schemas.py\n\n```js\nfrom pydantic import BaseModel, EmailStr\n\nclass UserCreate(BaseModel):\n    username: str\n    email: EmailStr\n    password: str\n\nclass UserResponse(BaseModel):\n    username: str\n    email: str\n\nclass Token(BaseModel):\n    access_token: str\n    token_type: str\n```\n\nì´ ìŠ¤í‚¤ë§ˆ ëª¨ë¸ì€ ì‚¬ìš©ì ìš”ì²­ ë³¸ë¬¸ì„ ìœ íš¨ì„± ê²€ì‚¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ì ì ˆí•œ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì „ì†¡í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## ë‹¨ê³„ 3: ì„¤ì • ìƒìˆ˜\n\n## constants.py\n\n```js\nSECRET_KEY = \"your_secret_key\"\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\n```\n\n- ì´ íŒŒì¼ì€ ì£¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìƒìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## ë‹¨ê³„ 4: ì¸ì¦ í•¸ë“¤ëŸ¬\n\nì´ê²ƒì€ ìš°ë¦¬ì˜ JWT ì¸ì¦ì˜ í•µì‹¬ì…ë‹ˆë‹¤. ì´ëŠ” ë¹„ë°€ë²ˆí˜¸ í•´ì‹±, í† í° ìƒì„± ë° ì‚¬ìš©ì ì¸ì¦ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n## auth.py\n\n```python\nfrom fastapi import HTTPException, status\nfrom jose import jwt, JWTError\nfrom passlib.context import CryptContext\nfrom datetime import datetime, timedelta\nfrom typing import Optional\nfrom models import fake_users_db, blocklist_token\nfrom constants import SECRET_KEY, ALGORITHM\nfrom fastapi.security import HTTPAuthorizationCredentials, HTTPBearer\nfrom fastapi import Security\n\nclass AuthHandler:\n    security = HTTPBearer()\n    pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n    async def verify_password(self, plain_password, hashed_password):\n        return self.pwd_context.verify(plain_password, hashed_password)\n\n    async def get_password_hash(self, password):\n        return self.pwd_context.hash(password)\n\n    async def create_access_token(self, data: dict, expires_delta: Optional[timedelta] = None):\n        to_encode = data.copy()\n        if expires_delta:\n            expire = datetime.utcnow() + expires_delta\n        else:\n            expire = datetime.utcnow() + timedelta(minutes=15)\n        to_encode.update({\"exp\": expire})\n        encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n        return encoded_jwt\n\n    async def get_user(self, username: str):\n        user = next((user for user in fake_users_db if user.username == username), None)\n        return user\n\n    async def authenticate_user(self, username: str, password: str):\n        user = await self.get_user(username)\n        if not user:\n            return False\n        if not await self.verify_password(password, user.hashed_password):\n            return False\n        return user\n    \n    async def blocklist_token(self, token):\n        blocklist_token.append(token)\n\n    async def istokenblock(self, token):\n        return token in blocklist_token\n\n    async def auth_wrapper(self, auth: HTTPAuthorizationCredentials = Security(security)):\n        token = auth.credentials\n        if not token or await self.istokenblock(token):\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Not authenticated\",\n                headers={\"WWW-Authenticate\": \"Bearer\"},\n            )\n        try:\n            payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n            username: str = payload.get(\"sub\")\n            if username is None:\n                raise HTTPException(\n                    status_code=status.HTTP_401_UNAUTHORIZED,\n                    detail=\"Not authenticated\",\n                    headers={\"WWW-Authenticate\": \"Bearer\"},\n                )\n        except JWTError:\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Not authenticated\",\n                headers={\"WWW-Authenticate\": \"Bearer\"},\n            )\n        user = await self.get_user(username)\n        if user is None:\n            raise HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=\"Not authenticated\",\n                headers={\"WWW-Authenticate\": \"Bearer\"},\n            )\n        return user\n```\n\n<div class=\"content-ad\"></div>\n\n- ì´ê³³ì€ ì¸ì¦ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ verify_password, authenticate_user, blocklist_token ë“±ê³¼ ê°™ì€ ëª¨ë“  ì¤‘ìš”í•œ ê¸°ëŠ¥ì„ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n## ë‹¨ê³„ 5: ì‚¬ìš©ì ë“±ë¡ ë° í† í° ìƒì„±\n\n## controller.py\n\n```js\nfrom schemas import UserCreate, UserResponse, Token\nfrom fastapi import APIRouter\nfrom auth import AuthHandler\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom datetime import timedelta\nfrom models import User, fake_users_db\nfrom constants import ACCESS_TOKEN_EXPIRE_MINUTES\nfrom fastapi.security import HTTPAuthorizationCredentials\nfrom fastapi import Security\n\n\nauth_router = APIRouter()\nauth_handle = AuthHandler()\n\n@auth_router.post(\"/register\", response_model=UserResponse)\nasync def register_user(user: UserCreate):\n    if await auth_handle.get_user(user.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"ì´ë¯¸ ë“±ë¡ëœ ì‚¬ìš©ìëª…ì…ë‹ˆë‹¤.\",\n        )\n    hashed_password = await auth_handle.get_password_hash(user.password)\n    new_user = User(username=user.username, email=user.email, hashed_password=hashed_password)\n    fake_users_db.append(new_user)\n    return new_user\n\n@auth_router.post(\"/token\", response_model=Token)\nasync def login_for_access_token(form_data: OAuth2PasswordRequestForm = Depends()):\n    user = await auth_handle.authenticate_user(form_data.username, form_data.password)\n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"ì˜ëª»ëœ ì‚¬ìš©ìëª… ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    access_token_expires = timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    access_token = await auth_handle.create_access_token(\n        data={\"sub\": user.username}, expires_delta=access_token_expires\n    )\n    return {\"access_token\": access_token, \"token_type\": \"bearer\"}\n\n@auth_router.post(\"/logout\")\nasync def logout_access_token(auth: HTTPAuthorizationCredentials = Security(auth_handle.security)):\n    await auth_handle.blocklist_token(auth.credentials)\n    return {\"message\": \"ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.\"}\n```\n\n<div class=\"content-ad\"></div>\n\nì—¬ê¸°ì—ì„œëŠ” ì‚¬ìš©ìë¥¼ ë“±ë¡í•˜ê³  ë¡œê·¸ì¸í•˜ë©° í† í°ì„ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\n## ë‹¨ê³„ 6: FastAPIì™€ í†µí•©í•˜ê¸°\n\në§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë“  ê²ƒì„ ì£¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•˜ì„¸ìš”.\n\n## main.py\n\n<div class=\"content-ad\"></div>\n\n```python\nfrom fastapi import FastAPI, Depends\nfrom controller import auth_router\nfrom models import User\nfrom auth import AuthHandler\n\napp = FastAPI()\nauth_handler = AuthHandler()\napp.include_router(auth_router, prefix=\"/auth\", tags=[\"Auth\"])\n\n@app.get(\"/auth-test\")\nasync def read_users_me(current_user: User = Depends(auth_handler.auth_wrapper)):\n    return current_user\n```\n\nJWT ì¸ì¦ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë¼ìš°íŠ¸ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\n\nì—¬ê¸° GitHub ë§í¬ ìˆì–´ìš”!!\n\n## ê²°ë¡ \n\n\n<div class=\"content-ad\"></div>\n\nFastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì— JWT ì¸ì¦ì„ ì„¤ì •í–ˆêµ°ìš”. ì´ ì„¤ì •ì—ëŠ” ì‚¬ìš©ì ë“±ë¡, JWT í† í° ìƒì„±ì„ ìœ„í•œ ë¡œê·¸ì¸ ë° ë³´í˜¸ëœ ê²½ë¡œë¥¼ ìœ„í•œ í† í° í™•ì¸ì´ í¬í•¨ë˜ì–´ ìˆì–´ìš”. JWTëŠ” ì¸ì¦ëœ ì‚¬ìš©ìë§Œ íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ì—¬ APIë¥¼ ì•ˆì „í•˜ê³  ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.\n\n## ì°¸ê³ :\n\n- https://fastapi.tiangolo.com/\n\në…ì„œí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§Œì•½ ì˜ëª»ëœ ë¶€ë¶„ì´ë‚˜ ë” ì¢‹ì€ ë°©ë²•ì„ ì•Œê³  ê³„ì‹œë‹¤ë©´ ì•„ë˜ ëŒ“ê¸€ì— ì•Œë ¤ì£¼ì„¸ìš”.\n\n<div class=\"content-ad\"></div>\n\në§Œì•½ ì´ ê²Œì‹œë¬¼ì´ ë§ˆìŒì— ë“ ë‹¤ë©´ ì•„ë˜ì˜ ğŸ‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ìœ ìš©í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”. ë˜í•œ GitHubì—ì„œ ì €ë¥¼ íŒ”ë¡œìš°í•˜ê³  Linkedinì—ì„œ ì €ì™€ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ogImage":{"url":"/assets/img/2024-06-20-ImplementingJWTAuthenticationInaFastAPIApplication_0.png"},"coverImage":"/assets/img/2024-06-20-ImplementingJWTAuthenticationInaFastAPIApplication_0.png","tag":["Tech"],"readingTime":9},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>ì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì—ì„œëŠ” FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ JWT (JSON Web Token) ì¸ì¦ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•˜ê² ìŠµë‹ˆë‹¤. JWTëŠ” ë‘ ë‹¹ì‚¬ì ê°„ì— ì£¼ì¥ì„ ë‚˜íƒ€ë‚´ëŠ” ì»´íŒ©íŠ¸í•˜ê³  URL-ì•ˆì „í•œ ìˆ˜ë‹¨ìœ¼ë¡œ, ë³´ì•ˆ ì¸ì¦ì— ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<p><img src=\"/assets/img/2024-06-20-ImplementingJWTAuthenticationInaFastAPIApplication_0.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<h2>JWTë€ ë¬´ì—‡ì¸ê°€ìš”?</h2>\n<p>JWTëŠ” JSON Web Tokenì˜ ì•½ìì…ë‹ˆë‹¤. ì¼ë¶€ ì£¼ì¥ì„ ë‚˜íƒ€ë‚´ëŠ” í† í°ì„ ìƒì„±í•˜ê¸° ìœ„í•œ í‘œì¤€ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í† í°ë“¤ì€ ë¹„ë°€ í‚¤ ë˜ëŠ” ê³µê°œ/ê°œì¸ í‚¤ ìŒìœ¼ë¡œ ì„œëª…ë©ë‹ˆë‹¤. ë‹¤ìŒì€ JWTê°€ ì‘ë™í•˜ëŠ” ê°„ë‹¨í•œ ì„¤ëª…ì…ë‹ˆë‹¤:</p>\n<ul>\n<li>í—¤ë”: ì¼ë°˜ì ìœ¼ë¡œ í† í° ìœ í˜• (JWT)ê³¼ ì„œëª… ì•Œê³ ë¦¬ì¦˜ (ì˜ˆ: HMAC SHA256 ë˜ëŠ” RSA)ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"alg\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"HS256\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"typ\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"JWT\"</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<ul>\n<li>í˜ì´ë¡œë“œ: í´ë ˆì„ì€ ê°œì²´(ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ì)ì— ê´€í•œ ë¬¸ì¥ê³¼ ì¶”ê°€ ë°ì´í„°ì…ë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"username\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"rajan\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"email\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"rajan12@rajan.com\"</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<ul>\n<li>ì„œëª…: ì„œëª… ë¶€ë¶„ì„ ë§Œë“¤ë ¤ë©´ ì¸ì½”ë”©ëœ í—¤ë”, ì¸ì½”ë”©ëœ í˜ì´ë¡œë“œ, ë¹„ë°€í‚¤ ë° í—¤ë”ì—ì„œ ì§€ì •í•œ ì•Œê³ ë¦¬ì¦˜ì„ ê°€ì ¸ ì™€ì•¼ í•©ë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\"># secret id\n<span class=\"hljs-title class_\">ABjhjdsjfsh234</span>fjhuih324$jihdfdshkgsog\n</code></pre>\n<h2>JWTì˜ ì¥ì :</h2>\n<ul>\n<li>ê°„ê²°í•¨: JWTëŠ” ê°„ê²°í•˜ë©° URL, POST ë§¤ê°œë³€ìˆ˜ ë˜ëŠ” HTTP í—¤ë” ì•ˆì— ì „ì†¡í•  ìˆ˜ ìˆì–´ ëª¨ë°”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.</li>\n<li>ìì²´ í¬í•¨: í˜ì´ë¡œë“œì—ëŠ” ì¸ì¦ì— í•„ìš”í•œ ëª¨ë“  ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆì–´ ì—¬ëŸ¬ ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n</ul>\n<h2>FastAPIì—ì„œì˜ ë‹¨ê³„ë³„ êµ¬í˜„</h2>\n<h2>ë‹¨ê³„ 1: ì˜ì¡´ì„± ì„¤ì •</h2>\n<p>ë¨¼ì €, FastAPIì™€ ê´€ë ¨ ì˜ì¡´ì„±ì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:</p>\n<pre><code class=\"hljs language-js\">pip install fastapi \npip install passlib \npip install python-jose\n</code></pre>\n<h2>ë‹¨ê³„ 2: ëª¨ë¸ ë° ìŠ¤í‚¤ë§ˆ ì •ì˜</h2>\n<p>ì‚¬ìš©ì ëª¨ë¸ê³¼ ìš”ì²­/ì‘ë‹µ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ê²ƒì…ë‹ˆë‹¤.</p>\n<h2>models.py</h2>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-comment\"># models.py</span>\n\n<span class=\"hljs-keyword\">from</span> pydantic <span class=\"hljs-keyword\">import</span> BaseModel\n<span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> <span class=\"hljs-type\">List</span>\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-title class_ inherited__\">BaseModel</span>):\n    username: <span class=\"hljs-built_in\">str</span>\n    email: <span class=\"hljs-built_in\">str</span>\n    hashed_password: <span class=\"hljs-built_in\">str</span>\n\n<span class=\"hljs-comment\"># ë©”ëª¨ë¦¬ ë‚´ \"ë°ì´í„°ë² ì´ìŠ¤\"</span>\nfake_users_db: <span class=\"hljs-type\">List</span>[User] = []\nblocklist_token = []\n</code></pre>\n<p>ì´ ë¸”ë¡œê·¸ì—ì„œëŠ” ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•©ë‹ˆë‹¤. ìœ„ì˜ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, fake_user_dbë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ë¥¼ ì €ì¥í•˜ê³ , blocklist_tokenì„ ì‚¬ìš©í•˜ì—¬ ì°¨ë‹¨ëœ í† í°ì„ ì €ì¥í•©ë‹ˆë‹¤.</p>\n<h2>schemas.py</h2>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">from</span> pydantic <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">BaseModel</span>, <span class=\"hljs-title class_\">EmailStr</span>\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserCreate</span>(<span class=\"hljs-title class_\">BaseModel</span>):\n    <span class=\"hljs-attr\">username</span>: str\n    <span class=\"hljs-attr\">email</span>: <span class=\"hljs-title class_\">EmailStr</span>\n    <span class=\"hljs-attr\">password</span>: str\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserResponse</span>(<span class=\"hljs-title class_\">BaseModel</span>):\n    <span class=\"hljs-attr\">username</span>: str\n    <span class=\"hljs-attr\">email</span>: str\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Token</span>(<span class=\"hljs-title class_\">BaseModel</span>):\n    <span class=\"hljs-attr\">access_token</span>: str\n    <span class=\"hljs-attr\">token_type</span>: str\n</code></pre>\n<p>ì´ ìŠ¤í‚¤ë§ˆ ëª¨ë¸ì€ ì‚¬ìš©ì ìš”ì²­ ë³¸ë¬¸ì„ ìœ íš¨ì„± ê²€ì‚¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ì ì ˆí•œ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì „ì†¡í•©ë‹ˆë‹¤.</p>\n<h2>ë‹¨ê³„ 3: ì„¤ì • ìƒìˆ˜</h2>\n<h2>constants.py</h2>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-variable constant_\">SECRET_KEY</span> = <span class=\"hljs-string\">\"your_secret_key\"</span>\n<span class=\"hljs-variable constant_\">ALGORITHM</span> = <span class=\"hljs-string\">\"HS256\"</span>\n<span class=\"hljs-variable constant_\">ACCESS_TOKEN_EXPIRE_MINUTES</span> = <span class=\"hljs-number\">30</span>\n</code></pre>\n<ul>\n<li>ì´ íŒŒì¼ì€ ì£¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìƒìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</li>\n</ul>\n<h2>ë‹¨ê³„ 4: ì¸ì¦ í•¸ë“¤ëŸ¬</h2>\n<p>ì´ê²ƒì€ ìš°ë¦¬ì˜ JWT ì¸ì¦ì˜ í•µì‹¬ì…ë‹ˆë‹¤. ì´ëŠ” ë¹„ë°€ë²ˆí˜¸ í•´ì‹±, í† í° ìƒì„± ë° ì‚¬ìš©ì ì¸ì¦ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>\n<h2>auth.py</h2>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> fastapi <span class=\"hljs-keyword\">import</span> HTTPException, status\n<span class=\"hljs-keyword\">from</span> jose <span class=\"hljs-keyword\">import</span> jwt, JWTError\n<span class=\"hljs-keyword\">from</span> passlib.context <span class=\"hljs-keyword\">import</span> CryptContext\n<span class=\"hljs-keyword\">from</span> datetime <span class=\"hljs-keyword\">import</span> datetime, timedelta\n<span class=\"hljs-keyword\">from</span> typing <span class=\"hljs-keyword\">import</span> <span class=\"hljs-type\">Optional</span>\n<span class=\"hljs-keyword\">from</span> models <span class=\"hljs-keyword\">import</span> fake_users_db, blocklist_token\n<span class=\"hljs-keyword\">from</span> constants <span class=\"hljs-keyword\">import</span> SECRET_KEY, ALGORITHM\n<span class=\"hljs-keyword\">from</span> fastapi.security <span class=\"hljs-keyword\">import</span> HTTPAuthorizationCredentials, HTTPBearer\n<span class=\"hljs-keyword\">from</span> fastapi <span class=\"hljs-keyword\">import</span> Security\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">AuthHandler</span>:\n    security = HTTPBearer()\n    pwd_context = CryptContext(schemes=[<span class=\"hljs-string\">\"bcrypt\"</span>], deprecated=<span class=\"hljs-string\">\"auto\"</span>)\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">verify_password</span>(<span class=\"hljs-params\">self, plain_password, hashed_password</span>):\n        <span class=\"hljs-keyword\">return</span> self.pwd_context.verify(plain_password, hashed_password)\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_password_hash</span>(<span class=\"hljs-params\">self, password</span>):\n        <span class=\"hljs-keyword\">return</span> self.pwd_context.<span class=\"hljs-built_in\">hash</span>(password)\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">create_access_token</span>(<span class=\"hljs-params\">self, data: <span class=\"hljs-built_in\">dict</span>, expires_delta: <span class=\"hljs-type\">Optional</span>[timedelta] = <span class=\"hljs-literal\">None</span></span>):\n        to_encode = data.copy()\n        <span class=\"hljs-keyword\">if</span> expires_delta:\n            expire = datetime.utcnow() + expires_delta\n        <span class=\"hljs-keyword\">else</span>:\n            expire = datetime.utcnow() + timedelta(minutes=<span class=\"hljs-number\">15</span>)\n        to_encode.update({<span class=\"hljs-string\">\"exp\"</span>: expire})\n        encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n        <span class=\"hljs-keyword\">return</span> encoded_jwt\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_user</span>(<span class=\"hljs-params\">self, username: <span class=\"hljs-built_in\">str</span></span>):\n        user = <span class=\"hljs-built_in\">next</span>((user <span class=\"hljs-keyword\">for</span> user <span class=\"hljs-keyword\">in</span> fake_users_db <span class=\"hljs-keyword\">if</span> user.username == username), <span class=\"hljs-literal\">None</span>)\n        <span class=\"hljs-keyword\">return</span> user\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">authenticate_user</span>(<span class=\"hljs-params\">self, username: <span class=\"hljs-built_in\">str</span>, password: <span class=\"hljs-built_in\">str</span></span>):\n        user = <span class=\"hljs-keyword\">await</span> self.get_user(username)\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> user:\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> <span class=\"hljs-keyword\">await</span> self.verify_password(password, user.hashed_password):\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\n        <span class=\"hljs-keyword\">return</span> user\n    \n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">blocklist_token</span>(<span class=\"hljs-params\">self, token</span>):\n        blocklist_token.append(token)\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">istokenblock</span>(<span class=\"hljs-params\">self, token</span>):\n        <span class=\"hljs-keyword\">return</span> token <span class=\"hljs-keyword\">in</span> blocklist_token\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">auth_wrapper</span>(<span class=\"hljs-params\">self, auth: HTTPAuthorizationCredentials = Security(<span class=\"hljs-params\">security</span>)</span>):\n        token = auth.credentials\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> token <span class=\"hljs-keyword\">or</span> <span class=\"hljs-keyword\">await</span> self.istokenblock(token):\n            <span class=\"hljs-keyword\">raise</span> HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=<span class=\"hljs-string\">\"Not authenticated\"</span>,\n                headers={<span class=\"hljs-string\">\"WWW-Authenticate\"</span>: <span class=\"hljs-string\">\"Bearer\"</span>},\n            )\n        <span class=\"hljs-keyword\">try</span>:\n            payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n            username: <span class=\"hljs-built_in\">str</span> = payload.get(<span class=\"hljs-string\">\"sub\"</span>)\n            <span class=\"hljs-keyword\">if</span> username <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\n                <span class=\"hljs-keyword\">raise</span> HTTPException(\n                    status_code=status.HTTP_401_UNAUTHORIZED,\n                    detail=<span class=\"hljs-string\">\"Not authenticated\"</span>,\n                    headers={<span class=\"hljs-string\">\"WWW-Authenticate\"</span>: <span class=\"hljs-string\">\"Bearer\"</span>},\n                )\n        <span class=\"hljs-keyword\">except</span> JWTError:\n            <span class=\"hljs-keyword\">raise</span> HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=<span class=\"hljs-string\">\"Not authenticated\"</span>,\n                headers={<span class=\"hljs-string\">\"WWW-Authenticate\"</span>: <span class=\"hljs-string\">\"Bearer\"</span>},\n            )\n        user = <span class=\"hljs-keyword\">await</span> self.get_user(username)\n        <span class=\"hljs-keyword\">if</span> user <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">None</span>:\n            <span class=\"hljs-keyword\">raise</span> HTTPException(\n                status_code=status.HTTP_401_UNAUTHORIZED,\n                detail=<span class=\"hljs-string\">\"Not authenticated\"</span>,\n                headers={<span class=\"hljs-string\">\"WWW-Authenticate\"</span>: <span class=\"hljs-string\">\"Bearer\"</span>},\n            )\n        <span class=\"hljs-keyword\">return</span> user\n</code></pre>\n<ul>\n<li>ì´ê³³ì€ ì¸ì¦ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ verify_password, authenticate_user, blocklist_token ë“±ê³¼ ê°™ì€ ëª¨ë“  ì¤‘ìš”í•œ ê¸°ëŠ¥ì„ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.</li>\n</ul>\n<h2>ë‹¨ê³„ 5: ì‚¬ìš©ì ë“±ë¡ ë° í† í° ìƒì„±</h2>\n<h2>controller.py</h2>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">from</span> schemas <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">UserCreate</span>, <span class=\"hljs-title class_\">UserResponse</span>, <span class=\"hljs-title class_\">Token</span>\n<span class=\"hljs-keyword\">from</span> fastapi <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">APIRouter</span>\n<span class=\"hljs-keyword\">from</span> auth <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">AuthHandler</span>\n<span class=\"hljs-keyword\">from</span> fastapi <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">APIRouter</span>, <span class=\"hljs-title class_\">Depends</span>, <span class=\"hljs-title class_\">HTTPException</span>, status\n<span class=\"hljs-keyword\">from</span> fastapi.<span class=\"hljs-property\">security</span> <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">OAuth2PasswordRequestForm</span>\n<span class=\"hljs-keyword\">from</span> datetime <span class=\"hljs-keyword\">import</span> timedelta\n<span class=\"hljs-keyword\">from</span> models <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">User</span>, fake_users_db\n<span class=\"hljs-keyword\">from</span> constants <span class=\"hljs-keyword\">import</span> <span class=\"hljs-variable constant_\">ACCESS_TOKEN_EXPIRE_MINUTES</span>\n<span class=\"hljs-keyword\">from</span> fastapi.<span class=\"hljs-property\">security</span> <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">HTTPAuthorizationCredentials</span>\n<span class=\"hljs-keyword\">from</span> fastapi <span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Security</span>\n\n\nauth_router = <span class=\"hljs-title class_\">APIRouter</span>()\nauth_handle = <span class=\"hljs-title class_\">AuthHandler</span>()\n\n@auth_router.<span class=\"hljs-title function_\">post</span>(<span class=\"hljs-string\">\"/register\"</span>, response_model=<span class=\"hljs-title class_\">UserResponse</span>)\n<span class=\"hljs-keyword\">async</span> def <span class=\"hljs-title function_\">register_user</span>(<span class=\"hljs-attr\">user</span>: <span class=\"hljs-title class_\">UserCreate</span>):\n    <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">await</span> auth_handle.<span class=\"hljs-title function_\">get_user</span>(user.<span class=\"hljs-property\">username</span>):\n        raise <span class=\"hljs-title class_\">HTTPException</span>(\n            status_code=status.<span class=\"hljs-property\">HTTP_400_BAD_REQUEST</span>,\n            detail=<span class=\"hljs-string\">\"ì´ë¯¸ ë“±ë¡ëœ ì‚¬ìš©ìëª…ì…ë‹ˆë‹¤.\"</span>,\n        )\n    hashed_password = <span class=\"hljs-keyword\">await</span> auth_handle.<span class=\"hljs-title function_\">get_password_hash</span>(user.<span class=\"hljs-property\">password</span>)\n    new_user = <span class=\"hljs-title class_\">User</span>(username=user.<span class=\"hljs-property\">username</span>, email=user.<span class=\"hljs-property\">email</span>, hashed_password=hashed_password)\n    fake_users_db.<span class=\"hljs-title function_\">append</span>(new_user)\n    <span class=\"hljs-keyword\">return</span> new_user\n\n@auth_router.<span class=\"hljs-title function_\">post</span>(<span class=\"hljs-string\">\"/token\"</span>, response_model=<span class=\"hljs-title class_\">Token</span>)\n<span class=\"hljs-keyword\">async</span> def <span class=\"hljs-title function_\">login_for_access_token</span>(<span class=\"hljs-attr\">form_data</span>: <span class=\"hljs-title class_\">OAuth2PasswordRequestForm</span> = <span class=\"hljs-title class_\">Depends</span>()):\n    user = <span class=\"hljs-keyword\">await</span> auth_handle.<span class=\"hljs-title function_\">authenticate_user</span>(form_data.<span class=\"hljs-property\">username</span>, form_data.<span class=\"hljs-property\">password</span>)\n    <span class=\"hljs-keyword\">if</span> not <span class=\"hljs-attr\">user</span>:\n        raise <span class=\"hljs-title class_\">HTTPException</span>(\n            status_code=status.<span class=\"hljs-property\">HTTP_401_UNAUTHORIZED</span>,\n            detail=<span class=\"hljs-string\">\"ì˜ëª»ëœ ì‚¬ìš©ìëª… ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.\"</span>,\n            headers={<span class=\"hljs-string\">\"WWW-Authenticate\"</span>: <span class=\"hljs-string\">\"Bearer\"</span>},\n        )\n    access_token_expires = <span class=\"hljs-title function_\">timedelta</span>(minutes=<span class=\"hljs-variable constant_\">ACCESS_TOKEN_EXPIRE_MINUTES</span>)\n    access_token = <span class=\"hljs-keyword\">await</span> auth_handle.<span class=\"hljs-title function_\">create_access_token</span>(\n        data={<span class=\"hljs-string\">\"sub\"</span>: user.<span class=\"hljs-property\">username</span>}, expires_delta=access_token_expires\n    )\n    <span class=\"hljs-keyword\">return</span> {<span class=\"hljs-string\">\"access_token\"</span>: access_token, <span class=\"hljs-string\">\"token_type\"</span>: <span class=\"hljs-string\">\"bearer\"</span>}\n\n@auth_router.<span class=\"hljs-title function_\">post</span>(<span class=\"hljs-string\">\"/logout\"</span>)\n<span class=\"hljs-keyword\">async</span> def <span class=\"hljs-title function_\">logout_access_token</span>(<span class=\"hljs-attr\">auth</span>: <span class=\"hljs-title class_\">HTTPAuthorizationCredentials</span> = <span class=\"hljs-title class_\">Security</span>(auth_handle.<span class=\"hljs-property\">security</span>)):\n    <span class=\"hljs-keyword\">await</span> auth_handle.<span class=\"hljs-title function_\">blocklist_token</span>(auth.<span class=\"hljs-property\">credentials</span>)\n    <span class=\"hljs-keyword\">return</span> {<span class=\"hljs-string\">\"message\"</span>: <span class=\"hljs-string\">\"ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.\"</span>}\n</code></pre>\n<p>ì—¬ê¸°ì—ì„œëŠ” ì‚¬ìš©ìë¥¼ ë“±ë¡í•˜ê³  ë¡œê·¸ì¸í•˜ë©° í† í°ì„ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.</p>\n<h2>ë‹¨ê³„ 6: FastAPIì™€ í†µí•©í•˜ê¸°</h2>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ëª¨ë“  ê²ƒì„ ì£¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•˜ì„¸ìš”.</p>\n<h2>main.py</h2>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> fastapi <span class=\"hljs-keyword\">import</span> FastAPI, Depends\n<span class=\"hljs-keyword\">from</span> controller <span class=\"hljs-keyword\">import</span> auth_router\n<span class=\"hljs-keyword\">from</span> models <span class=\"hljs-keyword\">import</span> User\n<span class=\"hljs-keyword\">from</span> auth <span class=\"hljs-keyword\">import</span> AuthHandler\n\napp = FastAPI()\nauth_handler = AuthHandler()\napp.include_router(auth_router, prefix=<span class=\"hljs-string\">\"/auth\"</span>, tags=[<span class=\"hljs-string\">\"Auth\"</span>])\n\n<span class=\"hljs-meta\">@app.get(<span class=\"hljs-params\"><span class=\"hljs-string\">\"/auth-test\"</span></span>)</span>\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">read_users_me</span>(<span class=\"hljs-params\">current_user: User = Depends(<span class=\"hljs-params\">auth_handler.auth_wrapper</span>)</span>):\n    <span class=\"hljs-keyword\">return</span> current_user\n</code></pre>\n<p>JWT ì¸ì¦ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë¼ìš°íŠ¸ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ì—¬ê¸° GitHub ë§í¬ ìˆì–´ìš”!!</p>\n<h2>ê²°ë¡ </h2>\n<p>FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì— JWT ì¸ì¦ì„ ì„¤ì •í–ˆêµ°ìš”. ì´ ì„¤ì •ì—ëŠ” ì‚¬ìš©ì ë“±ë¡, JWT í† í° ìƒì„±ì„ ìœ„í•œ ë¡œê·¸ì¸ ë° ë³´í˜¸ëœ ê²½ë¡œë¥¼ ìœ„í•œ í† í° í™•ì¸ì´ í¬í•¨ë˜ì–´ ìˆì–´ìš”. JWTëŠ” ì¸ì¦ëœ ì‚¬ìš©ìë§Œ íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ì—¬ APIë¥¼ ì•ˆì „í•˜ê³  ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.</p>\n<h2>ì°¸ê³ :</h2>\n<ul>\n<li><a href=\"https://fastapi.tiangolo.com/\" rel=\"nofollow\" target=\"_blank\">https://fastapi.tiangolo.com/</a></li>\n</ul>\n<p>ë…ì„œí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§Œì•½ ì˜ëª»ëœ ë¶€ë¶„ì´ë‚˜ ë” ì¢‹ì€ ë°©ë²•ì„ ì•Œê³  ê³„ì‹œë‹¤ë©´ ì•„ë˜ ëŒ“ê¸€ì— ì•Œë ¤ì£¼ì„¸ìš”.</p>\n<p>ë§Œì•½ ì´ ê²Œì‹œë¬¼ì´ ë§ˆìŒì— ë“ ë‹¤ë©´ ì•„ë˜ì˜ ğŸ‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ìœ ìš©í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”. ë˜í•œ GitHubì—ì„œ ì €ë¥¼ íŒ”ë¡œìš°í•˜ê³  Linkedinì—ì„œ ì €ì™€ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n</body>\n</html>\n"},"__N_SSG":true}