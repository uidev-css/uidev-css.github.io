{"pageProps":{"post":{"title":"Flutterë¡œ ì½”ë“œ ìƒì„±í•˜ê¸°  source_genê³¼ build_runner ì‚¬ìš© ë°©ë²•","description":"","date":"2024-06-21 22:30","slug":"2024-06-21-CodeGenerationusingFluttersource_genbuild_runner","content":"\n![2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_0.png](/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_0.png)\n\nìµœê·¼ì—ëŠ” ì „ë¬¸ì ì¸ í”ŒëŸ¬í„° ê°œë°œìë¡œì„œ ë§¤ì¼ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê³  ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì¼ìƒì ì¸ ë°˜ë³µ ì‘ì—…ì„ ë” ë‚˜ì€ ë°©ë²•ê³¼ ì•ˆì „í•œ ë°©ë²•ìœ¼ë¡œ ìˆ˜í–‰í•˜ê³  ì‹¶ì—ˆì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬í•œ í”„ë¡œì„¸ìŠ¤ëŠ” ì½”ë“œ ìƒì„±ì…ë‹ˆë‹¤. ì§„ë³´ë¥¼ ì´ë£¨ëŠ” ë° í•µì‹¬ì€ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ë° ìˆìŠµë‹ˆë‹¤. ë°˜ë³µì ì¸ ì‘ì—…ì€ ì§€ë£¨í•˜ê³  ë‹¨ì¡°ë¡œìš´ ì„±ì§ˆ ë•Œë¬¸ì— ë³´í¸ì ìœ¼ë¡œ ì‹«ì–´í•˜ëŠ”ë°, ì´ëŸ¬í•œ í™œë™ì—ì„œ ì‚¬ëŒë“¤ì€ ì£¼ëª©í•  ë§Œí¼ ë¹„íš¨ìœ¨ì ì´ë©° ì¢…ì¢… ì˜¤ë¥˜ë¥¼ ë²”í•©ë‹ˆë‹¤.\n\nì½”ë“œ ìƒì„±ì€ íŠ¹ì • ì…ë ¥ ë°ì´í„°ë‚˜ ê·œì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. Flutterì—ì„œ ì½”ë“œ ìƒì„±ì€ JSON ë°ì´í„°, ë°ì´í„°ë² ì´ìŠ¤ ë° ì›¹ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ë‹¤ì–‘í•œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì½”ë“œ ìƒì„±ì€ ë°˜ë³µì ì¸ ì‘ì—…ì„ ìë™í™”í•˜ê³  í•„ìš”í•œ ìˆ˜ë™ ì½”ë”©ëŸ‰ì„ ì¤„ì„ìœ¼ë¡œì¨ ì½”ë“œ ì‘ì„±ê³¼ ìœ ì§€ë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì½”ë“œ ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë§ì€ íŒ¨í‚¤ì§€ë“¤ì´ ìˆìŠµë‹ˆë‹¤. json_serializableê³¼ ê°™ì€ íŒ¨í‚¤ì§€ì˜ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ëŠ” ìš°ë¦¬ì—ê²Œ fromJson, toJsonê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì¼ë ¨ì˜ ì£¼ì„ì„ ì œê³µí•˜ì—¬, í•´ë‹¹ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ë ¤ëŠ” í–‰ì— ì£¼ì„ì„ ë„£ê¸°ë§Œ í•˜ë©´ ì´ëŸ¬í•œ ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nì˜ˆì‹œ:\n\n| First Header | Second Header |\n| ------------ | ------------- |\n| Content Cell | Content Cell  |\n| Content Cell | Content Cell  |\n\n<div class=\"content-ad\"></div>\n\nì´ ê¸€ì—ì„œëŠ” ì‚¬ìš©ì ì •ì˜ ì£¼ì„ ë° ìƒì„±ê¸°ë¥¼ ìƒì„±í•˜ì—¬ ì£¼ì„ì´ ë‹¬ë¦° í´ë˜ìŠ¤ì— ëŒ€í•´ fromJson, toJson ë° copyWith ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ê² ìŠµë‹ˆë‹¤.\n\nìš°ë¦¬ê°€ ìì²´ ì½”ë“œ ìƒì„±ê¸°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ íŒ¨í‚¤ì§€ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\n\n- source_gen | Dart íŒ¨í‚¤ì§€ (pub.dev)\n- build_runner | Dart íŒ¨í‚¤ì§€ (pub.dev)\n\n## source_gen\n\n<div class=\"content-ad\"></div>\n\nAPIëŠ” ë‚®ì€ ìˆ˜ì¤€ì˜ ë¹Œë“œ ë˜ëŠ” ë¶„ì„ê¸° íŒ¨í‚¤ì§€ì™€ ìƒí˜¸ ì‘ìš© ì—†ì´ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ë‹¤ì–‘í•œ ìœ í‹¸ë¦¬í‹°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì‚¶ì„ í›¨ì”¬ ì‰½ê²Œ ë§Œë“¤ì–´ ì¤„ ê²ƒì…ë‹ˆë‹¤.\n\nsource_gen íŒ¨í‚¤ì§€ëŠ” build íŒ¨í‚¤ì§€ì˜ í™•ì¥íŒì…ë‹ˆë‹¤. Dart ì†ŒìŠ¤ ì½”ë“œ ìƒì„±ì„ ë” ì‰½ê²Œ ë§Œë“œëŠ” ì¼ë ¨ì˜ ìœ í‹¸ë¦¬í‹°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n## build_runner\n\nì´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ê¸°ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” dev_dependency ì˜ì—­ì— ìˆì„ ê²ƒì´ë¯€ë¡œ ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nìš°ë¦¬ëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆì–´ìš”:\n\n```js\ndart run build_runner `command`\n```\n\nì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì•„ìš”:\n\n- build: í•˜ë‚˜ì˜ ë¹Œë“œë¥¼ ì‹¤í–‰í•˜ê³  ì¢…ë£Œí•©ë‹ˆë‹¤.\n- watch: íŒŒì¼ ì‹œìŠ¤í…œì„ ê°ì‹œí•˜ëŠ” ì§€ì†ì ì¸ ë¹Œë“œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë©° í•„ìš” ì‹œ ë‹¤ì‹œ ë¹Œë“œí•©ë‹ˆë‹¤.\n- serve: watchì™€ ë™ì¼í•˜ì§€ë§Œ ê°œë°œ ì„œë²„ë„ ì‹¤í–‰í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n# ì˜ˆì‹œ\n\nGitHubì—ì„œ ìŠ¤íƒ€í„° í”„ë¡œì íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìŠ¤íƒ€í„° í”„ë¡œì íŠ¸ì—ëŠ” ì„¸ ê°œì˜ í”„ë¡œì íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n- ì˜ˆì‹œ: ì´ëŠ” í”ŒëŸ¬í„° ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìƒì„±ê¸° ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n- ì–´ë…¸í…Œì´ì…˜: ì´ëŠ” í”ŒëŸ¬í„° íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì´ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ìƒì„±ê¸°ëŠ” ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í•  í´ë˜ìŠ¤ë¥¼ ì¸ì‹í•©ë‹ˆë‹¤.\n- ìƒì„±ê¸°: ì´ëŠ” í”ŒëŸ¬í„° íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ì—ëŠ” ìš°ë¦¬ì˜ ì–´ë…¸í…Œì´ì…˜ì— ì˜í•´ ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œë¥¼ ë°©ë¬¸í•˜ê³  ì´ë¥¼ ìœ„í•´ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œ ìƒì„±ê¸°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nì‹œì‘í•´ë³´ì„¸ìš”. Custom Genì´ë¼ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  í„°ë¯¸ë„ì—ì„œ ì—´ì–´ì„œ ë‹¤ìŒì„ ì…ë ¥í•˜ì„¸ìš”:\n\ncode .\n\nê·¸ëŸ¼ VS Codeê°€ ì—´ë¦´ ê±°ì—ìš”.\n\n## ì˜ˆì œ í”„ë¡œì íŠ¸\n\n<div class=\"content-ad\"></div>\n\nCtrl + Shift + pë¥¼ ëˆŒëŸ¬ Flutter: New Projectë¥¼ ì„ íƒí•œ ë‹¤ìŒ Applicationì„ ì„ íƒí•˜ê³  exampleë¡œ ì´ë¦„ì„ ì§€ì–´ì£¼ì„¸ìš”.\n\n## annotations í”„ë¡œì íŠ¸\n\ní„°ë¯¸ë„ì—ì„œ Custom Gen í´ë”ë¥¼ ì—´ê¸° ìœ„í•´ ì´ì „ê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ë”°ë¼ì£¼ì„¸ìš”.\n\nCtrl + Shift + pë¥¼ ëˆŒëŸ¬ Flutter: New Projectë¥¼ ì„ íƒí•œ ë‹¤ìŒ Packageë¥¼ ì„ íƒí•˜ê³  annotationìœ¼ë¡œ ì´ë¦„ì„ ì§€ì–´ì£¼ì„¸ìš”.\n\n<div class=\"content-ad\"></div>\n\n## generators í”„ë¡œì íŠ¸\n\ní„°ë¯¸ë„ì—ì„œ ì´ë¯¸ì§€ì™€ ê°™ì´ 'Custom Gen' í´ë”ë¥¼ ì—´ê¸° ìœ„í•´ ì´ì „ê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n\nCtr + Shift + pë¥¼ ëˆŒëŸ¬ Flutter: New Projectë¥¼ ì„ íƒí•˜ê³  Packageë¥¼ ì„ íƒí•œ í›„ generatorë¼ê³  ì´ë¦„ì„ ì§€ì •í•˜ì„¸ìš”.\n\nì´ì œ ì´ë¯¸ì§€ì™€ ê°™ì´ ì„¸ ê°œì˜ í”„ë¡œì íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n<img src=\"/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_1.png\" />\n\n# ì£¼ì„ í”„ë¡œì íŠ¸\n\nì£¼ì„ì´ ë¬´ì—‡ì¸ê°€ìš”?\n\nFlutterì—ì„œ ì£¼ì„ì€ Dart ì½”ë“œì— í¬í•¨í•˜ì—¬ ë„êµ¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì¶”ê°€ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” íŠ¹ë³„í•œ í‘œì‹ì´ê±°ë‚˜ ì§€ì‹œë¬¸ì…ë‹ˆë‹¤. ì£¼ì„ì€ build_runner ë° ì½”ë“œ ìƒì„±ê¸°ì™€ ê°™ì€ ë„êµ¬ì— ëŒ€í•œ íŒíŠ¸ë¡œ ì‘ìš©í•˜ì—¬ ì£¼ì„ì´ ë‹¬ë¦° ì½”ë“œì™€ ê´€ë ¨ëœ íŠ¹ì • ì‘ì—…ì´ë‚˜ ë™ì‘ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nannotations/libì— src í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ ìƒì„±ìì— ì˜í•´ ì‚¬ìš©ë  ì£¼ì„ íŒŒì¼ì„ í¬í•¨ì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤.\n\nannotations/lib/annotations.dartì™€ annotations/test/annotations_test.dartì˜ ì˜ˆì œ ì½”ë“œë¥¼ ì œê±°í•  ê²ƒì…ë‹ˆë‹¤.\n\nsrc í´ë”ì— acustom_annotation.dart íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì£¼ì„ì„ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ ì£¼ì„ì€ CustomAnnotationìœ¼ë¡œ ëª…ëª…ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n```js\n// ìš°ë¦¬ì˜ ì£¼ì„\nclass CustomAnnotation {\n  const CustomAnnotation();\n}\n\n// ì´ ë³€ìˆ˜ëŠ” ì½”ë“œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì£¼ì„ìœ¼ë¡œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.\nconst customAnnotation = CustomAnnotation();\n```\n\n<div class=\"content-ad\"></div>\n\nannotations.dart íŒŒì¼ì—ì„œ CustomAnnotationì„ exportí•  ê²ƒì…ë‹ˆë‹¤:\n\n```js\nlibrary annotations;\n\nexport 'src/custom_annotation.dart';\n```\n\në‹¤ë¥¸ ê³³ì—ì„œ ì´ ì£¼ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ê° íŒŒì¼ì„ ê°œë³„ì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  annotations.dartë¥¼ importí•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.\n\nì¢‹ì•„ìš”! ì´ì œ ë‹¹ì‹ ì€ ë‹¹ì‹ ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì¶•í•˜í•´ìš”. ğŸ‰ğŸ‰\n\n<div class=\"content-ad\"></div>\n\n# ì œë„ˆë ˆì´í„° í”„ë¡œì íŠ¸\n\në¨¼ì € generators/generators.dart íŒŒì¼ê³¼ generators/test/generators_test.dart íŒŒì¼ì˜ ì´ˆê¸° ì½”ë“œë¥¼ ì œê±°í•˜ì„¸ìš”.\n\nê·¸ëŸ° ë‹¤ìŒ generators/pubspec.yaml íŒŒì¼ì— ëª‡ ê°€ì§€ ì¢…ì†ì„±ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:\n\n```js\ndependencies:\n  flutter:\n    sdk: flutter\n\n  build:\n  source_gen:\n\n  # Our annotation\n  annotations:\n    path: ../annotations/\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  build_runner:\n  flutter_lints: ^2.0.0\n```\n\n<div class=\"content-ad\"></div>\n\níƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•˜ê³  ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”: flutter pub get.\n\n- build: ì´ íŒ¨í‚¤ì§€ëŠ” ë³€ìˆ˜, ë©”ì†Œë“œ ë° ìƒì„±ìì™€ ê°™ì€ ë‹¤ì–‘í•œ í´ë˜ìŠ¤ êµ¬ì„±ìš”ì†Œì— ì•¡ì„¸ìŠ¤í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.\n- source_gen: analyzer ë˜ëŠ” buildì™€ ê°™ì€ í•˜ìœ„ ìˆ˜ì¤€ íŒ¨í‚¤ì§€ ìœ„ì— ìˆëŠ” APIì…ë‹ˆë‹¤. source_genì„ ì‚¬ìš©í•˜ì—¬ ì†ŒìŠ¤ ì½”ë“œë¥¼ ìƒì„±í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ë˜í•œ ì œë„ˆë ˆì´í„°ì— ìœ ìš©í•  ìˆ˜ ìˆëŠ” ì¼ë ¨ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ APIë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤.\n- annotations: ì´ì „ì— ì‘ì„±ëœ annotationì…ë‹ˆë‹¤.\n- build_runner: ì£¼ì„ì´ ë‹¬ë¦° í´ë˜ìŠ¤ì—ì„œ ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n\nflutter pub getì„ ì‹¤í–‰í•˜ëŠ” ì¤‘ì— ì´ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\nPublishable packages canâ€™t have â€˜pathâ€™ dependencies.\nTry adding a publish_to: none entry to mark the package as not for publishing or remove the path dependency.\n\n<div class=\"content-ad\"></div>\n\nì´ ì‘ì—…ì€ í•„ìš”í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ íŒ¨í‚¤ì§€ë¥¼ Dart Devì— ì—…ë¡œë“œí•  ê³„íšì´ë¼ë©´ ê²½ë¡œê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ pubspec.yamlì—ì„œ ì´ ì˜ˆì œê°€ ì‹¤ì œ ì—…ë¡œë“œëœ íŒ¨í‚¤ì§€ê°€ ì•„ë‹Œ ê²ƒì„ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¥¼ pubspec.yamlì— ì¶”ê°€í•´ì£¼ì„¸ìš”:\n\n```js\nname: generator\ndescription: A new Flutter package project.\nversion: 0.0.1\nhomepage:\npublish_to: none # <- ì´ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ì´ íŒ¨í‚¤ì§€ê°€ Dart Devì— ê²Œì‹œë˜ì§€ ì•Šë„ë¡ ì„¤ì •\n```\n\n## build.yaml êµ¬ì„±í•˜ê¸°\n\nbuild.yaml íŒŒì¼ì€ build_runnerì— ì˜í•´ ìˆ˜í–‰ë˜ëŠ” ì½”ë“œ ìƒì„± í”„ë¡œì„¸ìŠ¤ì˜ ì„¤ì •ê³¼ êµ¬ì„±ì„ ì§€ì •í•˜ëŠ” êµ¬ì„± íŒŒì¼ì…ë‹ˆë‹¤. ì´ íŒŒì¼ì€ build_runnerì— ì˜í•´ í˜¸ì¶œë˜ì–´ ëª¨ë“  ìƒì„±ê¸° êµ¬ì„±ì„ ì½ê¸° ì „ì— ê¸°ëŠ¥ì„ ì„¤ì •í•˜ë©° Dart ë¹Œë“œ ì‹œìŠ¤í…œì˜ ì¼ë¶€ì´ë©° Flutter í”„ë¡œì íŠ¸ì—ì„œ ì½”ë“œ ìƒì„± ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ìƒì„±ê¸°ë¥¼ êµ¬ì„±í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ìƒì„±ëœ íŒŒì¼ì˜ í™•ì¥ì, ìƒì„±ëœ ë©”ì„œë“œ, ìƒì„±ê¸°ì˜ ê²½ë¡œì™€ ê°™ì€ ì„¤ì •ì„ ì§€ì •í•˜ëŠ” ì¤‘ìš”í•œ íŒŒì¼ì…ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nì§€ê¸ˆ, ì œë„ˆë ˆì´í„° íŒ¨í‚¤ì§€ ë£¨íŠ¸ì— build.yaml íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”:\n\n```js\ntargets:\n  $default:\n    builders:\n      generators|annotations: # generators|annotations: ì£¼ì„ì´ ë‹¬ë¦° íŒŒì¼ì„ ë‹¤ë£° ë•Œ simple_generator ë¹Œë”ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n        enabled: true\n\nbuilders:\n  generators:\n    target: \":generators\" # ì œë„ˆë ˆì´í„° ì´ë¦„\n    import: \"package:generators/generators.dart\"\n    builder_factories: [\"generateJsonMethods\"] # ë¹Œë” ì´ë¦„(BuilderOption)ì˜ ì •ì˜ì…ë‹ˆë‹¤.\n    build_extensions: { \".dart\": [\".g.dart\"] }\n    auto_apply: dependents\n    build_to: cache\n    applies_builders: [\"source_gen|combining_builder\"]\n```\n\n1- import: ì œë„ˆë ˆì´í„° ê²½ë¡œë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\n\n2- builder_factories: ë¹Œë” ë©”ì„œë“œì˜ ì´ë¦„ì„ ë‚˜ì—´í•©ë‹ˆë‹¤. ì´ ê²½ìš°, \"generateJsonMethods\"ë¼ëŠ” ë‹¨ì¼ íŒ©í† ë¦¬ë¥¼ í¬í•¨í•˜ë©° ë¹Œë”ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n3- build_extensions: ë¹Œë”ì˜ ì…ë ¥ ë° ì¶œë ¥ íŒŒì¼ í™•ì¥ìë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ëŠ” ë¹Œë”ê°€ .dart íŒŒì¼ì„ ì²˜ë¦¬í•˜ê³  .g.part '(.g.part) íŒŒì¼ì„ ìƒì„±í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ëŠ” build.yaml íŒŒì¼ì˜ auto_apply í‚¤ì— ê¸°ë°˜í•˜ì—¬ íŒŒì¼ì˜ ê°€ì‹œì„±ì„ ì œì–´í•©ë‹ˆë‹¤.\n\n4- auto_apply: íŠ¹ì • ë¹Œë”ê°€ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ì¤‘ ìë™ìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼ í•˜ëŠ” ì‹œì ì„ ì§€ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\nauto_apply ì˜µì…˜ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ ê°€ëŠ¥í•œ ê°’ì´ ìˆìŠµë‹ˆë‹¤:\n\n- none: ë¹Œë”ê°€ ìë™ìœ¼ë¡œ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¹Œë”ë¥¼ ëª…ì‹œì ìœ¼ë¡œ builders ì„¹ì…˜ì— ì§€ì •í•˜ê±°ë‚˜ build_runner ëª…ë ¹ì„ --build-filter ì˜µì…˜ê³¼ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n- dependents: ë¹Œë”ê°€ build.yaml íŒŒì¼ì„ í¬í•¨í•˜ëŠ” íŒ¨í‚¤ì§€ì— ì˜ì¡´í•˜ëŠ” íŒ¨í‚¤ì§€ì— ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ íŒ¨í‚¤ì§€ê°€ ê·€í•˜ì˜ íŒ¨í‚¤ì§€ì— ì˜ì¡´í•˜ëŠ” ê²½ìš° í•´ë‹¹ ë¹Œë”ê°€ í•´ë‹¹ ì˜ì¡´ íŒ¨í‚¤ì§€ì—ë„ ì ìš©ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n- all_packages: ì˜ì¡´ì„± ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ëª¨ë“  íŒ¨í‚¤ì§€ì— ë¹Œë”ê°€ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤. ì´ ì˜µì…˜ì€ ë“œë¬¼ë©°, ëª¨ë“  íŒ¨í‚¤ì§€ì— ë¹Œë”ê°€ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš° ë¹Œë“œ ì‹œê°„ì´ ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n5- build_to: ì½”ë“œ ìƒì„±ì—ì„œ ìƒì„±ëœ íŒŒì¼ì´ ë°°ì¹˜ë˜ì–´ì•¼ í•˜ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\n\në‹¤ìŒì€ build_toì— ëŒ€í•œ ì¼ë°˜ì ì¸ ê°’ë“¤ì…ë‹ˆë‹¤:\n\n- source: ì´ëŠ” ìƒì„±ëœ íŒŒì¼ì´ ì†ŒìŠ¤ íŒŒì¼ê³¼ ë™ì¼í•œ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì†ŒìŠ¤ íŒŒì¼ì´ lib/srcì— ìˆìœ¼ë©´ ìƒì„±ëœ íŒŒì¼ë„ lib/srcì— ë°°ì¹˜ë©ë‹ˆë‹¤.\n- cache: ì´ëŠ” ìƒì„±ëœ íŒŒì¼ì´ ë¹Œë“œ ìºì‹œ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë¹Œë“œ ìºì‹œëŠ” ë¹Œë“œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ build_runnerê°€ ê´€ë¦¬í•˜ëŠ” ë””ë ‰í† ë¦¬ì…ë‹ˆë‹¤.\n\n# ìƒì„±ê¸° ìƒì„±\n\n<div class=\"content-ad\"></div>\n\nì´ì œ build.yaml íŒŒì¼ì„ êµ¬ì„±í•œ í›„, ì½”ë“œ ìƒì„±ì„ ìœ„í•œ ëª¨ë“  íŒŒì¼ ë° êµ¬í˜„ì²´ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤.\n\nì´ ë‹¨ê³„ì—ì„œëŠ” ë°©ë¬¸ì(visitor) í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤; ì´ëŠ” ìƒì„±ëœ ì½”ë“œë¥¼ ìœ„í•´ ìƒì„±ì, í•„ë“œ, í•¨ìˆ˜ ë“± ëª¨ë“  í´ë˜ìŠ¤ ìš”ì†Œì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.\n\n## ëª¨ë¸ ë°©ë¬¸ì\n\nlib/src ì— model_visitor.dart íŒŒì¼ì„ ë§Œë“  í›„, ë‹¤ìŒ import ë¬¸ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤:\n\n<div class=\"content-ad\"></div>\n\n```js\nimport \"package:analyzer/dart/element/element.dart\";\nimport \"package:analyzer/dart/element/visitor.dart\";\n```\n\nThe first import comes from analyzer because both source_gen and build export it.\n\nCreate a ModelVisitor class and extend from SimpleElementVisitor:\n\n```js\nclass ModelVisitor extends SimpleElementVisitor<void> {}\n```\n\n<div class=\"content-ad\"></div>\n\nSimpleElementVisitorì—ëŠ” í´ë˜ìŠ¤ë¥¼ ê²€ì‚¬í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ì—¬ëŸ¬ ë©”ì„œë“œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n- visitFieldElement ë©”ì„œë“œ.\n- visitConstructorElement ë©”ì„œë“œ.\n- visitFunctionElement ë©”ì„œë“œ.\n\nSimpleElementVisitor í´ë˜ìŠ¤ë¡œ ì´ë™í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ê²€ì‚¬í•˜ëŠ” ë° ìœ ìš©í•œ ëª¨ë“  ë©”ì„œë“œë¥¼ ì‚´í´ë³¼ ìˆ˜ ìˆì§€ë§Œ, ìš°ë¦¬ì˜ ê²½ìš° visitConstructorElement ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ ì´ë¦„ì„ ê°€ì ¸ì˜¤ê³  visitFunctionElement ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ì˜ ëª¨ë“  í•„ë“œë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.\n\nmodel_visitor.dart íŒŒì¼ì˜ ì „ì²´ ì½”ë“œ:\n\n<div class=\"content-ad\"></div>\n\n```js\nimport 'package:analyzer/dart/element/element.dart';\nimport 'package:analyzer/dart/element/visitor.dart';\n\n// ë‹¨ê³„ 1\nclass ModelVisitor extends SimpleElementVisitor<void> {\n// ë‹¨ê³„ 2\n  String className = '';\n  Map<String, dynamic> fields = {};\n\n// ë‹¨ê³„ 3\n  @override\n  void visitConstructorElement(ConstructorElement element) {\n    final String returnType = element.returnType.toString();\n// ë‹¨ê³„ 4\n    className = returnType.replaceAll(\"*\", \"\"); // ClassName* -> ClassName\n  }\n\n// ë‹¨ê³„ 5\n  @override\n  void visitFieldElement(FieldElement element) {\n    /*\n    {\n      name: String,\n      price: double\n    }\n     */\n\n// ë‹¨ê³„ 6\n    String elementType = element.type.toString().replaceAll(\"*\", \"\");\n    fields[element.name] = elementType;\n\n  }\n}\n```\n\në‹¨ê³„ 1: SimpleElementVisitor í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ModelVisitor í´ë˜ìŠ¤ë¡œ í™•ì¥í•¨ìœ¼ë¡œì¨ í´ë˜ìŠ¤ í•„ë“œ, ìƒì„±ì ë° í•¨ìˆ˜ì— ëŒ€í•œ ë‹¤ì–‘í•œ ìœ ìš©í•œ ë©”ì„œë“œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¨ê³„ 2: className ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ í´ë˜ìŠ¤ ì´ë¦„ì„ ì €ì¥í•˜ê³ , fields ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ëª¨ë“  í´ë˜ìŠ¤ í•„ë“œë¥¼ ì €ì¥í•©ë‹ˆë‹¤.\n\në‹¨ê³„ 3: ì´ ì˜¤ë²„ë¼ì´ë“œëœ ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ ìƒì„±ìë¥¼ ë°©ë¬¸í•˜ê³  element.returnTypeì„ í†µí•´ í´ë˜ìŠ¤ ì´ë¦„ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\në‹¨ê³„ 4: element.returnTypeì€ ì›ì†Œ ìœ í˜• ë’¤ì— '\\*'ì„ ë°˜í™˜í•˜ë¯€ë¡œ ì´ë¥¼ ì œê±°í•©ë‹ˆë‹¤.\n\në‹¨ê³„ 5: ì´ ë°©ë²•ì€ í´ë˜ìŠ¤ì˜ ê° í•„ë“œì— ëŒ€í•´ í˜¸ì¶œë˜ë©°, í•„ë“œ ì´ë¦„ê³¼ í•„ë“œ ìœ í˜•ì— ëª¨ë‘ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në˜í•œ ë” ë§ì€ ì†ì„±ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¨ê³„ 6: element.typeì€ ì›ì†Œ ìœ í˜• ë’¤ì— '\\*'ì„ ë°˜í™˜í•˜ë¯€ë¡œ ì´ë¥¼ ì œê±°í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## ìƒì„±ê¸°\n\nlib/srcì— json_generator.dartë¼ëŠ” íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:\n\n```js\nimport \"package:annotations/annotations.dart\";\nimport \"package:source_gen/source_gen.dart\";\n\nclass JsonGenerator extends GeneratorForAnnotation<CustomAnnotation> {\n  // ì´ê³³ì— ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”!\n}\n```\n\nì´ íŒŒì¼ì€ ìƒì„±ê¸°ì˜ ì§„ì…ì ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. dart run build_runner build ëª…ë ¹ì„ ì‹¤í–‰í•œ í›„, build_runnerì€ ë¨¼ì € build.yaml íŒŒì¼ì„ í™•ì¸í•©ë‹ˆë‹¤. ì´í›„ ì˜ˆì œ íŒŒì¼ì„ ëª¨ë‘ ìŠ¤ìº”í•˜ê³ , ì–´ë…¸í…Œì´ì…˜ì´ ì¡´ì¬í•˜ë©´ ì´ í´ë˜ìŠ¤ê°€ ì¸ì§€í•˜ê³ , ìƒê¸° ìƒì„±ê¸° í´ë˜ìŠ¤ì˜ ì¬ì •ì˜ëœ ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ë„ë¡ í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\ngenerateForAnnotatedElementì„ ì˜¤ë²„ë¼ì´ë“œí•  ê±°ì—ìš”. ì´ ë©”ì„œë“œëŠ” elementë¥¼ ì¸ìë¡œ ë°›ì•„ìš”. ì´ ê²½ìš°ì—ëŠ” í´ë˜ìŠ¤ê°€ ë  ê±°ì˜ˆìš”. ì´ ê°„ë‹¨í•œ ì˜ˆì‹œì—ì„œëŠ” ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”í•˜ì§€ ì•Šì•„ìš”. ì´ ë©”ì„œë“œëŠ” ìƒì„±ëœ ì½”ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” String íƒ€ì…ì„ ë°˜í™˜í•  ê±°ì—ìš”.\n\n```js\nclass JsonGenerator extends GeneratorForAnnotation<CustomAnnotation> {\n  @override\n  String generateForAnnotatedElement(\n    Element element, // ì´ ê²½ìš°ì—ëŠ” í´ë˜ìŠ¤ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n    ConstantReader annotation,\n    BuildStep buildStep,\n  ) {\n  }\n}\n```\n\nì´ í´ë˜ìŠ¤ê°€ ìƒì„±ê¸°ì˜ ì§„ì…ì ì´ë¯€ë¡œ ModelVisitor í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì£¼ì„ì´ ë‹¬ë¦° í´ë˜ìŠ¤ì˜ ëª¨ë“  í•„ë“œì™€ ìƒì„±ìë¥¼ ê°€ì ¸ì˜¬ ê±°ì—ìš”.\n\n```js\nclass JsonGenerator extends GeneratorForAnnotation<CustomAnnotation> {\n  @override\n  String generateForAnnotatedElement(\n    Element element,\n    ConstantReader annotation,\n    BuildStep buildStep,\n  ) {\n    final ModelVisitor visitor = ModelVisitor();\n    // í´ë˜ìŠ¤ì˜ í•„ë“œì™€ ìƒì„±ìë¥¼ ë°©ë¬¸í•œ í›„, visitorì˜ classNameê³¼ fields ë³€ìˆ˜ì— ê°’ì´ ë“¤ì–´ê°ˆ ê±°ì—ìš”.\n    element.visitChildren(visitor);\n  }\n}\n```\n\n<div class=\"content-ad\"></div>\n\ní´ë˜ìŠ¤ ì´ë¦„ê³¼ í•„ë“œë¥¼ ê°€ì ¸ì˜¨ í›„ì—ëŠ”, `fromJson`, `toJson`, ê·¸ë¦¬ê³  `copyWith` ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤.\n\n## fromJson ë©”ì„œë“œ\n\n- ìƒì„±ëœ ë©”ì„œë“œ ì˜ˆì‹œ:\n\n```js\n// From Json Method\nProduct _$ProductFromJson(Map<String, dynamic> json) => Product(\n      name: json['name'],\n      price: json['price'],\n    );\n```\n\n<div class=\"content-ad\"></div>\n\n- ìœ„ ì˜ˆì‹œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜:\n\n```js\n// fromJSon ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ\nString generateFromJsonMethod(ModelVisitor visitor) {\n  // ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ì„ ë°›ì•„ì˜´\n  String className = visitor.className;\n\n  // ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì“°ê¸° ìœ„í•œ ë²„í¼\n  final buffer = StringBuffer();\n\n  // --------------------fromJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//\n  buffer.writeln('// From Json ë©”ì†Œë“œ');\n  buffer.writeln(\n      '$className _\\$${className}FromJson(Map<String, dynamic> json) => ');\n  buffer.write('$className(');\n\n  for (int i = 0; i < visitor.fields.length; i++) {\n    String fieldName = visitor.fields.keys.elementAt(i);\n    String mapValue = \"json['$fieldName']\";\n\n    buffer.writeln(\n      \"${visitor.fields.keys.elementAt(i)}: $mapValue,\",\n    );\n  }\n  buffer.writeln(');');\n  buffer.toString();\n  return buffer.toString();\n  // --------------------fromJson ìƒì„± ì½”ë“œ ì¢…ë£Œ--------------------//\n}\n```\n\n## toJson ë©”ì†Œë“œ\n\n- ìƒì„±ëœ ë©”ì†Œë“œ ì˜ˆì‹œ:\n\n<div class=\"content-ad\"></div>\n\n```js\n// JSONìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œ\nMap<String, dynamic> _$ProductToJson(Product instance) => <String, dynamic>{\n      'name': instance.name,\n      'price': instance.price,\n    };\n```\n\n- ìœ„ ì˜ˆì‹œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜:\n\n```js\n// fromJSon ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ\nString generateToJsonMethod(ModelVisitor visitor) {\n  // ëª¨ë¸ ë¹„ì§€í„°ì—ì„œ í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n  String className = visitor.className;\n\n  // ìƒì„±ëœ í´ë˜ìŠ¤ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼\n  final buffer = StringBuffer();\n\n  // --------------------toJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//\n  buffer.writeln('// JSONìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œ');\n  buffer.writeln(\n      'Map<String, dynamic> _\\$${className}ToJson($className instance) => ');\n  buffer.write('<String, dynamic>{');\n  for (int i = 0; i < visitor.fields.length; i++) {\n    String fieldName = visitor.fields.keys.elementAt(i);\n    buffer.writeln(\n      \"'$fieldName': instance.$fieldName,\",\n    );\n  }\n  buffer.writeln('};');\n  return buffer.toString();\n  // --------------------toJson ìƒì„± ì½”ë“œ ë--------------------//\n}\n```\n\n## copyWith ë©”ì†Œë“œ\n\n<div class=\"content-ad\"></div>\n\n- ìƒì„±ëœ ë©”ì„œë“œ ì˜ˆì‹œ:\n\n```js\n// Product í´ë˜ìŠ¤ì— 'copyWith' ë©”ì„œë“œë¥¼ ì œê³µí•˜ê¸° ìœ„í•œ í™•ì¥\nextension $ProductExtension on Product {\n  Product copyWith({\n    String? name,\n    double? price,\n  }) {\n    return Product(\n      name: name ?? this.name,\n      price: price ?? this.price,\n    );\n  }\n```\n\n- ìœ„ ì˜ˆì œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜:\n\n```js\n// fromJSon ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜\nString generateCopyWithMethod(ModelVisitor visitor) {\n  // ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n  String className = visitor.className;\n\n  // ìƒì„±ëœ í´ë˜ìŠ¤ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼\n  final buffer = StringBuffer();\n\n  // --------------------copyWith ìƒì„± ì½”ë“œ ì‹œì‘--------------------//\n  buffer.writeln(\n      \"// $className í´ë˜ìŠ¤ì— 'copyWith' ë©”ì„œë“œë¥¼ ì œê³µí•˜ê¸° ìœ„í•œ í™•ì¥\");\n  buffer.writeln('extension \\$${className}Extension on $className {');\n  buffer.writeln('$className copyWith({');\n  for (int i = 0; i < visitor.fields.length; i++) {\n    String dataType =\n        visitor.fields.values.elementAt(i).toString().replaceAll(\"?\", \"\");\n    String fieldName = visitor.fields.keys.elementAt(i);\n    buffer.writeln(\n      '$dataType? $fieldName,',\n    );\n  }\n  buffer.writeln('}) {');\n  buffer.writeln('return $className(');\n  for (int i = 0; i < visitor.fields.length; i++) {\n    buffer.writeln(\n      \"${visitor.fields.keys.elementAt(i)}: ${visitor.fields.keys.elementAt(i)} ?? this.${visitor.fields.keys.elementAt(i)},\",\n    );\n  }\n  buffer.writeln(');');\n  buffer.writeln('}');\n  buffer.writeln('}');\n  buffer.toString();\n  return buffer.toString();\n  // --------------------copyWith ìƒì„± ì½”ë“œ ì¢…ë£Œ--------------------//\n}\n```\n\n<div class=\"content-ad\"></div>\n\njson_generator.dart íŒŒì¼ì˜ ì „ì²´ ì½”ë“œ:\n\n```js\nimport 'package:analyzer/dart/element/element.dart';\nimport 'package:annotations/annotations.dart';\nimport 'package:build/build.dart';\nimport 'package:build/src/builder/build_step.dart';\nimport 'package:generators/src/model_visitor.dart';\nimport 'package:source_gen/source_gen.dart';\n\nclass JsonGenerator extends GeneratorForAnnotation<CustomAnnotation> {\n  @override\n  String generateForAnnotatedElement(\n    Element element,\n    ConstantReader annotation,\n    BuildStep buildStep,\n  ) {\n    final ModelVisitor visitor = ModelVisitor();\n    // í´ë˜ìŠ¤ í•„ë“œ ë° ìƒì„±ì ë°©ë¬¸\n    element.visitChildren(visitor);\n\n    // ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼\n    final buffer = StringBuffer();\n\n    // fromJson\n    String generatedFromJSon = generateFromJsonMethod(visitor);\n    buffer.writeln(generatedFromJSon);\n\n    // toJson\n    String generatedToJSon = generateToJsonMethod(visitor);\n    buffer.writeln(generatedToJSon);\n\n    // copyWith\n    String generatedCopyWith = generateCopyWithMethod(visitor);\n    buffer.writeln(generatedCopyWith);\n\n    return buffer.toString();\n  }\n\n  // fromJSon ë©”ì„œë“œ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ\n  String generateFromJsonMethod(ModelVisitor visitor) {\n    // ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n    String className = visitor.className;\n\n    // ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼\n    final buffer = StringBuffer();\n\n    // --------------------fromJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//\n    buffer.writeln('// From Json Method');\n    buffer.writeln(\n        '$className _\\$${className}FromJson(Map<String, dynamic> json) => ');\n    buffer.write('$className(');\n\n    for (int i = 0; i < visitor.fields.length; i++) {\n      String fieldName = visitor.fields.keys.elementAt(i);\n      String mapValue = \"json['$fieldName']\";\n\n      buffer.writeln(\n        \"${visitor.fields.keys.elementAt(i)}: $mapValue,\",\n      );\n    }\n    buffer.writeln(');');\n    buffer.toString();\n    return buffer.toString();\n    // --------------------fromJson ìƒì„± ì½”ë“œ ë--------------------//\n  }\n\n  // toJson ë©”ì„œë“œ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ\n  String generateToJsonMethod(ModelVisitor visitor) {\n    // ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n    String className = visitor.className;\n\n    // ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼\n    final buffer = StringBuffer();\n\n    // --------------------toJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//\n    buffer.writeln('// To Json Method');\n    buffer.writeln(\n        'Map<String, dynamic> _\\$${className}ToJson($className instance) => ');\n    buffer.write('<String, dynamic>{');\n    for (int i = 0; i < visitor.fields.length; i++) {\n      String fieldName = visitor.fields.keys.elementAt(i);\n      buffer.writeln(\n        \"'$fieldName': instance.$fieldName,\",\n      );\n    }\n    buffer.writeln('};');\n    return buffer.toString();\n    // --------------------toJson ìƒì„± ì½”ë“œ ë--------------------//\n  }\n\n  // copyWith ë©”ì„œë“œ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ\n  String generateCopyWithMethod(ModelVisitor visitor) {\n    // ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°\n    String className = visitor.className;\n\n    // ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼\n    final buffer = StringBuffer();\n\n    // --------------------copyWith ìƒì„± ì½”ë“œ ì‹œì‘--------------------//\n    buffer.writeln(\n        \"// $className í´ë˜ìŠ¤ì— 'copyWith' ë©”ì†Œë“œë¥¼ ì œê³µí•˜ëŠ” í™•ì¥\");\n    buffer.writeln('extension \\$${className}Extension on $className {');\n    buffer.writeln('$className copyWith({');\n    for (int i = 0; i < visitor.fields.length; i++) {\n      String dataType =\n          visitor.fields.values.elementAt(i).toString().replaceAll(\"?\", \"\");\n      String fieldName = visitor.fields.keys.elementAt(i);\n      buffer.writeln(\n        '$dataType? $fieldName,',\n      );\n    }\n    buffer.writeln('}) {');\n    buffer.writeln('return $className(');\n    for (int i = 0; i < visitor.fields.length; i++) {\n      buffer.writeln(\n        \"${visitor.fields.keys.elementAt(i)}: ${visitor.fields.keys.elementAt(i)} ?? this.${visitor.fields.keys.elementAt(i)},\",\n      );\n    }\n    buffer.writeln(');');\n    buffer.writeln('}');\n    buffer.writeln('}');\n    buffer.toString();\n    return buffer.toString();\n    // --------------------copyWith ìƒì„± ì½”ë“œ ë--------------------//\n  }\n}\n```\n\nì´ë¯¸ ê·€í•˜ëŠ” í”„ë¡œí˜ì…”ë„í•˜ê³  í›Œë¥­í•œ ê°œë°œìì´ì‹­ë‹ˆë‹¤. ğŸ‰ğŸ‰\n\në§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œëŠ” build.yaml íŒŒì¼ì—ì„œ builder_factories: [\"generateJsonMethods\"]ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìµœìƒìœ„ ìˆ˜ì¤€ í•¨ìˆ˜ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, build.yaml íŒŒì¼ì„ í™•ì¸í•œ í›„ build_runnerê°€ í˜¸ì¶œí•˜ê²Œ ë  ê²ƒì´ë©°, ê·¸ ë‹¤ìŒì—ëŠ” ì´ì „ì— ìƒì„±ëœ ìƒì„±ê¸°(JsonGenerator)ë¥¼ í˜¸ì¶œí•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nìœ„ì˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:\n\n```js\nBuilder ì´ë¦„(BuilderOption)\n```\n\nlib/generators.dart íŒŒì¼ì—ì„œ:\n\n```js\nlibrary generators;\n\nimport 'package:build/build.dart';\nimport 'package:generators/src/json_generator.dart';\nimport 'package:source_gen/source_gen.dart';\n\nBuilder generateJsonMethods(BuilderOptions options) {\n  // Step 1\n  return SharedPartBuilder(\n    [JsonGenerator()], // Step 2\n    'json_generator', // Step 3\n  );\n}\n```\n\n<div class=\"content-ad\"></div>\n\n**ë‹¨ê³„ 1:** [Builder]ëŠ” íŒŒì¼ì˜ ì¼ë¶€ë¡œ ìƒì„±ëœ ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ìƒì„±ëœ íŒŒì¼ì€ partIdë¡œ ì ‘ë‘ì‚¬ê°€ ë¶™ì–´ ìˆì–´ ì—¬ëŸ¬ [SharedPartBuilder]ê°€ ì¶©ëŒí•˜ì§€ ì•Šê³  ì¼ë¶€ íŒŒì¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n**ë‹¨ê³„ 2:** ì´ê²ƒì€ ìš°ë¦¬ì˜ ìƒì„±ê¸° í´ë˜ìŠ¤ì…ë‹ˆë‹¤.\n\n**ë‹¨ê³„ 3:** partId ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ê° .dart ì…ë ¥ì— ëŒ€í•´ ì–´ë–¤ íŒŒì¼ì´ ìƒì„±ë ì§€ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ í™•ì¥ìëŠ” ë‹¤ë¥¸ [SharedPartBuilder]ì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ê³ ìœ í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì¢‹ì•„ìš”! ì´ì œ ìƒì„±ê¸°ë¥¼ ë§Œë“¤ì—ˆë„¤ìš”, ì¶•í•˜í•©ë‹ˆë‹¤. ğŸ‰ğŸ‰\n\n<div class=\"content-ad\"></div>\n\nì´ì œ ì‚¬ìš©ì ì •ì˜ ì£¼ì„ ë° ë¹Œë”ë¥¼ í…ŒìŠ¤íŠ¸í•´ ë´…ì‹œë‹¤.\n\n# ì˜ˆì œ í”„ë¡œì íŠ¸\n\npubspec.yaml íŒŒì¼ì„ ì—´ì–´ ì£¼ì„ ë° ë¹Œë” íŒ¨í‚¤ì§€ì˜ ì¢…ì†ì„±ì„ ì¶”ê°€í•˜ì„¸ìš”.\n\n```yaml\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # ìš°ë¦¬ì˜ ì£¼ì„ íŒ¨í‚¤ì§€\n  annotations:\n    path: ../annotations/\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  build_runner:\n  # ìš°ë¦¬ì˜ ìƒì„±ê¸° íŒ¨í‚¤ì§€\n  generators:\n    path: ../generators/\n```\n\n<div class=\"content-ad\"></div>\n\nìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤: flutter pub get.\n\nlib í´ë”ë¡œ ì´ë™í•˜ì—¬ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤. ì˜ˆë¥¼ ë“¤ì–´ Productë¼ëŠ” ì´ë¦„ì˜ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤:\n\n```js\nimport 'package:annotations/annotations.dart';\n\n// ìŠ¤í… 1\npart 'product.g.dart'; // íŒŒì¼ ì´ë¦„ê³¼ ë™ì¼í•´ì•¼ í•¨\n\n// ìŠ¤í… 2\n@customAnnotation\nclass Product{\n  final String name;\n  final double price;\n\n  const Product({required this.name, required this.price});\n\n  /// ìƒì„±ëœ [_$ProductFromJson] í•¨ìˆ˜ë¥¼ `fromJson` íŒ©í† ë¦¬ì™€ ì—°ê²°í•©ë‹ˆë‹¤.\n  factory Product.fromJson(Map<String, dynamic> json) => _$ProductFromJson(json);\n\n  /// ìƒì„±ëœ [_$ProductToJson] í•¨ìˆ˜ë¥¼ `toJson` ë©”ì†Œë“œì™€ ì—°ê²°í•©ë‹ˆë‹¤.\n  Map<String, dynamic> toJson() => _$ProductToJson(this);\n}\n```\n\nìŠ¤í… 1: íŒŒì¼ ìƒë‹¨ì— part `íŒŒì¼ì´ë¦„.g.dart`ë¼ëŠ” ì¤„ì„ ì¶”ê°€í•˜ì—¬ ì´ íŒŒì¼ì´ ìƒì„±ëœ ì½”ë“œì˜ ì¼ë¶€ì„ì„ ì§€ì •í•˜ì‹­ì‹œì˜¤. part `íŒŒì¼ì´ë¦„.g.dart`ì˜ íŒŒì¼ ì´ë¦„ì´ Dart íŒŒì¼ ì´ë¦„ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.\n\n<div class=\"content-ad\"></div>\n\nìŠ¤í… 2: ì œí’ˆ í´ë˜ìŠ¤ì— ìš°ë¦¬ì˜ ì£¼ì„ì„ ì¶”ê°€í•˜ì„¸ìš”.\n\nì˜ˆì œ í”„ë¡œì íŠ¸ í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ì„¸ìš”:\n\ndart run build_runner build\n\nì˜ˆì œ í”„ë¡œì íŠ¸ í„°ë¯¸ë„ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•œ í›„ ë‹¤ìŒ ì¶œë ¥ì´ í‘œì‹œë©ë‹ˆë‹¤:\n\n<div class=\"content-ad\"></div>\n\n![Code Generation using Flutter](/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_2.png)\n\nOutput/Generated file:\n\n```js\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'product.dart';\n\n// **************************************************************************\n// JsonGenerator\n// **************************************************************************\n\n// From Json Method\nProduct _$ProductFromJson(Map<String, dynamic> json) => Product(\n    name: json['name'],\n    price: json['price'],\n);\n\n// To Json Method\nMap<String, dynamic> _$ProductToJson(Product instance) => <String, dynamic>{\n    'name': instance.name,\n    'price': instance.price,\n};\n\n// Extension for a Product class to provide 'copyWith' method\nextension $ProductExtension on Product {\n    Product copyWith({\n        String? name,\n        double? price,\n    }) {\n        return Product(\n            name: name ?? this.name,\n            price: price ?? this.price,\n        );\n    }\n}\n```\n\nNow you can build your annotation with more customization ğŸ‰ğŸ˜\n\n<div class=\"content-ad\"></div>\n\nìœ„ ê¸€ì„ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë„ì›€ì´ ë˜ì…¨ìœ¼ë©´ ì¢‹ê²£ìŠµë‹ˆë‹¤. ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì—°ë½ì£¼ì„¸ìš”.\n\nì†ŒìŠ¤ ì½”ë“œ\n\nì§ˆë¬¸ì´ ìˆìœ¼ë©´ LinkedIn ê³„ì •ì„ í†µí•´ ì—°ë½ì£¼ì„¸ìš”.\n","ogImage":{"url":"/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_0.png"},"coverImage":"/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_0.png","tag":["Tech"],"readingTime":22},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p><img src=\"/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_0.png\" alt=\"2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_0.png\"></p>\n<p>ìµœê·¼ì—ëŠ” ì „ë¬¸ì ì¸ í”ŒëŸ¬í„° ê°œë°œìë¡œì„œ ë§¤ì¼ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê³  ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì¼ìƒì ì¸ ë°˜ë³µ ì‘ì—…ì„ ë” ë‚˜ì€ ë°©ë²•ê³¼ ì•ˆì „í•œ ë°©ë²•ìœ¼ë¡œ ìˆ˜í–‰í•˜ê³  ì‹¶ì—ˆì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬í•œ í”„ë¡œì„¸ìŠ¤ëŠ” ì½”ë“œ ìƒì„±ì…ë‹ˆë‹¤. ì§„ë³´ë¥¼ ì´ë£¨ëŠ” ë° í•µì‹¬ì€ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ë° ìˆìŠµë‹ˆë‹¤. ë°˜ë³µì ì¸ ì‘ì—…ì€ ì§€ë£¨í•˜ê³  ë‹¨ì¡°ë¡œìš´ ì„±ì§ˆ ë•Œë¬¸ì— ë³´í¸ì ìœ¼ë¡œ ì‹«ì–´í•˜ëŠ”ë°, ì´ëŸ¬í•œ í™œë™ì—ì„œ ì‚¬ëŒë“¤ì€ ì£¼ëª©í•  ë§Œí¼ ë¹„íš¨ìœ¨ì ì´ë©° ì¢…ì¢… ì˜¤ë¥˜ë¥¼ ë²”í•©ë‹ˆë‹¤.</p>\n<p>ì½”ë“œ ìƒì„±ì€ íŠ¹ì • ì…ë ¥ ë°ì´í„°ë‚˜ ê·œì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. Flutterì—ì„œ ì½”ë“œ ìƒì„±ì€ JSON ë°ì´í„°, ë°ì´í„°ë² ì´ìŠ¤ ë° ì›¹ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ë‹¤ì–‘í•œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì½”ë“œ ìƒì„±ì€ ë°˜ë³µì ì¸ ì‘ì—…ì„ ìë™í™”í•˜ê³  í•„ìš”í•œ ìˆ˜ë™ ì½”ë”©ëŸ‰ì„ ì¤„ì„ìœ¼ë¡œì¨ ì½”ë“œ ì‘ì„±ê³¼ ìœ ì§€ë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì½”ë“œ ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë§ì€ íŒ¨í‚¤ì§€ë“¤ì´ ìˆìŠµë‹ˆë‹¤. json_serializableê³¼ ê°™ì€ íŒ¨í‚¤ì§€ì˜ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ëŠ” ìš°ë¦¬ì—ê²Œ fromJson, toJsonê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì¼ë ¨ì˜ ì£¼ì„ì„ ì œê³µí•˜ì—¬, í•´ë‹¹ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ë ¤ëŠ” í–‰ì— ì£¼ì„ì„ ë„£ê¸°ë§Œ í•˜ë©´ ì´ëŸ¬í•œ ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>ì˜ˆì‹œ:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>First Header</th><th>Second Header</th></tr></thead><tbody><tr><td>Content Cell</td><td>Content Cell</td></tr><tr><td>Content Cell</td><td>Content Cell</td></tr></tbody></table>\n<div class=\"content-ad\"></div>\n<p>ì´ ê¸€ì—ì„œëŠ” ì‚¬ìš©ì ì •ì˜ ì£¼ì„ ë° ìƒì„±ê¸°ë¥¼ ìƒì„±í•˜ì—¬ ì£¼ì„ì´ ë‹¬ë¦° í´ë˜ìŠ¤ì— ëŒ€í•´ fromJson, toJson ë° copyWith ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ê² ìŠµë‹ˆë‹¤.</p>\n<p>ìš°ë¦¬ê°€ ìì²´ ì½”ë“œ ìƒì„±ê¸°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ íŒ¨í‚¤ì§€ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</p>\n<ul>\n<li>source_gen | Dart íŒ¨í‚¤ì§€ (pub.dev)</li>\n<li>build_runner | Dart íŒ¨í‚¤ì§€ (pub.dev)</li>\n</ul>\n<h2>source_gen</h2>\n<div class=\"content-ad\"></div>\n<p>APIëŠ” ë‚®ì€ ìˆ˜ì¤€ì˜ ë¹Œë“œ ë˜ëŠ” ë¶„ì„ê¸° íŒ¨í‚¤ì§€ì™€ ìƒí˜¸ ì‘ìš© ì—†ì´ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ë‹¤ì–‘í•œ ìœ í‹¸ë¦¬í‹°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì‚¶ì„ í›¨ì”¬ ì‰½ê²Œ ë§Œë“¤ì–´ ì¤„ ê²ƒì…ë‹ˆë‹¤.</p>\n<p>source_gen íŒ¨í‚¤ì§€ëŠ” build íŒ¨í‚¤ì§€ì˜ í™•ì¥íŒì…ë‹ˆë‹¤. Dart ì†ŒìŠ¤ ì½”ë“œ ìƒì„±ì„ ë” ì‰½ê²Œ ë§Œë“œëŠ” ì¼ë ¨ì˜ ìœ í‹¸ë¦¬í‹°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>build_runner</h2>\n<p>ì´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ê¸°ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” dev_dependency ì˜ì—­ì— ìˆì„ ê²ƒì´ë¯€ë¡œ ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>ìš°ë¦¬ëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆì–´ìš”:</p>\n<pre><code class=\"hljs language-js\">dart run build_runner <span class=\"hljs-string\">`command`</span>\n</code></pre>\n<p>ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì•„ìš”:</p>\n<ul>\n<li>build: í•˜ë‚˜ì˜ ë¹Œë“œë¥¼ ì‹¤í–‰í•˜ê³  ì¢…ë£Œí•©ë‹ˆë‹¤.</li>\n<li>watch: íŒŒì¼ ì‹œìŠ¤í…œì„ ê°ì‹œí•˜ëŠ” ì§€ì†ì ì¸ ë¹Œë“œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë©° í•„ìš” ì‹œ ë‹¤ì‹œ ë¹Œë“œí•©ë‹ˆë‹¤.</li>\n<li>serve: watchì™€ ë™ì¼í•˜ì§€ë§Œ ê°œë°œ ì„œë²„ë„ ì‹¤í–‰í•©ë‹ˆë‹¤.</li>\n</ul>\n<div class=\"content-ad\"></div>\n<h1>ì˜ˆì‹œ</h1>\n<p>GitHubì—ì„œ ìŠ¤íƒ€í„° í”„ë¡œì íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ìŠ¤íƒ€í„° í”„ë¡œì íŠ¸ì—ëŠ” ì„¸ ê°œì˜ í”„ë¡œì íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:</p>\n<ul>\n<li>ì˜ˆì‹œ: ì´ëŠ” í”ŒëŸ¬í„° ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìƒì„±ê¸° ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</li>\n<li>ì–´ë…¸í…Œì´ì…˜: ì´ëŠ” í”ŒëŸ¬í„° íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì´ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ìƒì„±ê¸°ëŠ” ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í•  í´ë˜ìŠ¤ë¥¼ ì¸ì‹í•©ë‹ˆë‹¤.</li>\n<li>ìƒì„±ê¸°: ì´ëŠ” í”ŒëŸ¬í„° íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ì—ëŠ” ìš°ë¦¬ì˜ ì–´ë…¸í…Œì´ì…˜ì— ì˜í•´ ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œë¥¼ ë°©ë¬¸í•˜ê³  ì´ë¥¼ ìœ„í•´ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œ ìƒì„±ê¸°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<div class=\"content-ad\"></div>\n<p>ì‹œì‘í•´ë³´ì„¸ìš”. Custom Genì´ë¼ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  í„°ë¯¸ë„ì—ì„œ ì—´ì–´ì„œ ë‹¤ìŒì„ ì…ë ¥í•˜ì„¸ìš”:</p>\n<p>code .</p>\n<p>ê·¸ëŸ¼ VS Codeê°€ ì—´ë¦´ ê±°ì—ìš”.</p>\n<h2>ì˜ˆì œ í”„ë¡œì íŠ¸</h2>\n<div class=\"content-ad\"></div>\n<p>Ctrl + Shift + pë¥¼ ëˆŒëŸ¬ Flutter: New Projectë¥¼ ì„ íƒí•œ ë‹¤ìŒ Applicationì„ ì„ íƒí•˜ê³  exampleë¡œ ì´ë¦„ì„ ì§€ì–´ì£¼ì„¸ìš”.</p>\n<h2>annotations í”„ë¡œì íŠ¸</h2>\n<p>í„°ë¯¸ë„ì—ì„œ Custom Gen í´ë”ë¥¼ ì—´ê¸° ìœ„í•´ ì´ì „ê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ë”°ë¼ì£¼ì„¸ìš”.</p>\n<p>Ctrl + Shift + pë¥¼ ëˆŒëŸ¬ Flutter: New Projectë¥¼ ì„ íƒí•œ ë‹¤ìŒ Packageë¥¼ ì„ íƒí•˜ê³  annotationìœ¼ë¡œ ì´ë¦„ì„ ì§€ì–´ì£¼ì„¸ìš”.</p>\n<div class=\"content-ad\"></div>\n<h2>generators í”„ë¡œì íŠ¸</h2>\n<p>í„°ë¯¸ë„ì—ì„œ ì´ë¯¸ì§€ì™€ ê°™ì´ 'Custom Gen' í´ë”ë¥¼ ì—´ê¸° ìœ„í•´ ì´ì „ê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>\n<p>Ctr + Shift + pë¥¼ ëˆŒëŸ¬ Flutter: New Projectë¥¼ ì„ íƒí•˜ê³  Packageë¥¼ ì„ íƒí•œ í›„ generatorë¼ê³  ì´ë¦„ì„ ì§€ì •í•˜ì„¸ìš”.</p>\n<p>ì´ì œ ì´ë¯¸ì§€ì™€ ê°™ì´ ì„¸ ê°œì˜ í”„ë¡œì íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<img src=\"/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_1.png\">\n<h1>ì£¼ì„ í”„ë¡œì íŠ¸</h1>\n<p>ì£¼ì„ì´ ë¬´ì—‡ì¸ê°€ìš”?</p>\n<p>Flutterì—ì„œ ì£¼ì„ì€ Dart ì½”ë“œì— í¬í•¨í•˜ì—¬ ë„êµ¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì¶”ê°€ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” íŠ¹ë³„í•œ í‘œì‹ì´ê±°ë‚˜ ì§€ì‹œë¬¸ì…ë‹ˆë‹¤. ì£¼ì„ì€ build_runner ë° ì½”ë“œ ìƒì„±ê¸°ì™€ ê°™ì€ ë„êµ¬ì— ëŒ€í•œ íŒíŠ¸ë¡œ ì‘ìš©í•˜ì—¬ ì£¼ì„ì´ ë‹¬ë¦° ì½”ë“œì™€ ê´€ë ¨ëœ íŠ¹ì • ì‘ì—…ì´ë‚˜ ë™ì‘ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>annotations/libì— src í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ ìƒì„±ìì— ì˜í•´ ì‚¬ìš©ë  ì£¼ì„ íŒŒì¼ì„ í¬í•¨ì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤.</p>\n<p>annotations/lib/annotations.dartì™€ annotations/test/annotations_test.dartì˜ ì˜ˆì œ ì½”ë“œë¥¼ ì œê±°í•  ê²ƒì…ë‹ˆë‹¤.</p>\n<p>src í´ë”ì— acustom_annotation.dart íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì£¼ì„ì„ ì‘ì„±í•  ê²ƒì…ë‹ˆë‹¤. ì´ ì£¼ì„ì€ CustomAnnotationìœ¼ë¡œ ëª…ëª…ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// ìš°ë¦¬ì˜ ì£¼ì„</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CustomAnnotation</span> {\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">CustomAnnotation</span>();\n}\n\n<span class=\"hljs-comment\">// ì´ ë³€ìˆ˜ëŠ” ì½”ë“œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì£¼ì„ìœ¼ë¡œ ì‚¬ìš©ë  ê²ƒì…ë‹ˆë‹¤.</span>\n<span class=\"hljs-keyword\">const</span> customAnnotation = <span class=\"hljs-title class_\">CustomAnnotation</span>();\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>annotations.dart íŒŒì¼ì—ì„œ CustomAnnotationì„ exportí•  ê²ƒì…ë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-js\">library annotations;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-string\">'src/custom_annotation.dart'</span>;\n</code></pre>\n<p>ë‹¤ë¥¸ ê³³ì—ì„œ ì´ ì£¼ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ê° íŒŒì¼ì„ ê°œë³„ì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  annotations.dartë¥¼ importí•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.</p>\n<p>ì¢‹ì•„ìš”! ì´ì œ ë‹¹ì‹ ì€ ë‹¹ì‹ ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì¶•í•˜í•´ìš”. ğŸ‰ğŸ‰</p>\n<div class=\"content-ad\"></div>\n<h1>ì œë„ˆë ˆì´í„° í”„ë¡œì íŠ¸</h1>\n<p>ë¨¼ì € generators/generators.dart íŒŒì¼ê³¼ generators/test/generators_test.dart íŒŒì¼ì˜ ì´ˆê¸° ì½”ë“œë¥¼ ì œê±°í•˜ì„¸ìš”.</p>\n<p>ê·¸ëŸ° ë‹¤ìŒ generators/pubspec.yaml íŒŒì¼ì— ëª‡ ê°€ì§€ ì¢…ì†ì„±ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">dependencies</span>:\n  <span class=\"hljs-attr\">flutter</span>:\n    <span class=\"hljs-attr\">sdk</span>: flutter\n\n  <span class=\"hljs-attr\">build</span>:\n  <span class=\"hljs-attr\">source_gen</span>:\n\n  # <span class=\"hljs-title class_\">Our</span> annotation\n  <span class=\"hljs-attr\">annotations</span>:\n    <span class=\"hljs-attr\">path</span>: ../annotations/\n\n<span class=\"hljs-attr\">dev_dependencies</span>:\n  <span class=\"hljs-attr\">flutter_test</span>:\n    <span class=\"hljs-attr\">sdk</span>: flutter\n\n  <span class=\"hljs-attr\">build_runner</span>:\n  <span class=\"hljs-attr\">flutter_lints</span>: ^<span class=\"hljs-number\">2.0</span><span class=\"hljs-number\">.0</span>\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•˜ê³  ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”: flutter pub get.</p>\n<ul>\n<li>build: ì´ íŒ¨í‚¤ì§€ëŠ” ë³€ìˆ˜, ë©”ì†Œë“œ ë° ìƒì„±ìì™€ ê°™ì€ ë‹¤ì–‘í•œ í´ë˜ìŠ¤ êµ¬ì„±ìš”ì†Œì— ì•¡ì„¸ìŠ¤í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.</li>\n<li>source_gen: analyzer ë˜ëŠ” buildì™€ ê°™ì€ í•˜ìœ„ ìˆ˜ì¤€ íŒ¨í‚¤ì§€ ìœ„ì— ìˆëŠ” APIì…ë‹ˆë‹¤. source_genì„ ì‚¬ìš©í•˜ì—¬ ì†ŒìŠ¤ ì½”ë“œë¥¼ ìƒì„±í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ë˜í•œ ì œë„ˆë ˆì´í„°ì— ìœ ìš©í•  ìˆ˜ ìˆëŠ” ì¼ë ¨ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ APIë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤.</li>\n<li>annotations: ì´ì „ì— ì‘ì„±ëœ annotationì…ë‹ˆë‹¤.</li>\n<li>build_runner: ì£¼ì„ì´ ë‹¬ë¦° í´ë˜ìŠ¤ì—ì„œ ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</li>\n</ul>\n<p>flutter pub getì„ ì‹¤í–‰í•˜ëŠ” ì¤‘ì— ì´ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<p>Publishable packages canâ€™t have â€˜pathâ€™ dependencies.\nTry adding a publish_to: none entry to mark the package as not for publishing or remove the path dependency.</p>\n<div class=\"content-ad\"></div>\n<p>ì´ ì‘ì—…ì€ í•„ìš”í•©ë‹ˆë‹¤. ì™œëƒí•˜ë©´ íŒ¨í‚¤ì§€ë¥¼ Dart Devì— ì—…ë¡œë“œí•  ê³„íšì´ë¼ë©´ ê²½ë¡œê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ pubspec.yamlì—ì„œ ì´ ì˜ˆì œê°€ ì‹¤ì œ ì—…ë¡œë“œëœ íŒ¨í‚¤ì§€ê°€ ì•„ë‹Œ ê²ƒì„ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œë¥¼ pubspec.yamlì— ì¶”ê°€í•´ì£¼ì„¸ìš”:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">name</span>: generator\n<span class=\"hljs-attr\">description</span>: A <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Flutter</span> package project.\n<span class=\"hljs-attr\">version</span>: <span class=\"hljs-number\">0.0</span><span class=\"hljs-number\">.1</span>\n<span class=\"hljs-attr\">homepage</span>:\n<span class=\"hljs-attr\">publish_to</span>: none # &#x3C;- ì´ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ì´ íŒ¨í‚¤ì§€ê°€ <span class=\"hljs-title class_\">Dart</span> <span class=\"hljs-title class_\">Dev</span>ì— ê²Œì‹œë˜ì§€ ì•Šë„ë¡ ì„¤ì •\n</code></pre>\n<h2>build.yaml êµ¬ì„±í•˜ê¸°</h2>\n<p>build.yaml íŒŒì¼ì€ build_runnerì— ì˜í•´ ìˆ˜í–‰ë˜ëŠ” ì½”ë“œ ìƒì„± í”„ë¡œì„¸ìŠ¤ì˜ ì„¤ì •ê³¼ êµ¬ì„±ì„ ì§€ì •í•˜ëŠ” êµ¬ì„± íŒŒì¼ì…ë‹ˆë‹¤. ì´ íŒŒì¼ì€ build_runnerì— ì˜í•´ í˜¸ì¶œë˜ì–´ ëª¨ë“  ìƒì„±ê¸° êµ¬ì„±ì„ ì½ê¸° ì „ì— ê¸°ëŠ¥ì„ ì„¤ì •í•˜ë©° Dart ë¹Œë“œ ì‹œìŠ¤í…œì˜ ì¼ë¶€ì´ë©° Flutter í”„ë¡œì íŠ¸ì—ì„œ ì½”ë“œ ìƒì„± ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ìƒì„±ê¸°ë¥¼ êµ¬ì„±í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ìƒì„±ëœ íŒŒì¼ì˜ í™•ì¥ì, ìƒì„±ëœ ë©”ì„œë“œ, ìƒì„±ê¸°ì˜ ê²½ë¡œì™€ ê°™ì€ ì„¤ì •ì„ ì§€ì •í•˜ëŠ” ì¤‘ìš”í•œ íŒŒì¼ì…ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>ì§€ê¸ˆ, ì œë„ˆë ˆì´í„° íŒ¨í‚¤ì§€ ë£¨íŠ¸ì— build.yaml íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">targets</span>:\n  <span class=\"hljs-attr\">$default</span>:\n    <span class=\"hljs-attr\">builders</span>:\n      generators|<span class=\"hljs-attr\">annotations</span>: # generators|<span class=\"hljs-attr\">annotations</span>: ì£¼ì„ì´ ë‹¬ë¦° íŒŒì¼ì„ ë‹¤ë£° ë•Œ simple_generator ë¹Œë”ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n        <span class=\"hljs-attr\">enabled</span>: <span class=\"hljs-literal\">true</span>\n\n<span class=\"hljs-attr\">builders</span>:\n  <span class=\"hljs-attr\">generators</span>:\n    <span class=\"hljs-attr\">target</span>: <span class=\"hljs-string\">\":generators\"</span> # ì œë„ˆë ˆì´í„° ì´ë¦„\n    <span class=\"hljs-attr\">import</span>: <span class=\"hljs-string\">\"package:generators/generators.dart\"</span>\n    <span class=\"hljs-attr\">builder_factories</span>: [<span class=\"hljs-string\">\"generateJsonMethods\"</span>] # ë¹Œë” ì´ë¦„(<span class=\"hljs-title class_\">BuilderOption</span>)ì˜ ì •ì˜ì…ë‹ˆë‹¤.\n    <span class=\"hljs-attr\">build_extensions</span>: { <span class=\"hljs-string\">\".dart\"</span>: [<span class=\"hljs-string\">\".g.dart\"</span>] }\n    <span class=\"hljs-attr\">auto_apply</span>: dependents\n    <span class=\"hljs-attr\">build_to</span>: cache\n    <span class=\"hljs-attr\">applies_builders</span>: [<span class=\"hljs-string\">\"source_gen|combining_builder\"</span>]\n</code></pre>\n<p>1- import: ì œë„ˆë ˆì´í„° ê²½ë¡œë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</p>\n<p>2- builder_factories: ë¹Œë” ë©”ì„œë“œì˜ ì´ë¦„ì„ ë‚˜ì—´í•©ë‹ˆë‹¤. ì´ ê²½ìš°, \"generateJsonMethods\"ë¼ëŠ” ë‹¨ì¼ íŒ©í† ë¦¬ë¥¼ í¬í•¨í•˜ë©° ë¹Œë”ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>3- build_extensions: ë¹Œë”ì˜ ì…ë ¥ ë° ì¶œë ¥ íŒŒì¼ í™•ì¥ìë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì´ëŠ” ë¹Œë”ê°€ .dart íŒŒì¼ì„ ì²˜ë¦¬í•˜ê³  .g.part '(.g.part) íŒŒì¼ì„ ìƒì„±í•¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ëŠ” build.yaml íŒŒì¼ì˜ auto_apply í‚¤ì— ê¸°ë°˜í•˜ì—¬ íŒŒì¼ì˜ ê°€ì‹œì„±ì„ ì œì–´í•©ë‹ˆë‹¤.</p>\n<p>4- auto_apply: íŠ¹ì • ë¹Œë”ê°€ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ì¤‘ ìë™ìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼ í•˜ëŠ” ì‹œì ì„ ì§€ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<p>auto_apply ì˜µì…˜ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ ê°€ëŠ¥í•œ ê°’ì´ ìˆìŠµë‹ˆë‹¤:</p>\n<ul>\n<li>none: ë¹Œë”ê°€ ìë™ìœ¼ë¡œ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¹Œë”ë¥¼ ëª…ì‹œì ìœ¼ë¡œ builders ì„¹ì…˜ì— ì§€ì •í•˜ê±°ë‚˜ build_runner ëª…ë ¹ì„ --build-filter ì˜µì…˜ê³¼ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</li>\n<li>dependents: ë¹Œë”ê°€ build.yaml íŒŒì¼ì„ í¬í•¨í•˜ëŠ” íŒ¨í‚¤ì§€ì— ì˜ì¡´í•˜ëŠ” íŒ¨í‚¤ì§€ì— ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ íŒ¨í‚¤ì§€ê°€ ê·€í•˜ì˜ íŒ¨í‚¤ì§€ì— ì˜ì¡´í•˜ëŠ” ê²½ìš° í•´ë‹¹ ë¹Œë”ê°€ í•´ë‹¹ ì˜ì¡´ íŒ¨í‚¤ì§€ì—ë„ ì ìš©ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>\n<li>all_packages: ì˜ì¡´ì„± ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ëª¨ë“  íŒ¨í‚¤ì§€ì— ë¹Œë”ê°€ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤. ì´ ì˜µì…˜ì€ ë“œë¬¼ë©°, ëª¨ë“  íŒ¨í‚¤ì§€ì— ë¹Œë”ê°€ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš° ë¹Œë“œ ì‹œê°„ì´ ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<div class=\"content-ad\"></div>\n<p>5- build_to: ì½”ë“œ ìƒì„±ì—ì„œ ìƒì„±ëœ íŒŒì¼ì´ ë°°ì¹˜ë˜ì–´ì•¼ í•˜ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.</p>\n<p>ë‹¤ìŒì€ build_toì— ëŒ€í•œ ì¼ë°˜ì ì¸ ê°’ë“¤ì…ë‹ˆë‹¤:</p>\n<ul>\n<li>source: ì´ëŠ” ìƒì„±ëœ íŒŒì¼ì´ ì†ŒìŠ¤ íŒŒì¼ê³¼ ë™ì¼í•œ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì†ŒìŠ¤ íŒŒì¼ì´ lib/srcì— ìˆìœ¼ë©´ ìƒì„±ëœ íŒŒì¼ë„ lib/srcì— ë°°ì¹˜ë©ë‹ˆë‹¤.</li>\n<li>cache: ì´ëŠ” ìƒì„±ëœ íŒŒì¼ì´ ë¹Œë“œ ìºì‹œ ë””ë ‰í† ë¦¬ì— ë°°ì¹˜ë¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë¹Œë“œ ìºì‹œëŠ” ë¹Œë“œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ build_runnerê°€ ê´€ë¦¬í•˜ëŠ” ë””ë ‰í† ë¦¬ì…ë‹ˆë‹¤.</li>\n</ul>\n<h1>ìƒì„±ê¸° ìƒì„±</h1>\n<div class=\"content-ad\"></div>\n<p>ì´ì œ build.yaml íŒŒì¼ì„ êµ¬ì„±í•œ í›„, ì½”ë“œ ìƒì„±ì„ ìœ„í•œ ëª¨ë“  íŒŒì¼ ë° êµ¬í˜„ì²´ë¥¼ ìƒì„±í•  ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ì´ ë‹¨ê³„ì—ì„œëŠ” ë°©ë¬¸ì(visitor) í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ê²ƒì…ë‹ˆë‹¤; ì´ëŠ” ìƒì„±ëœ ì½”ë“œë¥¼ ìœ„í•´ ìƒì„±ì, í•„ë“œ, í•¨ìˆ˜ ë“± ëª¨ë“  í´ë˜ìŠ¤ ìš”ì†Œì— ì•¡ì„¸ìŠ¤í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.</p>\n<h2>ëª¨ë¸ ë°©ë¬¸ì</h2>\n<p>lib/src ì— model_visitor.dart íŒŒì¼ì„ ë§Œë“  í›„, ë‹¤ìŒ import ë¬¸ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤:</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"package:analyzer/dart/element/element.dart\"</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"package:analyzer/dart/element/visitor.dart\"</span>;\n</code></pre>\n<p>The first import comes from analyzer because both source_gen and build export it.</p>\n<p>Create a ModelVisitor class and extend from SimpleElementVisitor:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ModelVisitor</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">SimpleElementVisitor</span>&#x3C;<span class=\"hljs-keyword\">void</span>> {}\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>SimpleElementVisitorì—ëŠ” í´ë˜ìŠ¤ë¥¼ ê²€ì‚¬í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ì—¬ëŸ¬ ë©”ì„œë“œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:</p>\n<ul>\n<li>visitFieldElement ë©”ì„œë“œ.</li>\n<li>visitConstructorElement ë©”ì„œë“œ.</li>\n<li>visitFunctionElement ë©”ì„œë“œ.</li>\n</ul>\n<p>SimpleElementVisitor í´ë˜ìŠ¤ë¡œ ì´ë™í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ê²€ì‚¬í•˜ëŠ” ë° ìœ ìš©í•œ ëª¨ë“  ë©”ì„œë“œë¥¼ ì‚´í´ë³¼ ìˆ˜ ìˆì§€ë§Œ, ìš°ë¦¬ì˜ ê²½ìš° visitConstructorElement ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ ì´ë¦„ì„ ê°€ì ¸ì˜¤ê³  visitFunctionElement ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ì˜ ëª¨ë“  í•„ë“œë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.</p>\n<p>model_visitor.dart íŒŒì¼ì˜ ì „ì²´ ì½”ë“œ:</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:analyzer/dart/element/element.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:analyzer/dart/element/visitor.dart'</span>;\n\n<span class=\"hljs-comment\">// ë‹¨ê³„ 1</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ModelVisitor</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">SimpleElementVisitor</span>&#x3C;<span class=\"hljs-keyword\">void</span>> {\n<span class=\"hljs-comment\">// ë‹¨ê³„ 2</span>\n  <span class=\"hljs-title class_\">String</span> className = <span class=\"hljs-string\">''</span>;\n  <span class=\"hljs-title class_\">Map</span>&#x3C;<span class=\"hljs-title class_\">String</span>, dynamic> fields = {};\n\n<span class=\"hljs-comment\">// ë‹¨ê³„ 3</span>\n  @override\n  <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">visitConstructorElement</span>(<span class=\"hljs-params\">ConstructorElement element</span>) {\n    final <span class=\"hljs-title class_\">String</span> returnType = element.<span class=\"hljs-property\">returnType</span>.<span class=\"hljs-title function_\">toString</span>();\n<span class=\"hljs-comment\">// ë‹¨ê³„ 4</span>\n    className = returnType.<span class=\"hljs-title function_\">replaceAll</span>(<span class=\"hljs-string\">\"*\"</span>, <span class=\"hljs-string\">\"\"</span>); <span class=\"hljs-comment\">// ClassName* -> ClassName</span>\n  }\n\n<span class=\"hljs-comment\">// ë‹¨ê³„ 5</span>\n  @override\n  <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">visitFieldElement</span>(<span class=\"hljs-params\">FieldElement element</span>) {\n    <span class=\"hljs-comment\">/*\n    {\n      name: String,\n      price: double\n    }\n     */</span>\n\n<span class=\"hljs-comment\">// ë‹¨ê³„ 6</span>\n    <span class=\"hljs-title class_\">String</span> elementType = element.<span class=\"hljs-property\">type</span>.<span class=\"hljs-title function_\">toString</span>().<span class=\"hljs-title function_\">replaceAll</span>(<span class=\"hljs-string\">\"*\"</span>, <span class=\"hljs-string\">\"\"</span>);\n    fields[element.<span class=\"hljs-property\">name</span>] = elementType;\n\n  }\n}\n</code></pre>\n<p>ë‹¨ê³„ 1: SimpleElementVisitor í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ModelVisitor í´ë˜ìŠ¤ë¡œ í™•ì¥í•¨ìœ¼ë¡œì¨ í´ë˜ìŠ¤ í•„ë“œ, ìƒì„±ì ë° í•¨ìˆ˜ì— ëŒ€í•œ ë‹¤ì–‘í•œ ìœ ìš©í•œ ë©”ì„œë“œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë‹¨ê³„ 2: className ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ í´ë˜ìŠ¤ ì´ë¦„ì„ ì €ì¥í•˜ê³ , fields ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ëª¨ë“  í´ë˜ìŠ¤ í•„ë“œë¥¼ ì €ì¥í•©ë‹ˆë‹¤.</p>\n<p>ë‹¨ê³„ 3: ì´ ì˜¤ë²„ë¼ì´ë“œëœ ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ ìƒì„±ìë¥¼ ë°©ë¬¸í•˜ê³  element.returnTypeì„ í†µí•´ í´ë˜ìŠ¤ ì´ë¦„ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>ë‹¨ê³„ 4: element.returnTypeì€ ì›ì†Œ ìœ í˜• ë’¤ì— '*'ì„ ë°˜í™˜í•˜ë¯€ë¡œ ì´ë¥¼ ì œê±°í•©ë‹ˆë‹¤.</p>\n<p>ë‹¨ê³„ 5: ì´ ë°©ë²•ì€ í´ë˜ìŠ¤ì˜ ê° í•„ë“œì— ëŒ€í•´ í˜¸ì¶œë˜ë©°, í•„ë“œ ì´ë¦„ê³¼ í•„ë“œ ìœ í˜•ì— ëª¨ë‘ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë˜í•œ ë” ë§ì€ ì†ì„±ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë‹¨ê³„ 6: element.typeì€ ì›ì†Œ ìœ í˜• ë’¤ì— '*'ì„ ë°˜í™˜í•˜ë¯€ë¡œ ì´ë¥¼ ì œê±°í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<h2>ìƒì„±ê¸°</h2>\n<p>lib/srcì— json_generator.dartë¼ëŠ” íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"package:annotations/annotations.dart\"</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">\"package:source_gen/source_gen.dart\"</span>;\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">JsonGenerator</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">GeneratorForAnnotation</span>&#x3C;<span class=\"hljs-title class_\">CustomAnnotation</span>> {\n  <span class=\"hljs-comment\">// ì´ê³³ì— ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”!</span>\n}\n</code></pre>\n<p>ì´ íŒŒì¼ì€ ìƒì„±ê¸°ì˜ ì§„ì…ì ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. dart run build_runner build ëª…ë ¹ì„ ì‹¤í–‰í•œ í›„, build_runnerì€ ë¨¼ì € build.yaml íŒŒì¼ì„ í™•ì¸í•©ë‹ˆë‹¤. ì´í›„ ì˜ˆì œ íŒŒì¼ì„ ëª¨ë‘ ìŠ¤ìº”í•˜ê³ , ì–´ë…¸í…Œì´ì…˜ì´ ì¡´ì¬í•˜ë©´ ì´ í´ë˜ìŠ¤ê°€ ì¸ì§€í•˜ê³ , ìƒê¸° ìƒì„±ê¸° í´ë˜ìŠ¤ì˜ ì¬ì •ì˜ëœ ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ë„ë¡ í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>generateForAnnotatedElementì„ ì˜¤ë²„ë¼ì´ë“œí•  ê±°ì—ìš”. ì´ ë©”ì„œë“œëŠ” elementë¥¼ ì¸ìë¡œ ë°›ì•„ìš”. ì´ ê²½ìš°ì—ëŠ” í´ë˜ìŠ¤ê°€ ë  ê±°ì˜ˆìš”. ì´ ê°„ë‹¨í•œ ì˜ˆì‹œì—ì„œëŠ” ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”í•˜ì§€ ì•Šì•„ìš”. ì´ ë©”ì„œë“œëŠ” ìƒì„±ëœ ì½”ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” String íƒ€ì…ì„ ë°˜í™˜í•  ê±°ì—ìš”.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">JsonGenerator</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">GeneratorForAnnotation</span>&#x3C;<span class=\"hljs-title class_\">CustomAnnotation</span>> {\n  @override\n  <span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateForAnnotatedElement</span>(<span class=\"hljs-params\">\n    Element element, <span class=\"hljs-comment\">// ì´ ê²½ìš°ì—ëŠ” í´ë˜ìŠ¤ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</span>\n    ConstantReader annotation,\n    BuildStep buildStep,\n  </span>) {\n  }\n}\n</code></pre>\n<p>ì´ í´ë˜ìŠ¤ê°€ ìƒì„±ê¸°ì˜ ì§„ì…ì ì´ë¯€ë¡œ ModelVisitor í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì£¼ì„ì´ ë‹¬ë¦° í´ë˜ìŠ¤ì˜ ëª¨ë“  í•„ë“œì™€ ìƒì„±ìë¥¼ ê°€ì ¸ì˜¬ ê±°ì—ìš”.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">JsonGenerator</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">GeneratorForAnnotation</span>&#x3C;<span class=\"hljs-title class_\">CustomAnnotation</span>> {\n  @override\n  <span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateForAnnotatedElement</span>(<span class=\"hljs-params\">\n    Element element,\n    ConstantReader annotation,\n    BuildStep buildStep,\n  </span>) {\n    final <span class=\"hljs-title class_\">ModelVisitor</span> visitor = <span class=\"hljs-title class_\">ModelVisitor</span>();\n    <span class=\"hljs-comment\">// í´ë˜ìŠ¤ì˜ í•„ë“œì™€ ìƒì„±ìë¥¼ ë°©ë¬¸í•œ í›„, visitorì˜ classNameê³¼ fields ë³€ìˆ˜ì— ê°’ì´ ë“¤ì–´ê°ˆ ê±°ì—ìš”.</span>\n    element.<span class=\"hljs-title function_\">visitChildren</span>(visitor);\n  }\n}\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>í´ë˜ìŠ¤ ì´ë¦„ê³¼ í•„ë“œë¥¼ ê°€ì ¸ì˜¨ í›„ì—ëŠ”, <code>fromJson</code>, <code>toJson</code>, ê·¸ë¦¬ê³  <code>copyWith</code> ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤.</p>\n<h2>fromJson ë©”ì„œë“œ</h2>\n<ul>\n<li>ìƒì„±ëœ ë©”ì„œë“œ ì˜ˆì‹œ:</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// From Json Method</span>\n<span class=\"hljs-title class_\">Product</span> <span class=\"hljs-title function_\">_$ProductFromJson</span>(<span class=\"hljs-title class_\">Map</span>&#x3C;<span class=\"hljs-title class_\">String</span>, dynamic> json) => <span class=\"hljs-title class_\">Product</span>(\n      <span class=\"hljs-attr\">name</span>: json[<span class=\"hljs-string\">'name'</span>],\n      <span class=\"hljs-attr\">price</span>: json[<span class=\"hljs-string\">'price'</span>],\n    );\n</code></pre>\n<div class=\"content-ad\"></div>\n<ul>\n<li>ìœ„ ì˜ˆì‹œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜:</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// fromJSon ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ</span>\n<span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateFromJsonMethod</span>(<span class=\"hljs-params\">ModelVisitor visitor</span>) {\n  <span class=\"hljs-comment\">// ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ì„ ë°›ì•„ì˜´</span>\n  <span class=\"hljs-title class_\">String</span> className = visitor.<span class=\"hljs-property\">className</span>;\n\n  <span class=\"hljs-comment\">// ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì“°ê¸° ìœ„í•œ ë²„í¼</span>\n  final buffer = <span class=\"hljs-title class_\">StringBuffer</span>();\n\n  <span class=\"hljs-comment\">// --------------------fromJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//</span>\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'// From Json ë©”ì†Œë“œ'</span>);\n  buffer.<span class=\"hljs-title function_\">writeln</span>(\n      <span class=\"hljs-string\">'$className _\\$${className}FromJson(Map&#x3C;String, dynamic> json) => '</span>);\n  buffer.<span class=\"hljs-title function_\">write</span>(<span class=\"hljs-string\">'$className('</span>);\n\n  <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n    <span class=\"hljs-title class_\">String</span> fieldName = visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">keys</span>.<span class=\"hljs-title function_\">elementAt</span>(i);\n    <span class=\"hljs-title class_\">String</span> mapValue = <span class=\"hljs-string\">\"json['$fieldName']\"</span>;\n\n    buffer.<span class=\"hljs-title function_\">writeln</span>(\n      <span class=\"hljs-string\">\"${visitor.fields.keys.elementAt(i)}: $mapValue,\"</span>,\n    );\n  }\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">');'</span>);\n  buffer.<span class=\"hljs-title function_\">toString</span>();\n  <span class=\"hljs-keyword\">return</span> buffer.<span class=\"hljs-title function_\">toString</span>();\n  <span class=\"hljs-comment\">// --------------------fromJson ìƒì„± ì½”ë“œ ì¢…ë£Œ--------------------//</span>\n}\n</code></pre>\n<h2>toJson ë©”ì†Œë“œ</h2>\n<ul>\n<li>ìƒì„±ëœ ë©”ì†Œë“œ ì˜ˆì‹œ:</li>\n</ul>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// JSONìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œ</span>\n<span class=\"hljs-title class_\">Map</span>&#x3C;<span class=\"hljs-title class_\">String</span>, dynamic> <span class=\"hljs-title function_\">_$ProductToJson</span>(<span class=\"hljs-title class_\">Product</span> instance) => &#x3C;<span class=\"hljs-title class_\">String</span>, dynamic>{\n      <span class=\"hljs-string\">'name'</span>: instance.<span class=\"hljs-property\">name</span>,\n      <span class=\"hljs-string\">'price'</span>: instance.<span class=\"hljs-property\">price</span>,\n    };\n</code></pre>\n<ul>\n<li>ìœ„ ì˜ˆì‹œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜:</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// fromJSon ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ</span>\n<span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateToJsonMethod</span>(<span class=\"hljs-params\">ModelVisitor visitor</span>) {\n  <span class=\"hljs-comment\">// ëª¨ë¸ ë¹„ì§€í„°ì—ì„œ í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°</span>\n  <span class=\"hljs-title class_\">String</span> className = visitor.<span class=\"hljs-property\">className</span>;\n\n  <span class=\"hljs-comment\">// ìƒì„±ëœ í´ë˜ìŠ¤ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼</span>\n  final buffer = <span class=\"hljs-title class_\">StringBuffer</span>();\n\n  <span class=\"hljs-comment\">// --------------------toJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//</span>\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'// JSONìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œ'</span>);\n  buffer.<span class=\"hljs-title function_\">writeln</span>(\n      <span class=\"hljs-string\">'Map&#x3C;String, dynamic> _\\$${className}ToJson($className instance) => '</span>);\n  buffer.<span class=\"hljs-title function_\">write</span>(<span class=\"hljs-string\">'&#x3C;String, dynamic>{'</span>);\n  <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n    <span class=\"hljs-title class_\">String</span> fieldName = visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">keys</span>.<span class=\"hljs-title function_\">elementAt</span>(i);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(\n      <span class=\"hljs-string\">\"'$fieldName': instance.$fieldName,\"</span>,\n    );\n  }\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'};'</span>);\n  <span class=\"hljs-keyword\">return</span> buffer.<span class=\"hljs-title function_\">toString</span>();\n  <span class=\"hljs-comment\">// --------------------toJson ìƒì„± ì½”ë“œ ë--------------------//</span>\n}\n</code></pre>\n<h2>copyWith ë©”ì†Œë“œ</h2>\n<div class=\"content-ad\"></div>\n<ul>\n<li>ìƒì„±ëœ ë©”ì„œë“œ ì˜ˆì‹œ:</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// Product í´ë˜ìŠ¤ì— 'copyWith' ë©”ì„œë“œë¥¼ ì œê³µí•˜ê¸° ìœ„í•œ í™•ì¥</span>\nextension $ProductExtension on <span class=\"hljs-title class_\">Product</span> {\n  <span class=\"hljs-title class_\">Product</span> <span class=\"hljs-title function_\">copyWith</span>(<span class=\"hljs-params\">{\n    <span class=\"hljs-built_in\">String</span>? name,\n    double? price,\n  }</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Product</span>(\n      <span class=\"hljs-attr\">name</span>: name ?? <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span>,\n      <span class=\"hljs-attr\">price</span>: price ?? <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">price</span>,\n    );\n  }\n</code></pre>\n<ul>\n<li>ìœ„ ì˜ˆì œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜:</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// fromJSon ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜</span>\n<span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateCopyWithMethod</span>(<span class=\"hljs-params\">ModelVisitor visitor</span>) {\n  <span class=\"hljs-comment\">// ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°</span>\n  <span class=\"hljs-title class_\">String</span> className = visitor.<span class=\"hljs-property\">className</span>;\n\n  <span class=\"hljs-comment\">// ìƒì„±ëœ í´ë˜ìŠ¤ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼</span>\n  final buffer = <span class=\"hljs-title class_\">StringBuffer</span>();\n\n  <span class=\"hljs-comment\">// --------------------copyWith ìƒì„± ì½”ë“œ ì‹œì‘--------------------//</span>\n  buffer.<span class=\"hljs-title function_\">writeln</span>(\n      <span class=\"hljs-string\">\"// $className í´ë˜ìŠ¤ì— 'copyWith' ë©”ì„œë“œë¥¼ ì œê³µí•˜ê¸° ìœ„í•œ í™•ì¥\"</span>);\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'extension \\$${className}Extension on $className {'</span>);\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'$className copyWith({'</span>);\n  <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n    <span class=\"hljs-title class_\">String</span> dataType =\n        visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">values</span>.<span class=\"hljs-title function_\">elementAt</span>(i).<span class=\"hljs-title function_\">toString</span>().<span class=\"hljs-title function_\">replaceAll</span>(<span class=\"hljs-string\">\"?\"</span>, <span class=\"hljs-string\">\"\"</span>);\n    <span class=\"hljs-title class_\">String</span> fieldName = visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">keys</span>.<span class=\"hljs-title function_\">elementAt</span>(i);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(\n      <span class=\"hljs-string\">'$dataType? $fieldName,'</span>,\n    );\n  }\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-params\"><span class=\"hljs-string\">'}) {'</span></span>);\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'return $className('</span>);\n  <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n    buffer.<span class=\"hljs-title function_\">writeln</span>(\n      <span class=\"hljs-string\">\"${visitor.fields.keys.elementAt(i)}: ${visitor.fields.keys.elementAt(i)} ?? this.${visitor.fields.keys.elementAt(i)},\"</span>,\n    );\n  }\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">');'</span>);\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'}'</span>);\n  buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'}'</span>);\n  buffer.<span class=\"hljs-title function_\">toString</span>();\n  <span class=\"hljs-keyword\">return</span> buffer.<span class=\"hljs-title function_\">toString</span>();\n  <span class=\"hljs-comment\">// --------------------copyWith ìƒì„± ì½”ë“œ ì¢…ë£Œ--------------------//</span>\n}\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>json_generator.dart íŒŒì¼ì˜ ì „ì²´ ì½”ë“œ:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:analyzer/dart/element/element.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:annotations/annotations.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:build/build.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:build/src/builder/build_step.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:generators/src/model_visitor.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:source_gen/source_gen.dart'</span>;\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">JsonGenerator</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">GeneratorForAnnotation</span>&#x3C;<span class=\"hljs-title class_\">CustomAnnotation</span>> {\n  @override\n  <span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateForAnnotatedElement</span>(<span class=\"hljs-params\">\n    Element element,\n    ConstantReader annotation,\n    BuildStep buildStep,\n  </span>) {\n    final <span class=\"hljs-title class_\">ModelVisitor</span> visitor = <span class=\"hljs-title class_\">ModelVisitor</span>();\n    <span class=\"hljs-comment\">// í´ë˜ìŠ¤ í•„ë“œ ë° ìƒì„±ì ë°©ë¬¸</span>\n    element.<span class=\"hljs-title function_\">visitChildren</span>(visitor);\n\n    <span class=\"hljs-comment\">// ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼</span>\n    final buffer = <span class=\"hljs-title class_\">StringBuffer</span>();\n\n    <span class=\"hljs-comment\">// fromJson</span>\n    <span class=\"hljs-title class_\">String</span> generatedFromJSon = <span class=\"hljs-title function_\">generateFromJsonMethod</span>(visitor);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(generatedFromJSon);\n\n    <span class=\"hljs-comment\">// toJson</span>\n    <span class=\"hljs-title class_\">String</span> generatedToJSon = <span class=\"hljs-title function_\">generateToJsonMethod</span>(visitor);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(generatedToJSon);\n\n    <span class=\"hljs-comment\">// copyWith</span>\n    <span class=\"hljs-title class_\">String</span> generatedCopyWith = <span class=\"hljs-title function_\">generateCopyWithMethod</span>(visitor);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(generatedCopyWith);\n\n    <span class=\"hljs-keyword\">return</span> buffer.<span class=\"hljs-title function_\">toString</span>();\n  }\n\n  <span class=\"hljs-comment\">// fromJSon ë©”ì„œë“œ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ</span>\n  <span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateFromJsonMethod</span>(<span class=\"hljs-params\">ModelVisitor visitor</span>) {\n    <span class=\"hljs-comment\">// ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°</span>\n    <span class=\"hljs-title class_\">String</span> className = visitor.<span class=\"hljs-property\">className</span>;\n\n    <span class=\"hljs-comment\">// ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼</span>\n    final buffer = <span class=\"hljs-title class_\">StringBuffer</span>();\n\n    <span class=\"hljs-comment\">// --------------------fromJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//</span>\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'// From Json Method'</span>);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(\n        <span class=\"hljs-string\">'$className _\\$${className}FromJson(Map&#x3C;String, dynamic> json) => '</span>);\n    buffer.<span class=\"hljs-title function_\">write</span>(<span class=\"hljs-string\">'$className('</span>);\n\n    <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n      <span class=\"hljs-title class_\">String</span> fieldName = visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">keys</span>.<span class=\"hljs-title function_\">elementAt</span>(i);\n      <span class=\"hljs-title class_\">String</span> mapValue = <span class=\"hljs-string\">\"json['$fieldName']\"</span>;\n\n      buffer.<span class=\"hljs-title function_\">writeln</span>(\n        <span class=\"hljs-string\">\"${visitor.fields.keys.elementAt(i)}: $mapValue,\"</span>,\n      );\n    }\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">');'</span>);\n    buffer.<span class=\"hljs-title function_\">toString</span>();\n    <span class=\"hljs-keyword\">return</span> buffer.<span class=\"hljs-title function_\">toString</span>();\n    <span class=\"hljs-comment\">// --------------------fromJson ìƒì„± ì½”ë“œ ë--------------------//</span>\n  }\n\n  <span class=\"hljs-comment\">// toJson ë©”ì„œë“œ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ</span>\n  <span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateToJsonMethod</span>(<span class=\"hljs-params\">ModelVisitor visitor</span>) {\n    <span class=\"hljs-comment\">// ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°</span>\n    <span class=\"hljs-title class_\">String</span> className = visitor.<span class=\"hljs-property\">className</span>;\n\n    <span class=\"hljs-comment\">// ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼</span>\n    final buffer = <span class=\"hljs-title class_\">StringBuffer</span>();\n\n    <span class=\"hljs-comment\">// --------------------toJson ìƒì„± ì½”ë“œ ì‹œì‘--------------------//</span>\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'// To Json Method'</span>);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(\n        <span class=\"hljs-string\">'Map&#x3C;String, dynamic> _\\$${className}ToJson($className instance) => '</span>);\n    buffer.<span class=\"hljs-title function_\">write</span>(<span class=\"hljs-string\">'&#x3C;String, dynamic>{'</span>);\n    <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n      <span class=\"hljs-title class_\">String</span> fieldName = visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">keys</span>.<span class=\"hljs-title function_\">elementAt</span>(i);\n      buffer.<span class=\"hljs-title function_\">writeln</span>(\n        <span class=\"hljs-string\">\"'$fieldName': instance.$fieldName,\"</span>,\n      );\n    }\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'};'</span>);\n    <span class=\"hljs-keyword\">return</span> buffer.<span class=\"hljs-title function_\">toString</span>();\n    <span class=\"hljs-comment\">// --------------------toJson ìƒì„± ì½”ë“œ ë--------------------//</span>\n  }\n\n  <span class=\"hljs-comment\">// copyWith ë©”ì„œë“œ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ</span>\n  <span class=\"hljs-title class_\">String</span> <span class=\"hljs-title function_\">generateCopyWithMethod</span>(<span class=\"hljs-params\">ModelVisitor visitor</span>) {\n    <span class=\"hljs-comment\">// ëª¨ë¸ ë°©ë¬¸ìë¡œë¶€í„° í´ë˜ìŠ¤ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°</span>\n    <span class=\"hljs-title class_\">String</span> className = visitor.<span class=\"hljs-property\">className</span>;\n\n    <span class=\"hljs-comment\">// ìƒì„±ëœ í´ë˜ìŠ¤ì˜ ê° ë¶€ë¶„ì„ ì‘ì„±í•  ë²„í¼</span>\n    final buffer = <span class=\"hljs-title class_\">StringBuffer</span>();\n\n    <span class=\"hljs-comment\">// --------------------copyWith ìƒì„± ì½”ë“œ ì‹œì‘--------------------//</span>\n    buffer.<span class=\"hljs-title function_\">writeln</span>(\n        <span class=\"hljs-string\">\"// $className í´ë˜ìŠ¤ì— 'copyWith' ë©”ì†Œë“œë¥¼ ì œê³µí•˜ëŠ” í™•ì¥\"</span>);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'extension \\$${className}Extension on $className {'</span>);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'$className copyWith({'</span>);\n    <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n      <span class=\"hljs-title class_\">String</span> dataType =\n          visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">values</span>.<span class=\"hljs-title function_\">elementAt</span>(i).<span class=\"hljs-title function_\">toString</span>().<span class=\"hljs-title function_\">replaceAll</span>(<span class=\"hljs-string\">\"?\"</span>, <span class=\"hljs-string\">\"\"</span>);\n      <span class=\"hljs-title class_\">String</span> fieldName = visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">keys</span>.<span class=\"hljs-title function_\">elementAt</span>(i);\n      buffer.<span class=\"hljs-title function_\">writeln</span>(\n        <span class=\"hljs-string\">'$dataType? $fieldName,'</span>,\n      );\n    }\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-params\"><span class=\"hljs-string\">'}) {'</span></span>);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'return $className('</span>);\n    <span class=\"hljs-keyword\">for</span> (int i = <span class=\"hljs-number\">0</span>; i &#x3C; visitor.<span class=\"hljs-property\">fields</span>.<span class=\"hljs-property\">length</span>; i++) {\n      buffer.<span class=\"hljs-title function_\">writeln</span>(\n        <span class=\"hljs-string\">\"${visitor.fields.keys.elementAt(i)}: ${visitor.fields.keys.elementAt(i)} ?? this.${visitor.fields.keys.elementAt(i)},\"</span>,\n      );\n    }\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">');'</span>);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'}'</span>);\n    buffer.<span class=\"hljs-title function_\">writeln</span>(<span class=\"hljs-string\">'}'</span>);\n    buffer.<span class=\"hljs-title function_\">toString</span>();\n    <span class=\"hljs-keyword\">return</span> buffer.<span class=\"hljs-title function_\">toString</span>();\n    <span class=\"hljs-comment\">// --------------------copyWith ìƒì„± ì½”ë“œ ë--------------------//</span>\n  }\n}\n</code></pre>\n<p>ì´ë¯¸ ê·€í•˜ëŠ” í”„ë¡œí˜ì…”ë„í•˜ê³  í›Œë¥­í•œ ê°œë°œìì´ì‹­ë‹ˆë‹¤. ğŸ‰ğŸ‰</p>\n<p>ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œëŠ” build.yaml íŒŒì¼ì—ì„œ builder_factories: [\"generateJsonMethods\"]ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìµœìƒìœ„ ìˆ˜ì¤€ í•¨ìˆ˜ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, build.yaml íŒŒì¼ì„ í™•ì¸í•œ í›„ build_runnerê°€ í˜¸ì¶œí•˜ê²Œ ë  ê²ƒì´ë©°, ê·¸ ë‹¤ìŒì—ëŠ” ì´ì „ì— ìƒì„±ëœ ìƒì„±ê¸°(JsonGenerator)ë¥¼ í˜¸ì¶œí•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>ìœ„ì˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title class_\">Builder</span> ì´ë¦„(<span class=\"hljs-title class_\">BuilderOption</span>)\n</code></pre>\n<p>lib/generators.dart íŒŒì¼ì—ì„œ:</p>\n<pre><code class=\"hljs language-js\">library generators;\n\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:build/build.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:generators/src/json_generator.dart'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:source_gen/source_gen.dart'</span>;\n\n<span class=\"hljs-title class_\">Builder</span> <span class=\"hljs-title function_\">generateJsonMethods</span>(<span class=\"hljs-params\">BuilderOptions options</span>) {\n  <span class=\"hljs-comment\">// Step 1</span>\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">SharedPartBuilder</span>(\n    [<span class=\"hljs-title class_\">JsonGenerator</span>()], <span class=\"hljs-comment\">// Step 2</span>\n    <span class=\"hljs-string\">'json_generator'</span>, <span class=\"hljs-comment\">// Step 3</span>\n  );\n}\n</code></pre>\n<div class=\"content-ad\"></div>\n<p><strong>ë‹¨ê³„ 1:</strong> [Builder]ëŠ” íŒŒì¼ì˜ ì¼ë¶€ë¡œ ìƒì„±ëœ ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ìƒì„±ëœ íŒŒì¼ì€ partIdë¡œ ì ‘ë‘ì‚¬ê°€ ë¶™ì–´ ìˆì–´ ì—¬ëŸ¬ [SharedPartBuilder]ê°€ ì¶©ëŒí•˜ì§€ ì•Šê³  ì¼ë¶€ íŒŒì¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><strong>ë‹¨ê³„ 2:</strong> ì´ê²ƒì€ ìš°ë¦¬ì˜ ìƒì„±ê¸° í´ë˜ìŠ¤ì…ë‹ˆë‹¤.</p>\n<p><strong>ë‹¨ê³„ 3:</strong> partId ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ê° .dart ì…ë ¥ì— ëŒ€í•´ ì–´ë–¤ íŒŒì¼ì´ ìƒì„±ë ì§€ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì´ í™•ì¥ìëŠ” ë‹¤ë¥¸ [SharedPartBuilder]ì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ê³ ìœ í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>ì¢‹ì•„ìš”! ì´ì œ ìƒì„±ê¸°ë¥¼ ë§Œë“¤ì—ˆë„¤ìš”, ì¶•í•˜í•©ë‹ˆë‹¤. ğŸ‰ğŸ‰</p>\n<div class=\"content-ad\"></div>\n<p>ì´ì œ ì‚¬ìš©ì ì •ì˜ ì£¼ì„ ë° ë¹Œë”ë¥¼ í…ŒìŠ¤íŠ¸í•´ ë´…ì‹œë‹¤.</p>\n<h1>ì˜ˆì œ í”„ë¡œì íŠ¸</h1>\n<p>pubspec.yaml íŒŒì¼ì„ ì—´ì–´ ì£¼ì„ ë° ë¹Œë” íŒ¨í‚¤ì§€ì˜ ì¢…ì†ì„±ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">dependencies:</span>\n  <span class=\"hljs-attr\">flutter:</span>\n    <span class=\"hljs-attr\">sdk:</span> <span class=\"hljs-string\">flutter</span>\n\n  <span class=\"hljs-comment\"># ìš°ë¦¬ì˜ ì£¼ì„ íŒ¨í‚¤ì§€</span>\n  <span class=\"hljs-attr\">annotations:</span>\n    <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">../annotations/</span>\n\n<span class=\"hljs-attr\">dev_dependencies:</span>\n  <span class=\"hljs-attr\">flutter_test:</span>\n    <span class=\"hljs-attr\">sdk:</span> <span class=\"hljs-string\">flutter</span>\n\n  <span class=\"hljs-attr\">build_runner:</span>\n  <span class=\"hljs-comment\"># ìš°ë¦¬ì˜ ìƒì„±ê¸° íŒ¨í‚¤ì§€</span>\n  <span class=\"hljs-attr\">generators:</span>\n    <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">../generators/</span>\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>ìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì‹­ì‹œì˜¤: flutter pub get.</p>\n<p>lib í´ë”ë¡œ ì´ë™í•˜ì—¬ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤. ì˜ˆë¥¼ ë“¤ì–´ Productë¼ëŠ” ì´ë¦„ì˜ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì‹­ì‹œì˜¤:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'package:annotations/annotations.dart'</span>;\n\n<span class=\"hljs-comment\">// ìŠ¤í… 1</span>\npart <span class=\"hljs-string\">'product.g.dart'</span>; <span class=\"hljs-comment\">// íŒŒì¼ ì´ë¦„ê³¼ ë™ì¼í•´ì•¼ í•¨</span>\n\n<span class=\"hljs-comment\">// ìŠ¤í… 2</span>\n@customAnnotation\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Product</span>{\n  final <span class=\"hljs-title class_\">String</span> name;\n  final double price;\n\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Product</span>({required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span>, required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">price</span>});\n\n  <span class=\"hljs-comment\">/// ìƒì„±ëœ [_$ProductFromJson] í•¨ìˆ˜ë¥¼ `fromJson` íŒ©í† ë¦¬ì™€ ì—°ê²°í•©ë‹ˆë‹¤.</span>\n  factory <span class=\"hljs-title class_\">Product</span>.<span class=\"hljs-title function_\">fromJson</span>(<span class=\"hljs-title class_\">Map</span>&#x3C;<span class=\"hljs-title class_\">String</span>, dynamic> json) => <span class=\"hljs-title function_\">_$ProductFromJson</span>(json);\n\n  <span class=\"hljs-comment\">/// ìƒì„±ëœ [_$ProductToJson] í•¨ìˆ˜ë¥¼ `toJson` ë©”ì†Œë“œì™€ ì—°ê²°í•©ë‹ˆë‹¤.</span>\n  <span class=\"hljs-title class_\">Map</span>&#x3C;<span class=\"hljs-title class_\">String</span>, dynamic> <span class=\"hljs-title function_\">toJson</span>() => <span class=\"hljs-title function_\">_$ProductToJson</span>(<span class=\"hljs-variable language_\">this</span>);\n}\n</code></pre>\n<p>ìŠ¤í… 1: íŒŒì¼ ìƒë‹¨ì— part <code>íŒŒì¼ì´ë¦„.g.dart</code>ë¼ëŠ” ì¤„ì„ ì¶”ê°€í•˜ì—¬ ì´ íŒŒì¼ì´ ìƒì„±ëœ ì½”ë“œì˜ ì¼ë¶€ì„ì„ ì§€ì •í•˜ì‹­ì‹œì˜¤. part <code>íŒŒì¼ì´ë¦„.g.dart</code>ì˜ íŒŒì¼ ì´ë¦„ì´ Dart íŒŒì¼ ì´ë¦„ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.</p>\n<div class=\"content-ad\"></div>\n<p>ìŠ¤í… 2: ì œí’ˆ í´ë˜ìŠ¤ì— ìš°ë¦¬ì˜ ì£¼ì„ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>\n<p>ì˜ˆì œ í”„ë¡œì íŠ¸ í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ì„¸ìš”:</p>\n<p>dart run build_runner build</p>\n<p>ì˜ˆì œ í”„ë¡œì íŠ¸ í„°ë¯¸ë„ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•œ í›„ ë‹¤ìŒ ì¶œë ¥ì´ í‘œì‹œë©ë‹ˆë‹¤:</p>\n<div class=\"content-ad\"></div>\n<p><img src=\"/assets/img/2024-06-21-CodeGenerationusingFluttersource_genbuild_runner_2.png\" alt=\"Code Generation using Flutter\"></p>\n<p>Output/Generated file:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// GENERATED CODE - DO NOT MODIFY BY HAND</span>\n\npart <span class=\"hljs-keyword\">of</span> <span class=\"hljs-string\">'product.dart'</span>;\n\n<span class=\"hljs-comment\">// **************************************************************************</span>\n<span class=\"hljs-comment\">// JsonGenerator</span>\n<span class=\"hljs-comment\">// **************************************************************************</span>\n\n<span class=\"hljs-comment\">// From Json Method</span>\n<span class=\"hljs-title class_\">Product</span> <span class=\"hljs-title function_\">_$ProductFromJson</span>(<span class=\"hljs-title class_\">Map</span>&#x3C;<span class=\"hljs-title class_\">String</span>, dynamic> json) => <span class=\"hljs-title class_\">Product</span>(\n    <span class=\"hljs-attr\">name</span>: json[<span class=\"hljs-string\">'name'</span>],\n    <span class=\"hljs-attr\">price</span>: json[<span class=\"hljs-string\">'price'</span>],\n);\n\n<span class=\"hljs-comment\">// To Json Method</span>\n<span class=\"hljs-title class_\">Map</span>&#x3C;<span class=\"hljs-title class_\">String</span>, dynamic> <span class=\"hljs-title function_\">_$ProductToJson</span>(<span class=\"hljs-title class_\">Product</span> instance) => &#x3C;<span class=\"hljs-title class_\">String</span>, dynamic>{\n    <span class=\"hljs-string\">'name'</span>: instance.<span class=\"hljs-property\">name</span>,\n    <span class=\"hljs-string\">'price'</span>: instance.<span class=\"hljs-property\">price</span>,\n};\n\n<span class=\"hljs-comment\">// Extension for a Product class to provide 'copyWith' method</span>\nextension $ProductExtension on <span class=\"hljs-title class_\">Product</span> {\n    <span class=\"hljs-title class_\">Product</span> <span class=\"hljs-title function_\">copyWith</span>(<span class=\"hljs-params\">{\n        <span class=\"hljs-built_in\">String</span>? name,\n        double? price,\n    }</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Product</span>(\n            <span class=\"hljs-attr\">name</span>: name ?? <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span>,\n            <span class=\"hljs-attr\">price</span>: price ?? <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">price</span>,\n        );\n    }\n}\n</code></pre>\n<p>Now you can build your annotation with more customization ğŸ‰ğŸ˜</p>\n<div class=\"content-ad\"></div>\n<p>ìœ„ ê¸€ì„ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë„ì›€ì´ ë˜ì…¨ìœ¼ë©´ ì¢‹ê²£ìŠµë‹ˆë‹¤. ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì—°ë½ì£¼ì„¸ìš”.</p>\n<p>ì†ŒìŠ¤ ì½”ë“œ</p>\n<p>ì§ˆë¬¸ì´ ìˆìœ¼ë©´ LinkedIn ê³„ì •ì„ í†µí•´ ì—°ë½ì£¼ì„¸ìš”.</p>\n</body>\n</html>\n"},"__N_SSG":true}