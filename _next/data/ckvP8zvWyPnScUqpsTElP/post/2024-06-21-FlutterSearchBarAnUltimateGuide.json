{"pageProps":{"post":{"title":"Flutter ê²€ìƒ‰ë°” ê¶ê·¹ì˜ ê°€ì´ë“œ","description":"","date":"2024-06-21 23:41","slug":"2024-06-21-FlutterSearchBarAnUltimateGuide","content":"\n\n# ì†Œê°œ\n\nëª¨ë°”ì¼ ì•± ê°œë°œ ë¶„ì•¼ì—ì„œ ì˜ ì„¤ê³„ëœ ê²€ìƒ‰ ê¸°ëŠ¥ì€ í¸ì˜ì„±ë¿ë§Œ ì•„ë‹ˆë¼ ì‚¬ìš©ì ì°¸ì—¬ ë° ì ‘ê·¼ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ëŠ” ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤. íŠ¹íˆ ë°©ëŒ€í•œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš°ì—ëŠ” ì´ëŸ¬í•œ ìš”ì†Œê°€ ë”ìš± ì¤‘ìš”í•©ë‹ˆë‹¤. ëª¨ë°”ì¼ ê°œë°œìë“¤ ì‚¬ì´ì—ì„œ ì¸ê¸°ë¥¼ ëŒê³  ìˆëŠ” FlutterëŠ” ë„¤ì´í‹°ë¸Œ ì»´íŒŒì¼ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í›Œë¥­í•œ í”„ë ˆì„ì›Œí¬ë¡œ ë‘ë“œëŸ¬ì§‘ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” Flutterì—ì„œ ë‹¤ì–‘í•œ ê²€ìƒ‰ ìœ„ì ¯ì„ ë””ìì¸í•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•´ CustomSearchDelegateì™€ ê°™ì€ ë²”ìš© ìœ„ì ¯ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê²€ìƒ‰ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ showSearch ë©”ì„œë“œë¥¼ í™œìš©í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € ê¸°ë³¸ ê²€ìƒ‰ ë°”ë¥¼ ë§Œë“¤ê³ , ì´í›„ì—ëŠ” ì„ì˜ì˜ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ì‹ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ê²ƒì…ë‹ˆë‹¤.\n\nê²°ê³¼ë¬¼ì€ ì´ë ‡ê²Œ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.\n\n# showSearch:\n\n<div class=\"content-ad\"></div>\n\nShowSearchì€ í”ŒëŸ¬í„°ì˜ ë¨¸í‹°ë¦¬ì–¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” ë©”ì†Œë“œì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìœ„ì ¯ íŠ¸ë¦¬ ì–´ë””ì—ì„œë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nFuture<T?> showSearch<T>({\n  required BuildContext context,\n  required SearchDelegate<T> delegate,\n  String? query = '',\n  bool useRootNavigator = false,\n})\n```\n\nì´ ë©”ì†Œë“œëŠ” BuildContextì™€ SearchDelegateë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. SearchDelegateëŠ” T íƒ€ì…ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.\n\nì˜ˆì‹œ:\n\n<div class=\"content-ad\"></div>\n\n```js\n showSearch(context: context, delegate: CustomSearchDelegate());\n```\n\në”°ë¼ì„œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ë©´ SearchDelegateë¥¼ í™•ì¥í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë©´ ë©ë‹ˆë‹¤. ê·¸ê²ƒì´ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ì‚´í´ë´…ì‹œë‹¤.\n\n```js\nclass CustomSearchDelegate extends SearchDelegate {\n  @override\n  List<Widget>? buildActions(BuildContext context) {\n    // í•  ì¼: buildActions êµ¬í˜„\n    throw UnimplementedError();\n  }\n\n  @override\n  Widget? buildLeading(BuildContext context) {\n    // í•  ì¼: buildLeading êµ¬í˜„\n    throw UnimplementedError();\n  }\n\n  @override\n  Widget buildResults(BuildContext context) {\n    // í•  ì¼: buildResults êµ¬í˜„\n    throw UnimplementedError();\n  }\n\n  @override\n  Widget buildSuggestions(BuildContext context) {\n    // í•  ì¼: buildSuggestions êµ¬í˜„\n    throw UnimplementedError();\n  }\n\n}\n```\n\nSearchDelegateëŠ” 4ê°œì˜ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ë„ë¡ ìš”êµ¬í•©ë‹ˆë‹¤.\n\n\n<div class=\"content-ad\"></div>\n\n- buildActions: ê²€ìƒ‰ ì¿¼ë¦¬ë¥¼ ì§€ìš°ëŠ” ì‘ì—…ê³¼ ê°™ì€ ì•¡ì…˜ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. AppBarì˜ action ë§¤ê°œë³€ìˆ˜ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤.\n- buildLeading: ì¼ë°˜ì ìœ¼ë¡œ ë„¤ë¹„ê²Œì´ì…˜ì„ ìœ„í•œ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì´ í¬í•¨ë©ë‹ˆë‹¤.\n- buildResults: ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\n- buildSuggestions: ì‚¬ìš©ìê°€ ì¿¼ë¦¬ë¥¼ ì…ë ¥í•˜ëŠ” ë™ì•ˆ ì œì•ˆì„ ì œê³µí•©ë‹ˆë‹¤.\n\nì´ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ ê²€ìƒ‰ì„ êµ¬í˜„í•´ë´…ì‹œë‹¤.\n\n```js\nclass CustomSearchDelegate extends SearchDelegate {\n  List<String> searchables = List.generate(100, (index) => 'ì•„ì´í…œ ${index + 1}');\n\n  @override\n  List<Widget>? buildActions(BuildContext context) {\n    return [\n      IconButton(\n        onPressed: () {\n          query = '';\n        },\n        icon: const Icon(Icons.clear),\n      ),\n    ];\n  }\n\n  @override\n  Widget? buildLeading(BuildContext context) {\n    return IconButton(\n      onPressed: () {\n        close(context, []);\n      },\n      icon: Icon(\n        Platform.isAndroid ? Icons.arrow_back : Icons.arrow_back_ios,\n        size: 22,\n      ),\n    );\n  }\n\n  @override\n  Widget buildResults(BuildContext context) {\n    return SuggestionOrResultWidget(searchables: searchables, query: query);\n  }\n\n  @override\n  Widget buildSuggestions(BuildContext context) {\n    return SuggestionOrResultWidget(searchables: searchables, query: query);\n  }\n}\n```\n\n```js\nclass SuggestionOrResultWidget extends StatelessWidget {\n  const SuggestionOrResultWidget({\n    key,\n    required this.searchables,\n    required this.query,\n  });\n\n  final List<String> searchables;\n  final String query;\n\n  @override\n  Widget build(BuildContext context) {\n    final List<String> suggestions = query.isEmpty\n        ? searchables\n        : searchables.where((element) => element.toLowerCase().contains(query.toLowerCase())).toList();\n\n    if (suggestions.isEmpty) return const NoResultWidget();\n\n    return ListView.separated(\n      itemBuilder: (context, index) => ListTile(\n        title: Text(suggestions[index]),\n      ),\n      separatorBuilder: (context, index) => const Divider(),\n      itemCount: suggestions.length,\n    );\n  }\n}\n```\n\n<div class=\"content-ad\"></div>\n\n```js\nclass NoResultWidget extends StatelessWidget {\n  const NoResultWidget({Key key});\n\n  @override\n  Widget build(BuildContext context) {\n    return const Center(\n      child: Text('No Result Found'),\n    );\n  }\n}\n```\n\nê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤\n\n<img src=\"https://miro.medium.com/v2/resize:fit:752/1*06CrNqmR7P5yqvzpGdtdXw.gif\" />\n\n# ê²€ìƒ‰ í˜ì´ì§€ ì•±ë°”ì˜ ThemeData ì‚¬ìš©ì ì •ì˜í•˜ê¸°\n\n\n<div class=\"content-ad\"></div>\n\ní•˜ë‚˜ ì£¼ëª©í•  ì ì€ ê²€ìƒ‰ í˜ì´ì§€ë¥¼ í‘œì‹œí•  ë•Œ ì•±ì˜ í…Œë§ˆì™€ ë™ì¼í•˜ì§€ ì•Šë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” íŠ¹íˆ AppBarì˜ ìƒ‰ìƒì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” ê²€ìƒ‰ í˜ì´ì§€ì˜ AppBarì— ì•±ì˜ ThemeDataë¥¼ ì§ì ‘ ì „ë‹¬í•©ë‹ˆë‹¤.\n\n```js\nclass CustomSearchDelegate extends SearchDelegate {\n  List<String> searchables = List.generate(100, (index) => 'Item ${index + 1}');\n\n  @override\n  ThemeData appBarTheme(BuildContext context) {\n    return ThemeData(\n      // ì•±ë°” í…Œë§ˆë¥¼ ì‚¬ìš©ì ì •ì˜í•©ë‹ˆë‹¤.\n      appBarTheme: const AppBarTheme(\n        backgroundColor: Colors.blue,\n        foregroundColor: Colors.white,\n      ),\n      // ì…ë ¥ ì¥ì‹ í…Œë§ˆë¥¼ ì‚¬ìš©ì ì •ì˜í•©ë‹ˆë‹¤.\n      inputDecorationTheme: const InputDecorationTheme(\n        isDense: true,\n        isCollapsed: true,\n        contentPadding: EdgeInsets.only(left: 12, top: 6, bottom: 6),\n        enabledBorder: OutlineInputBorder(\n            borderSide: BorderSide(\n          color: Colors.white,\n        )),\n        focusedBorder: OutlineInputBorder(\n            borderSide: BorderSide(\n          color: Colors.white,\n        )),\n        border: OutlineInputBorder(\n          borderSide: BorderSide(\n            color: Colors.white,\n          ),\n        ),\n      ),\n    );\n  }\r\n```\n\n<img src=\"/assets/img/2024-06-21-FlutterSearchBarAnUltimateGuide_0.png\" />\n\n# ì¼ë°˜ì ì¸ ê²€ìƒ‰ ìœ„ì ¯ ë§Œë“¤ê¸°:\n\n<div class=\"content-ad\"></div>\n\në” ê³ ê¸‰ êµ¬í˜„ìœ¼ë¡œ ë‚˜ì•„ê°€ê¸° ìœ„í•´ CustomSearchDelegateë¥¼ ìì„¸íˆ ì‚´í´ë´…ì‹œë‹¤. ì´ ì¼ë°˜ì ì¸ ìœ„ì ¯ì€ ì—¬ëŸ¬ ë°ì´í„° ìœ í˜•ì—ì„œ ì¬ì‚¬ìš©ì„±ê³¼ ì ì‘ì„±ì„ ê°€ì¥í•©ë‹ˆë‹¤.\n\n```js\n/// ì–´ë””ì„œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì œë„¤ë¦­ ê²€ìƒ‰ ëŒ€ë¦¬ìì…ë‹ˆë‹¤\nclass CustomSearchDelegate<T> extends SearchDelegate<List<T>> {\n  CustomSearchDelegate({\n    required this.searchables,\n    required this.suggestionOrResult,\n    required this.itemMatcher,\n    this.onTap,\n  });\n  \n  // ê²€ìƒ‰ ëŒ€ìƒ í•­ëª©\n  final List<T> searchables;\n  \n  // ì œì•ˆ ë˜ëŠ” ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ë•Œ í‘œì‹œí•´ì•¼ í•˜ëŠ” ìœ„ì ¯ì…ë‹ˆë‹¤.\n  // ì œì•ˆê³¼ ê²°ê³¼ì— ëŒ€í•´ ë³„ë„ì˜ ìœ„ì ¯ì„ ì‚¬ìš©í•˜ë ¤ë©´ suggestionWidget ë° resultWidgetì„ ì¶”ê°€í•˜ì—¬ \n  // ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  final Widget Function(List<T>, String) suggestionOrResult;\n\n  // ì¼ì¹˜ ì‹¤í–‰ì— ëŒ€í•œ ì¿¼ë¦¬\n  final bool Function(T item, String query) itemMatcher;\n\n  // í•­ëª©ì´ íƒ­ë  ë•Œì˜ ì½œë°±\n  final ValueChanged<T>? onTap;\n\n  @override\n  List<Widget>? buildActions(BuildContext context) {\n    return [\n      IconButton(\n        onPressed: () {\n          query = '';\n        },\n        icon: const Icon(Icons.clear),\n      ),\n    ];\n  }\n\n  @override\n  Widget buildLeading(BuildContext context) {\n    return IconButton(\n      onPressed: () {\n        close(context, []);\n      },\n      icon: Icon(\n        Platform.isAndroid ? Icons.arrow_back : Icons.arrow_back_ios,\n        size: 22,\n      ),\n    );\n  }\n\n  @override\n  Widget buildResults(BuildContext context) {\n    return _buildSuggestionOrResult();\n  }\n\n  @override\n  Widget buildSuggestions(BuildContext context) {\n    if (searchables.isEmpty) return const SizedBox();\n    return _buildSuggestionOrResult();\n  }\n\n  Widget _buildSuggestionOrResult() {\n    final List<T> suggestionList =\n        query.isEmpty ? searchables : searchables.where((item) => itemMatcher(item, query)).toList();\n\n    if (suggestionList.isEmpty) {\n      return NoResultFoundWidget();\n    }\n\n    return suggestionOrResult(suggestionList, query);\n  }\n\n}\n```\n\në‹¤ìŒê³¼ ê°™ì´ ì´ ì¼ë°˜ ëŒ€ë¦¬ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n```js\nshowSearch(\n  context: context,\n  delegate: CustomSearchDelegate<List<String>>(\n    searchables: searchables,\n    suggestionOrResult: (List<String> suggestions, String query) => ListWidget(\n      suggestionsList: searchables,\n      query: query,\n    ),\n    itemMatcher: (String item, String query) => item.toLowerCase().contains(query.toLowerCase()),\n  ),\n)\n```\n\n<div class=\"content-ad\"></div>\n\n# ë³´ë„ˆìŠ¤:\n\në§Œì¼ ì…ë ¥ëœ ê¸€ìë¥¼ ì œì‹œ ëª©ë¡ì—ì„œ ê°•ì¡°í•˜ê³  ê²°ê³¼ë¡œ ìŠ¤í¬ë¡¤í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒ ìœ„ì ¯ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nclass ListWidget extends StatefulWidget {\n  const ListWidget({\n    super.key,\n    required this.suggestionsList,\n    required this.query,\n  });\n\n  final List<String> suggestionsList;\n  final String query;\n\n  @override\n  State<ListWidget> createState() => _ListWidgetState();\n}\n\nclass _ListWidgetState extends State<ListWidget> {\n  late List<String> filteredList;\n  final ScrollController scrollController = ScrollController();\n\n  @override\n  void initState() {\n    super.initState();\n    filterList();\n  }\n\n  @override\n  void didUpdateWidget(ListWidget oldWidget) {\n    super.didUpdateWidget(oldWidget);\n    if (widget.query != oldWidget.query) {\n      filterList();\n    }\n  }\n\n  void filterList() {\n    filteredList =\n        widget.suggestionsList.where((item) => item.toLowerCase().contains(widget.query.toLowerCase())).toList();\n\n    if (filteredList.isNotEmpty) {\n      if (filteredList.isNotEmpty) {\n        WidgetsBinding.instance.addPostFrameCallback((_) => scrollToFirstMatch());\n      }\n    }\n  }\n\n  void scrollToFirstMatch() {\n    int index = widget.suggestionsList.indexOf(filteredList.first);\n    if (index != -1 && scrollController.hasClients) {\n      scrollController.animateTo(\n        index * 32.0, // ê° í•­ëª©ì˜ ë†’ì´ê°€ 32ë¡œ ê°€ì •\n        duration: const Duration(milliseconds: 100),\n        curve: Curves.easeInOut,\n      );\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return ListView.separated(\n      controller: scrollController,\n      itemCount: filteredList.length,\n      itemBuilder: (context, index) {\n        final String suggestionText = filteredList[index];\n        return ListTile(\n          title: RichText(\n            text: highlightMatch(suggestionText, widget.query),\n          ),\n          onTap: () {\n            // ì—¬ê¸°ì— íƒ­ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì„¸ìš”\n          },\n        );\n      },\n      separatorBuilder: (context, index) => const Divider(),\n    );\n  }\n\n  TextSpan highlightMatch(String text, String query) {\n    if (query.isEmpty || !text.toLowerCase().contains(query.toLowerCase())) {\n      return TextSpan(\n        text: text,\n        style: const TextStyle(color: Colors.black),\n      );\n    }\n\n    List<TextSpan> spans = [];\n    int start = 0;\n    int indexOfHighlight = text.toLowerCase().indexOf(query.toLowerCase());\n\n    while (indexOfHighlight != -1) {\n      spans.add(TextSpan(\n        text: text.substring(start, indexOfHighlight),\n        style: const TextStyle(color: Colors.black),\n      ));\n      spans.add(TextSpan(\n        text: text.substring(indexOfHighlight, indexOfHighlight + query.length),\n        style: const TextStyle(backgroundColor: Colors.yellow, color: Colors.black),\n      ));\n\n      start = indexOfHighlight + query.length;\n      indexOfHighlight = text.toLowerCase().indexOf(query.toLowerCase(), start);\n    }\n\n    spans.add(TextSpan(\n      text: text.substring(start),\n      style: const TextStyle(color: Colors.black),\n    ));\n    return TextSpan(children: spans);\n  }\n}\n```\n\n<img src=\"https://miro.medium.com/v2/resize:fit:468/1*8xf8nCjiihJQ-XUSlLe5MA.gif\" />\n\n<div class=\"content-ad\"></div>\n\n# ê²°ë¡ :\n\nëª¨ë°”ì¼ ì•± ë””ìì¸ì—ì„œ íš¨ê³¼ì ì¸ ê²€ìƒ‰ ê¸°ëŠ¥ì€ ì‚¬ìš©ì ë§Œì¡±ë„ì™€ ì°¸ì—¬ë„ì— ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤. ì´ CustomSearchDelegateì€ í”ŒëŸ¬í„° ì•±ì—ì„œ ì‚¬ìš©ì ì •ì˜ ë° ë‹¤ì–‘í•œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ë§Œë“¤ê¸° ìœ„í•œ í…œí”Œë¦¿ì„ ì œê³µí•©ë‹ˆë‹¤.\n\në…ì„œí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ì¦ê±°ìš´ ì½”ë”© í•˜ì„¸ìš” :)\n\n# Stackademic\n\n<div class=\"content-ad\"></div>\n\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:\n\n- ì‘ê°€ë¥¼ ê²©ë ¤í•˜ê³  íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš”! ğŸ‘\n- íŠ¸ìœ„í„°(X), ë§í¬ë“œì¸, ê·¸ë¦¬ê³  ìœ íŠœë¸Œì—ì„œ ì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš”.\n- ì „ì„¸ê³„ì—ì„œ ë¬´ë£Œ í”„ë¡œê·¸ë˜ë° êµìœ¡ì„ ë¯¼ì£¼í™”í•˜ê³  ìˆëŠ” Stackademic.comì„ ë°©ë¬¸í•´ë³´ì„¸ìš”.","ogImage":{"url":"/assets/img/2024-06-21-FlutterSearchBarAnUltimateGuide_0.png"},"coverImage":"/assets/img/2024-06-21-FlutterSearchBarAnUltimateGuide_0.png","tag":["Tech"],"readingTime":11},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<h1>ì†Œê°œ</h1>\n<p>ëª¨ë°”ì¼ ì•± ê°œë°œ ë¶„ì•¼ì—ì„œ ì˜ ì„¤ê³„ëœ ê²€ìƒ‰ ê¸°ëŠ¥ì€ í¸ì˜ì„±ë¿ë§Œ ì•„ë‹ˆë¼ ì‚¬ìš©ì ì°¸ì—¬ ë° ì ‘ê·¼ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ëŠ” ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤. íŠ¹íˆ ë°©ëŒ€í•œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš°ì—ëŠ” ì´ëŸ¬í•œ ìš”ì†Œê°€ ë”ìš± ì¤‘ìš”í•©ë‹ˆë‹¤. ëª¨ë°”ì¼ ê°œë°œìë“¤ ì‚¬ì´ì—ì„œ ì¸ê¸°ë¥¼ ëŒê³  ìˆëŠ” FlutterëŠ” ë„¤ì´í‹°ë¸Œ ì»´íŒŒì¼ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í›Œë¥­í•œ í”„ë ˆì„ì›Œí¬ë¡œ ë‘ë“œëŸ¬ì§‘ë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” Flutterì—ì„œ ë‹¤ì–‘í•œ ê²€ìƒ‰ ìœ„ì ¯ì„ ë””ìì¸í•˜ëŠ” ì—¬ì •ì„ ì‹œì‘í•´ CustomSearchDelegateì™€ ê°™ì€ ë²”ìš© ìœ„ì ¯ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê²€ìƒ‰ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ showSearch ë©”ì„œë“œë¥¼ í™œìš©í•  ê²ƒì…ë‹ˆë‹¤. ë¨¼ì € ê¸°ë³¸ ê²€ìƒ‰ ë°”ë¥¼ ë§Œë“¤ê³ , ì´í›„ì—ëŠ” ì„ì˜ì˜ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ì‹ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ê²°ê³¼ë¬¼ì€ ì´ë ‡ê²Œ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.</p>\n<h1>showSearch:</h1>\n<div class=\"content-ad\"></div>\n<p>ShowSearchì€ í”ŒëŸ¬í„°ì˜ ë¨¸í‹°ë¦¬ì–¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” ë©”ì†Œë“œì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìœ„ì ¯ íŠ¸ë¦¬ ì–´ë””ì—ì„œë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title class_\">Future</span>&#x3C;T?> showSearch&#x3C;T>({\n  required <span class=\"hljs-title class_\">BuildContext</span> context,\n  required <span class=\"hljs-title class_\">SearchDelegate</span>&#x3C;T> delegate,\n  <span class=\"hljs-title class_\">String</span>? query = <span class=\"hljs-string\">''</span>,\n  bool useRootNavigator = <span class=\"hljs-literal\">false</span>,\n})\n</code></pre>\n<p>ì´ ë©”ì†Œë“œëŠ” BuildContextì™€ SearchDelegateë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. SearchDelegateëŠ” T íƒ€ì…ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.</p>\n<p>ì˜ˆì‹œ:</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"> <span class=\"hljs-title function_\">showSearch</span>(<span class=\"hljs-attr\">context</span>: context, <span class=\"hljs-attr\">delegate</span>: <span class=\"hljs-title class_\">CustomSearchDelegate</span>());\n</code></pre>\n<p>ë”°ë¼ì„œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ë©´ SearchDelegateë¥¼ í™•ì¥í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë©´ ë©ë‹ˆë‹¤. ê·¸ê²ƒì´ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ì‚´í´ë´…ì‹œë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CustomSearchDelegate</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">SearchDelegate</span> {\n  @override\n  <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">Widget</span>>? <span class=\"hljs-title function_\">buildActions</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-comment\">// í•  ì¼: buildActions êµ¬í˜„</span>\n    <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-title class_\">UnimplementedError</span>();\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span>? <span class=\"hljs-title function_\">buildLeading</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-comment\">// í•  ì¼: buildLeading êµ¬í˜„</span>\n    <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-title class_\">UnimplementedError</span>();\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">buildResults</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-comment\">// í•  ì¼: buildResults êµ¬í˜„</span>\n    <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-title class_\">UnimplementedError</span>();\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">buildSuggestions</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-comment\">// í•  ì¼: buildSuggestions êµ¬í˜„</span>\n    <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-title class_\">UnimplementedError</span>();\n  }\n\n}\n</code></pre>\n<p>SearchDelegateëŠ” 4ê°œì˜ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ë„ë¡ ìš”êµ¬í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<ul>\n<li>buildActions: ê²€ìƒ‰ ì¿¼ë¦¬ë¥¼ ì§€ìš°ëŠ” ì‘ì—…ê³¼ ê°™ì€ ì•¡ì…˜ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. AppBarì˜ action ë§¤ê°œë³€ìˆ˜ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤.</li>\n<li>buildLeading: ì¼ë°˜ì ìœ¼ë¡œ ë„¤ë¹„ê²Œì´ì…˜ì„ ìœ„í•œ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì´ í¬í•¨ë©ë‹ˆë‹¤.</li>\n<li>buildResults: ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.</li>\n<li>buildSuggestions: ì‚¬ìš©ìê°€ ì¿¼ë¦¬ë¥¼ ì…ë ¥í•˜ëŠ” ë™ì•ˆ ì œì•ˆì„ ì œê³µí•©ë‹ˆë‹¤.</li>\n</ul>\n<p>ì´ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ ê²€ìƒ‰ì„ êµ¬í˜„í•´ë´…ì‹œë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CustomSearchDelegate</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">SearchDelegate</span> {\n  <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">String</span>> searchables = <span class=\"hljs-title class_\">List</span>.<span class=\"hljs-title function_\">generate</span>(<span class=\"hljs-number\">100</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">index</span>) =></span> <span class=\"hljs-string\">'ì•„ì´í…œ ${index + 1}'</span>);\n\n  @override\n  <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">Widget</span>>? <span class=\"hljs-title function_\">buildActions</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> [\n      <span class=\"hljs-title class_\">IconButton</span>(\n        <span class=\"hljs-attr\">onPressed</span>: () {\n          query = <span class=\"hljs-string\">''</span>;\n        },\n        <span class=\"hljs-attr\">icon</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Icon</span>(<span class=\"hljs-title class_\">Icons</span>.<span class=\"hljs-property\">clear</span>),\n      ),\n    ];\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span>? <span class=\"hljs-title function_\">buildLeading</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">IconButton</span>(\n      <span class=\"hljs-attr\">onPressed</span>: () {\n        <span class=\"hljs-title function_\">close</span>(context, []);\n      },\n      <span class=\"hljs-attr\">icon</span>: <span class=\"hljs-title class_\">Icon</span>(\n        <span class=\"hljs-title class_\">Platform</span>.<span class=\"hljs-property\">isAndroid</span> ? <span class=\"hljs-title class_\">Icons</span>.<span class=\"hljs-property\">arrow_back</span> : <span class=\"hljs-title class_\">Icons</span>.<span class=\"hljs-property\">arrow_back_ios</span>,\n        <span class=\"hljs-attr\">size</span>: <span class=\"hljs-number\">22</span>,\n      ),\n    );\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">buildResults</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">SuggestionOrResultWidget</span>(<span class=\"hljs-attr\">searchables</span>: searchables, <span class=\"hljs-attr\">query</span>: query);\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">buildSuggestions</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">SuggestionOrResultWidget</span>(<span class=\"hljs-attr\">searchables</span>: searchables, <span class=\"hljs-attr\">query</span>: query);\n  }\n}\n</code></pre>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SuggestionOrResultWidget</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">StatelessWidget</span> {\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">SuggestionOrResultWidget</span>({\n    key,\n    required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">searchables</span>,\n    required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">query</span>,\n  });\n\n  final <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">String</span>> searchables;\n  final <span class=\"hljs-title class_\">String</span> query;\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">build</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    final <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">String</span>> suggestions = query.<span class=\"hljs-property\">isEmpty</span>\n        ? searchables\n        : searchables.<span class=\"hljs-title function_\">where</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">element</span>) =></span> element.<span class=\"hljs-title function_\">toLowerCase</span>().<span class=\"hljs-title function_\">contains</span>(query.<span class=\"hljs-title function_\">toLowerCase</span>())).<span class=\"hljs-title function_\">toList</span>();\n\n    <span class=\"hljs-keyword\">if</span> (suggestions.<span class=\"hljs-property\">isEmpty</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">NoResultWidget</span>();\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">ListView</span>.<span class=\"hljs-title function_\">separated</span>(\n      <span class=\"hljs-attr\">itemBuilder</span>: <span class=\"hljs-function\">(<span class=\"hljs-params\">context, index</span>) =></span> <span class=\"hljs-title class_\">ListTile</span>(\n        <span class=\"hljs-attr\">title</span>: <span class=\"hljs-title class_\">Text</span>(suggestions[index]),\n      ),\n      <span class=\"hljs-attr\">separatorBuilder</span>: <span class=\"hljs-function\">(<span class=\"hljs-params\">context, index</span>) =></span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Divider</span>(),\n      <span class=\"hljs-attr\">itemCount</span>: suggestions.<span class=\"hljs-property\">length</span>,\n    );\n  }\n}\n</code></pre>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">NoResultWidget</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">StatelessWidget</span> {\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">NoResultWidget</span>({<span class=\"hljs-title class_\">Key</span> key});\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">build</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Center</span>(\n      <span class=\"hljs-attr\">child</span>: <span class=\"hljs-title class_\">Text</span>(<span class=\"hljs-string\">'No Result Found'</span>),\n    );\n  }\n}\n</code></pre>\n<p>ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤</p>\n<img src=\"https://miro.medium.com/v2/resize:fit:752/1*06CrNqmR7P5yqvzpGdtdXw.gif\">\n<h1>ê²€ìƒ‰ í˜ì´ì§€ ì•±ë°”ì˜ ThemeData ì‚¬ìš©ì ì •ì˜í•˜ê¸°</h1>\n<div class=\"content-ad\"></div>\n<p>í•˜ë‚˜ ì£¼ëª©í•  ì ì€ ê²€ìƒ‰ í˜ì´ì§€ë¥¼ í‘œì‹œí•  ë•Œ ì•±ì˜ í…Œë§ˆì™€ ë™ì¼í•˜ì§€ ì•Šë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” íŠ¹íˆ AppBarì˜ ìƒ‰ìƒì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” ê²€ìƒ‰ í˜ì´ì§€ì˜ AppBarì— ì•±ì˜ ThemeDataë¥¼ ì§ì ‘ ì „ë‹¬í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CustomSearchDelegate</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">SearchDelegate</span> {\n  <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">String</span>> searchables = <span class=\"hljs-title class_\">List</span>.<span class=\"hljs-title function_\">generate</span>(<span class=\"hljs-number\">100</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">index</span>) =></span> <span class=\"hljs-string\">'Item ${index + 1}'</span>);\n\n  @override\n  <span class=\"hljs-title class_\">ThemeData</span> <span class=\"hljs-title function_\">appBarTheme</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">ThemeData</span>(\n      <span class=\"hljs-comment\">// ì•±ë°” í…Œë§ˆë¥¼ ì‚¬ìš©ì ì •ì˜í•©ë‹ˆë‹¤.</span>\n      <span class=\"hljs-attr\">appBarTheme</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">AppBarTheme</span>(\n        <span class=\"hljs-attr\">backgroundColor</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">blue</span>,\n        <span class=\"hljs-attr\">foregroundColor</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">white</span>,\n      ),\n      <span class=\"hljs-comment\">// ì…ë ¥ ì¥ì‹ í…Œë§ˆë¥¼ ì‚¬ìš©ì ì •ì˜í•©ë‹ˆë‹¤.</span>\n      <span class=\"hljs-attr\">inputDecorationTheme</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">InputDecorationTheme</span>(\n        <span class=\"hljs-attr\">isDense</span>: <span class=\"hljs-literal\">true</span>,\n        <span class=\"hljs-attr\">isCollapsed</span>: <span class=\"hljs-literal\">true</span>,\n        <span class=\"hljs-attr\">contentPadding</span>: <span class=\"hljs-title class_\">EdgeInsets</span>.<span class=\"hljs-title function_\">only</span>(<span class=\"hljs-attr\">left</span>: <span class=\"hljs-number\">12</span>, <span class=\"hljs-attr\">top</span>: <span class=\"hljs-number\">6</span>, <span class=\"hljs-attr\">bottom</span>: <span class=\"hljs-number\">6</span>),\n        <span class=\"hljs-attr\">enabledBorder</span>: <span class=\"hljs-title class_\">OutlineInputBorder</span>(\n            <span class=\"hljs-attr\">borderSide</span>: <span class=\"hljs-title class_\">BorderSide</span>(\n          <span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">white</span>,\n        )),\n        <span class=\"hljs-attr\">focusedBorder</span>: <span class=\"hljs-title class_\">OutlineInputBorder</span>(\n            <span class=\"hljs-attr\">borderSide</span>: <span class=\"hljs-title class_\">BorderSide</span>(\n          <span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">white</span>,\n        )),\n        <span class=\"hljs-attr\">border</span>: <span class=\"hljs-title class_\">OutlineInputBorder</span>(\n          <span class=\"hljs-attr\">borderSide</span>: <span class=\"hljs-title class_\">BorderSide</span>(\n            <span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">white</span>,\n          ),\n        ),\n      ),\n    );\n  }\n</code></pre>\n<img src=\"/assets/img/2024-06-21-FlutterSearchBarAnUltimateGuide_0.png\">\n<h1>ì¼ë°˜ì ì¸ ê²€ìƒ‰ ìœ„ì ¯ ë§Œë“¤ê¸°:</h1>\n<div class=\"content-ad\"></div>\n<p>ë” ê³ ê¸‰ êµ¬í˜„ìœ¼ë¡œ ë‚˜ì•„ê°€ê¸° ìœ„í•´ CustomSearchDelegateë¥¼ ìì„¸íˆ ì‚´í´ë´…ì‹œë‹¤. ì´ ì¼ë°˜ì ì¸ ìœ„ì ¯ì€ ì—¬ëŸ¬ ë°ì´í„° ìœ í˜•ì—ì„œ ì¬ì‚¬ìš©ì„±ê³¼ ì ì‘ì„±ì„ ê°€ì¥í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">/// ì–´ë””ì„œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì œë„¤ë¦­ ê²€ìƒ‰ ëŒ€ë¦¬ìì…ë‹ˆë‹¤</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CustomSearchDelegate</span>&#x3C;T> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">SearchDelegate</span>&#x3C;<span class=\"hljs-title class_\">List</span>&#x3C;T>> {\n  <span class=\"hljs-title class_\">CustomSearchDelegate</span>({\n    required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">searchables</span>,\n    required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">suggestionOrResult</span>,\n    required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">itemMatcher</span>,\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onTap</span>,\n  });\n  \n  <span class=\"hljs-comment\">// ê²€ìƒ‰ ëŒ€ìƒ í•­ëª©</span>\n  final <span class=\"hljs-title class_\">List</span>&#x3C;T> searchables;\n  \n  <span class=\"hljs-comment\">// ì œì•ˆ ë˜ëŠ” ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ë•Œ í‘œì‹œí•´ì•¼ í•˜ëŠ” ìœ„ì ¯ì…ë‹ˆë‹¤.</span>\n  <span class=\"hljs-comment\">// ì œì•ˆê³¼ ê²°ê³¼ì— ëŒ€í•´ ë³„ë„ì˜ ìœ„ì ¯ì„ ì‚¬ìš©í•˜ë ¤ë©´ suggestionWidget ë° resultWidgetì„ ì¶”ê°€í•˜ì—¬ </span>\n  <span class=\"hljs-comment\">// ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>\n  final <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title class_\">Function</span>(<span class=\"hljs-title class_\">List</span>&#x3C;T>, <span class=\"hljs-title class_\">String</span>) suggestionOrResult;\n\n  <span class=\"hljs-comment\">// ì¼ì¹˜ ì‹¤í–‰ì— ëŒ€í•œ ì¿¼ë¦¬</span>\n  final bool <span class=\"hljs-title class_\">Function</span>(T item, <span class=\"hljs-title class_\">String</span> query) itemMatcher;\n\n  <span class=\"hljs-comment\">// í•­ëª©ì´ íƒ­ë  ë•Œì˜ ì½œë°±</span>\n  final <span class=\"hljs-title class_\">ValueChanged</span>&#x3C;T>? onTap;\n\n  @override\n  <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">Widget</span>>? <span class=\"hljs-title function_\">buildActions</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> [\n      <span class=\"hljs-title class_\">IconButton</span>(\n        <span class=\"hljs-attr\">onPressed</span>: () {\n          query = <span class=\"hljs-string\">''</span>;\n        },\n        <span class=\"hljs-attr\">icon</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Icon</span>(<span class=\"hljs-title class_\">Icons</span>.<span class=\"hljs-property\">clear</span>),\n      ),\n    ];\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">buildLeading</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">IconButton</span>(\n      <span class=\"hljs-attr\">onPressed</span>: () {\n        <span class=\"hljs-title function_\">close</span>(context, []);\n      },\n      <span class=\"hljs-attr\">icon</span>: <span class=\"hljs-title class_\">Icon</span>(\n        <span class=\"hljs-title class_\">Platform</span>.<span class=\"hljs-property\">isAndroid</span> ? <span class=\"hljs-title class_\">Icons</span>.<span class=\"hljs-property\">arrow_back</span> : <span class=\"hljs-title class_\">Icons</span>.<span class=\"hljs-property\">arrow_back_ios</span>,\n        <span class=\"hljs-attr\">size</span>: <span class=\"hljs-number\">22</span>,\n      ),\n    );\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">buildResults</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">_buildSuggestionOrResult</span>();\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">buildSuggestions</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">if</span> (searchables.<span class=\"hljs-property\">isEmpty</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">SizedBox</span>();\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">_buildSuggestionOrResult</span>();\n  }\n\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">_buildSuggestionOrResult</span>(<span class=\"hljs-params\"></span>) {\n    final <span class=\"hljs-title class_\">List</span>&#x3C;T> suggestionList =\n        query.<span class=\"hljs-property\">isEmpty</span> ? searchables : searchables.<span class=\"hljs-title function_\">where</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">item</span>) =></span> <span class=\"hljs-title function_\">itemMatcher</span>(item, query)).<span class=\"hljs-title function_\">toList</span>();\n\n    <span class=\"hljs-keyword\">if</span> (suggestionList.<span class=\"hljs-property\">isEmpty</span>) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">NoResultFoundWidget</span>();\n    }\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">suggestionOrResult</span>(suggestionList, query);\n  }\n\n}\n</code></pre>\n<p>ë‹¤ìŒê³¼ ê°™ì´ ì´ ì¼ë°˜ ëŒ€ë¦¬ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-title function_\">showSearch</span>(\n  <span class=\"hljs-attr\">context</span>: context,\n  <span class=\"hljs-attr\">delegate</span>: <span class=\"hljs-title class_\">CustomSearchDelegate</span>&#x3C;<span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">String</span>>>(\n    <span class=\"hljs-attr\">searchables</span>: searchables,\n    <span class=\"hljs-attr\">suggestionOrResult</span>: <span class=\"hljs-function\">(<span class=\"hljs-params\">List&#x3C;<span class=\"hljs-built_in\">String</span>> suggestions, <span class=\"hljs-built_in\">String</span> query</span>) =></span> <span class=\"hljs-title class_\">ListWidget</span>(\n      <span class=\"hljs-attr\">suggestionsList</span>: searchables,\n      <span class=\"hljs-attr\">query</span>: query,\n    ),\n    <span class=\"hljs-attr\">itemMatcher</span>: <span class=\"hljs-function\">(<span class=\"hljs-params\"><span class=\"hljs-built_in\">String</span> item, <span class=\"hljs-built_in\">String</span> query</span>) =></span> item.<span class=\"hljs-title function_\">toLowerCase</span>().<span class=\"hljs-title function_\">contains</span>(query.<span class=\"hljs-title function_\">toLowerCase</span>()),\n  ),\n)\n</code></pre>\n<div class=\"content-ad\"></div>\n<h1>ë³´ë„ˆìŠ¤:</h1>\n<p>ë§Œì¼ ì…ë ¥ëœ ê¸€ìë¥¼ ì œì‹œ ëª©ë¡ì—ì„œ ê°•ì¡°í•˜ê³  ê²°ê³¼ë¡œ ìŠ¤í¬ë¡¤í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒ ìœ„ì ¯ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ListWidget</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">StatefulWidget</span> {\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">ListWidget</span>({\n    <span class=\"hljs-variable language_\">super</span>.<span class=\"hljs-property\">key</span>,\n    required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">suggestionsList</span>,\n    required <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">query</span>,\n  });\n\n  final <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">String</span>> suggestionsList;\n  final <span class=\"hljs-title class_\">String</span> query;\n\n  @override\n  <span class=\"hljs-title class_\">State</span>&#x3C;<span class=\"hljs-title class_\">ListWidget</span>> <span class=\"hljs-title function_\">createState</span>() => <span class=\"hljs-title function_\">_ListWidgetState</span>();\n}\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">_ListWidgetState</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">State</span>&#x3C;<span class=\"hljs-title class_\">ListWidget</span>> {\n  late <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">String</span>> filteredList;\n  final <span class=\"hljs-title class_\">ScrollController</span> scrollController = <span class=\"hljs-title class_\">ScrollController</span>();\n\n  @override\n  <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">initState</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">super</span>.<span class=\"hljs-title function_\">initState</span>();\n    <span class=\"hljs-title function_\">filterList</span>();\n  }\n\n  @override\n  <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">didUpdateWidget</span>(<span class=\"hljs-params\">ListWidget oldWidget</span>) {\n    <span class=\"hljs-variable language_\">super</span>.<span class=\"hljs-title function_\">didUpdateWidget</span>(oldWidget);\n    <span class=\"hljs-keyword\">if</span> (widget.<span class=\"hljs-property\">query</span> != oldWidget.<span class=\"hljs-property\">query</span>) {\n      <span class=\"hljs-title function_\">filterList</span>();\n    }\n  }\n\n  <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">filterList</span>(<span class=\"hljs-params\"></span>) {\n    filteredList =\n        widget.<span class=\"hljs-property\">suggestionsList</span>.<span class=\"hljs-title function_\">where</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">item</span>) =></span> item.<span class=\"hljs-title function_\">toLowerCase</span>().<span class=\"hljs-title function_\">contains</span>(widget.<span class=\"hljs-property\">query</span>.<span class=\"hljs-title function_\">toLowerCase</span>())).<span class=\"hljs-title function_\">toList</span>();\n\n    <span class=\"hljs-keyword\">if</span> (filteredList.<span class=\"hljs-property\">isNotEmpty</span>) {\n      <span class=\"hljs-keyword\">if</span> (filteredList.<span class=\"hljs-property\">isNotEmpty</span>) {\n        <span class=\"hljs-title class_\">WidgetsBinding</span>.<span class=\"hljs-property\">instance</span>.<span class=\"hljs-title function_\">addPostFrameCallback</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">_</span>) =></span> <span class=\"hljs-title function_\">scrollToFirstMatch</span>());\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">scrollToFirstMatch</span>(<span class=\"hljs-params\"></span>) {\n    int index = widget.<span class=\"hljs-property\">suggestionsList</span>.<span class=\"hljs-title function_\">indexOf</span>(filteredList.<span class=\"hljs-property\">first</span>);\n    <span class=\"hljs-keyword\">if</span> (index != -<span class=\"hljs-number\">1</span> &#x26;&#x26; scrollController.<span class=\"hljs-property\">hasClients</span>) {\n      scrollController.<span class=\"hljs-title function_\">animateTo</span>(\n        index * <span class=\"hljs-number\">32.0</span>, <span class=\"hljs-comment\">// ê° í•­ëª©ì˜ ë†’ì´ê°€ 32ë¡œ ê°€ì •</span>\n        <span class=\"hljs-attr\">duration</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Duration</span>(<span class=\"hljs-attr\">milliseconds</span>: <span class=\"hljs-number\">100</span>),\n        <span class=\"hljs-attr\">curve</span>: <span class=\"hljs-title class_\">Curves</span>.<span class=\"hljs-property\">easeInOut</span>,\n      );\n    }\n  }\n\n  @override\n  <span class=\"hljs-title class_\">Widget</span> <span class=\"hljs-title function_\">build</span>(<span class=\"hljs-params\">BuildContext context</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">ListView</span>.<span class=\"hljs-title function_\">separated</span>(\n      <span class=\"hljs-attr\">controller</span>: scrollController,\n      <span class=\"hljs-attr\">itemCount</span>: filteredList.<span class=\"hljs-property\">length</span>,\n      <span class=\"hljs-attr\">itemBuilder</span>: (context, index) {\n        final <span class=\"hljs-title class_\">String</span> suggestionText = filteredList[index];\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">ListTile</span>(\n          <span class=\"hljs-attr\">title</span>: <span class=\"hljs-title class_\">RichText</span>(\n            <span class=\"hljs-attr\">text</span>: <span class=\"hljs-title function_\">highlightMatch</span>(suggestionText, widget.<span class=\"hljs-property\">query</span>),\n          ),\n          <span class=\"hljs-attr\">onTap</span>: () {\n            <span class=\"hljs-comment\">// ì—¬ê¸°ì— íƒ­ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì„¸ìš”</span>\n          },\n        );\n      },\n      <span class=\"hljs-attr\">separatorBuilder</span>: <span class=\"hljs-function\">(<span class=\"hljs-params\">context, index</span>) =></span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Divider</span>(),\n    );\n  }\n\n  <span class=\"hljs-title class_\">TextSpan</span> <span class=\"hljs-title function_\">highlightMatch</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">String</span> text, <span class=\"hljs-built_in\">String</span> query</span>) {\n    <span class=\"hljs-keyword\">if</span> (query.<span class=\"hljs-property\">isEmpty</span> || !text.<span class=\"hljs-title function_\">toLowerCase</span>().<span class=\"hljs-title function_\">contains</span>(query.<span class=\"hljs-title function_\">toLowerCase</span>())) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">TextSpan</span>(\n        <span class=\"hljs-attr\">text</span>: text,\n        <span class=\"hljs-attr\">style</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">TextStyle</span>(<span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">black</span>),\n      );\n    }\n\n    <span class=\"hljs-title class_\">List</span>&#x3C;<span class=\"hljs-title class_\">TextSpan</span>> spans = [];\n    int start = <span class=\"hljs-number\">0</span>;\n    int indexOfHighlight = text.<span class=\"hljs-title function_\">toLowerCase</span>().<span class=\"hljs-title function_\">indexOf</span>(query.<span class=\"hljs-title function_\">toLowerCase</span>());\n\n    <span class=\"hljs-keyword\">while</span> (indexOfHighlight != -<span class=\"hljs-number\">1</span>) {\n      spans.<span class=\"hljs-title function_\">add</span>(<span class=\"hljs-title class_\">TextSpan</span>(\n        <span class=\"hljs-attr\">text</span>: text.<span class=\"hljs-title function_\">substring</span>(start, indexOfHighlight),\n        <span class=\"hljs-attr\">style</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">TextStyle</span>(<span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">black</span>),\n      ));\n      spans.<span class=\"hljs-title function_\">add</span>(<span class=\"hljs-title class_\">TextSpan</span>(\n        <span class=\"hljs-attr\">text</span>: text.<span class=\"hljs-title function_\">substring</span>(indexOfHighlight, indexOfHighlight + query.<span class=\"hljs-property\">length</span>),\n        <span class=\"hljs-attr\">style</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">TextStyle</span>(<span class=\"hljs-attr\">backgroundColor</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">yellow</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">black</span>),\n      ));\n\n      start = indexOfHighlight + query.<span class=\"hljs-property\">length</span>;\n      indexOfHighlight = text.<span class=\"hljs-title function_\">toLowerCase</span>().<span class=\"hljs-title function_\">indexOf</span>(query.<span class=\"hljs-title function_\">toLowerCase</span>(), start);\n    }\n\n    spans.<span class=\"hljs-title function_\">add</span>(<span class=\"hljs-title class_\">TextSpan</span>(\n      <span class=\"hljs-attr\">text</span>: text.<span class=\"hljs-title function_\">substring</span>(start),\n      <span class=\"hljs-attr\">style</span>: <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">TextStyle</span>(<span class=\"hljs-attr\">color</span>: <span class=\"hljs-title class_\">Colors</span>.<span class=\"hljs-property\">black</span>),\n    ));\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">TextSpan</span>(<span class=\"hljs-attr\">children</span>: spans);\n  }\n}\n</code></pre>\n<img src=\"https://miro.medium.com/v2/resize:fit:468/1*8xf8nCjiihJQ-XUSlLe5MA.gif\">\n<div class=\"content-ad\"></div>\n<h1>ê²°ë¡ :</h1>\n<p>ëª¨ë°”ì¼ ì•± ë””ìì¸ì—ì„œ íš¨ê³¼ì ì¸ ê²€ìƒ‰ ê¸°ëŠ¥ì€ ì‚¬ìš©ì ë§Œì¡±ë„ì™€ ì°¸ì—¬ë„ì— ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤. ì´ CustomSearchDelegateì€ í”ŒëŸ¬í„° ì•±ì—ì„œ ì‚¬ìš©ì ì •ì˜ ë° ë‹¤ì–‘í•œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ë§Œë“¤ê¸° ìœ„í•œ í…œí”Œë¦¿ì„ ì œê³µí•©ë‹ˆë‹¤.</p>\n<p>ë…ì„œí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ì¦ê±°ìš´ ì½”ë”© í•˜ì„¸ìš” :)</p>\n<h1>Stackademic</h1>\n<div class=\"content-ad\"></div>\n<p>ëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë– ë‚˜ì‹œê¸° ì „ì—:</p>\n<ul>\n<li>ì‘ê°€ë¥¼ ê²©ë ¤í•˜ê³  íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš”! ğŸ‘</li>\n<li>íŠ¸ìœ„í„°(X), ë§í¬ë“œì¸, ê·¸ë¦¬ê³  ìœ íŠœë¸Œì—ì„œ ì €í¬ë¥¼ íŒ”ë¡œìš°í•´ ì£¼ì„¸ìš”.</li>\n<li>ì „ì„¸ê³„ì—ì„œ ë¬´ë£Œ í”„ë¡œê·¸ë˜ë° êµìœ¡ì„ ë¯¼ì£¼í™”í•˜ê³  ìˆëŠ” Stackademic.comì„ ë°©ë¬¸í•´ë³´ì„¸ìš”.</li>\n</ul>\n</body>\n</html>\n"},"__N_SSG":true}