{"pageProps":{"post":{"title":"Create React App CRAì—ì„œ Viteë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ëŠ” ê°€ì´ë“œ","description":"","date":"2024-06-23 15:09","slug":"2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite","content":"\n\nìš”ì¦˜ íšŒì‚¬ ë‚´ ë³´ì•ˆ íŒ€ìœ¼ë¡œë¶€í„° ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œê²¬ëœ ëª¨ë“  ì·¨ì•½ì ì„ ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ í•´ê²°í•˜ë¼ëŠ” ì•ˆë‚´ë¥¼ ë°›ì•˜ì–´ìš”.\n\nSynk ë³´ê³ ì„œë¥¼ ì—´ì–´ ë³´ë‹ˆ, react-scripts íŒ¨í‚¤ì§€ì™€ ê´€ë ¨ëœ ì¤‘ìš”ë„ê°€ ì¤‘ê°„ë¶€í„° ë†’ìŒê¹Œì§€ ë‹¤ì–‘í•œ ì·¨ì•½ì ì´ ë‚˜ì—´ë˜ì–´ ìˆì—ˆì–´ìš”. ì´ì— ëŒ€í•œ ì˜ì¡´ì„± ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤. ì €í¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ 2ë…„ ì „ì— ë‚˜ì˜¨ ë¦¬ì•¡íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ì¸ 5.0.1ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ë” ì´ìƒ ê´€ë¦¬ë˜ì§€ ì•Šê³  ìˆì–´ìš”.\n\nê·¸ë˜ì„œ ì˜ì¡´ì„± ë²„ì „ì„ ë®ì–´ì”Œìš°ëŠ” ëŒ€ì‹  Viteì„ ì‚¬ìš©í•´ ë³´ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”!\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png)\n\n<div class=\"content-ad\"></div>\n\nCRAì—ì„œ Viteë¡œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì „í™˜í•˜ëŠ” ê³¼ì •ì—ì„œ ë”°ë¼í•œ ë‹¨ê³„ë³„ ì•ˆë‚´ì„œë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.\n\n## 1. ì˜ì¡´ì„± ì„¤ì¹˜ âš¡ï¸\n\nê°€ì¥ ë¨¼ì €, ì—¬ëŸ¬ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\nnpm install vite @vitejs/plugin-react vite-tsconfig-paths vite-plugin-svgr vite-plugin-commonjs --save-dev\n```\n\n<div class=\"content-ad\"></div>\n\n- vite\n- @vitejs/plugin-react\n- vite-tsconfig-paths\n\n- vite-plugin-svgr\n- vite-plugin-commonjs\n\n## 2. Create `vite.config.ts` âš¡ï¸\n\ní”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `vite.config.ts` íŒŒì¼ì„ ë§Œë“œì„¸ìš”. ì´ íŒŒì¼ì€ Viteê°€ í”„ë¡œì íŠ¸ì—ì„œ ì‘ë™í•˜ëŠ” ì—¬ëŸ¬ ì¸¡ë©´ì„ ì œì–´í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n```js\nimport path from 'path';\nimport { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\n\nexport default defineConfig({\n  base: './',\n  plugins: [\n    react(),\n  ],\n  server: {\n    open: true, // ë¸Œë¼ìš°ì €ì—ì„œ ì•± ìë™ìœ¼ë¡œ ì—´ê¸°\n    port: 3000,\n  },\n  resolve: {\n    alias: {\n      screens: path.resolve(__dirname, './src/screens'),\n    },\n  },\n  build: {\n    outDir: 'build',\n  },\n});\n```\n\nê° êµ¬ì„± ì˜µì…˜ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n- base: ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ URLì„ ì„¤ì •í•©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ https://abc.com/portal/ì— ë°°í¬ë˜ì—ˆë‹¤ë©´ baseë¥¼ `/portal/`ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n- plugin: ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— Vite í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. @vitejs/plugin-reactì—ì„œ ì œê³µí•˜ëŠ” React í”ŒëŸ¬ê·¸ì¸ì€ JSX ë° ê¸°íƒ€ React íŠ¹ì • ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤. ê¸°íƒ€ ì„ íƒì  í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œëŠ” commonjs(í•„ìš”í•œ ê²½ìš° CommonJS ëª¨ë“ˆì„ ES6 ëª¨ë“ˆë¡œ ë³€í™˜), svgr(ì• í”Œë¦¬ì¼€ì´ì…˜ì— SVGê°€ ìˆëŠ” ê²½ìš° React ì»´í¬ë„ŒíŠ¸ë¡œ ì§ì ‘ ê°€ì ¸ì™€ì•¼ í•¨) ë° vite-tsconfig-paths(íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ë³„ì¹­ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©) ë“±ì´ ìˆìŠµë‹ˆë‹¤.\n\n```js\n// vite.config.ts\nimport { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\nimport commonjs from 'vite-plugin-commonjs';\nimport svgr from 'vite-plugin-svgr';\nimport viteTsConfigPaths from 'vite-tsconfig-paths';\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    viteTsConfigPaths(),\n    commonjs(),\n    svgr({\n      include: [\n        'src/**/*.svg',\n      ],\n    }),\n  ],\n});\n\nâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦\n\n// SVG íŒŒì¼ì„ React ì»´í¬ë„ŒíŠ¸ë¡œ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤:\n// Component.jsx\nimport Icon from './icon.svg?react'.\n\nâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦\n\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"components/*\": [\"src/components/*\"],\n    }\n  }\n}\n\n// ìƒëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ëŠ” ëŒ€ì‹ \nimport Button from '../../components/Button';\n\n// ì •ì˜ëœ ë³„ì¹­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\nimport Button from 'components/Button';\n```\n\n<div class=\"content-ad\"></div>\n\n- server: ê°œë°œ ì„œë²„ì˜ í¬íŠ¸ ë²ˆí˜¸ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ í¬íŠ¸ 5173ì…ë‹ˆë‹¤.\n- resolve: ë³„ì¹­ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¤ê¸° ê²½ë¡œë¥¼ ê°„ì†Œí™”í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n- build: Viteì—ì„œ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‚¬ìš©ì ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¶œë ¥ ë””ë ‰í† ë¦¬ì˜ ì´ë¦„ì„ ì„¤ì •í•˜ê±°ë‚˜ CRAì™€ ë™ì¼í•œ ë¹Œë“œ í´ë”ë¥¼ ìœ ì§€í•˜ë ¤ë©´ buildë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ distì…ë‹ˆë‹¤. ë˜í•œ ì½”ë“œ ë¶„í• ì„ êµ¬ì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n```js\nimport { defineConfig } from 'vite';\n\nexport default defineConfig({\n  optimizeDeps: {\n    force: true,\n    esbuildOptions: {\n      loader: {\n        '.js': 'jsx',\n      },\n    },\n  },\n});\n```\n\n- OptimizeDeps: esbuild( Viteì˜ ê¸°ë³¸ ë²ˆë“¤ëŸ¬)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¢…ì†ì„±ì˜ ì‚¬ì „ ë²ˆë“¤ë§ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. force: trueë¡œ ì„¤ì •í•˜ë©´ Viteê°€ ëª¨ë“  ê°œë°œ ì‹œì‘ ì‹œë§ˆë‹¤ ì¢…ì†ì„±ì„ ì‚¬ì „ ë²ˆë“¤ë§í•˜ì—¬ í•­ìƒ ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•˜ë„ë¡ í•©ë‹ˆë‹¤. ë˜í•œ loader: '`.js`: `jsx`'ëŠ” ESBuildê°€ JS íŒŒì¼ì„ JSX íŒŒì¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•¨ì„ ì§€ì •í•©ë‹ˆë‹¤. JS íŒŒì¼ì— JSX êµ¬ë¬¸ì´ í¬í•¨ë˜ì–´ ìˆëŠ” ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤.\n\n## 3. vite-env.d.ts íŒŒì¼ ìƒì„± âš¡ï¸\n\n<div class=\"content-ad\"></div>\n\ní”„ë¡œì íŠ¸ ë£¨íŠ¸ì— vite-env.d.tsë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”.\n\n```js\n// vite-env.d.ts\n/// <reference types=\"vite/client\" />\n```\n\nì´ ì½”ë“œëŠ” Viteì˜ ì „ì—­ ë³€ìˆ˜ ë° í´ë¼ì´ì–¸íŠ¸ íŠ¹ì • ê¸°ëŠ¥ì— ëŒ€í•œ íƒ€ì… ì •ì˜ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì€ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ë° ëª¨ë“ˆ ì„ ì–¸ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ì´ëŠ” TypeScriptê°€ Vite í”„ë¡œì íŠ¸ì˜ ë‹¤ë¥¸ ì—ì…‹ ë° ì „ì—­ ë³€ìˆ˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\n## 4. index.html íŒŒì¼ ì—…ë°ì´íŠ¸ âš¡ï¸\n\n<div class=\"content-ad\"></div>\n\n- public í´ë”ì—ì„œ index.html íŒŒì¼ì„ ë£¨íŠ¸ í´ë”ë¡œ ì´ë™í•˜ì„¸ìš”. CRAì˜ ê²½ìš° index.html íŒŒì¼ì€ public í´ë”ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ViteëŠ” í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ì— ì´ íŒŒì¼ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n- %PUBLIC_URL%ì„ ì‚­ì œí•˜ì„¸ìš”. ViteëŠ” ì •ì  ìì‚°ê³¼ ê³µê°œ ê²½ë¡œë¥¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•˜ë©° JavaScript íŒŒì¼ì—ì„œ ìì‚°ì„ ì§ì ‘ ê°€ì ¸ì˜¤ê±°ë‚˜ HTMLì—ì„œ ìƒëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.\n\n```js\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta name=\"robots\" content=\"noindex,nofollow\" />\n  <meta charset=\"utf-8\" />\n  <link rel=\"icon\" href=\"%PUBLIC_URL%/favicon.png\" />\n  <link rel=\"manifest\" href=\"%PUBLIC_URL%/manifest.json\" />\n  <title>CRA</title>\n</head>\n\n<body>\n  <noscript>ì´ ì•±ì„ ì‹¤í–‰í•˜ë ¤ë©´ JavaScriptë¥¼ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤.</noscript>\n  <div id=\"root\"></div>\n  <script src=\"%PUBLIC_URL%/src/main.jsx\"></script>\n</body>\n</html>\n```\n\n```js\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta name=\"robots\" content=\"noindex,nofollow\" />\n  <meta charset=\"utf-8\" />\n  <link rel=\"icon\" href=\"/favicon.png\" />\n  <link rel=\"manifest\" href=\"/manifest.json\" />\n  <title>CRA</title>\n</head>\n\n<body>\n  <noscript>ì´ ì•±ì„ ì‹¤í–‰í•˜ë ¤ë©´ JavaScriptë¥¼ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤.</noscript>\n  <div id=\"root\"></div>\n  <script src=\"/src/main.jsx\"></script>\n</body>\n</html>\n```\n\n## 5. tsconfig.json ì—…ë°ì´íŠ¸ âš¡ï¸\n\n<div class=\"content-ad\"></div>\n\ntsconfig.jsonì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤. íŠ¹íˆ target, types ë° libì„ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n{\n  \"compilerOptions\": {\n    \"target\": \"ESNext\",\n    \"types\": [\"vite/client\", \"vite-plugin-svgr/client\"],\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"noEmit\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"allowImportingTsExtensions\": true,\n    \"jsx\": \"react-jsx\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n```\n\n## 6. í™˜ê²½ ë³€ìˆ˜ âš¡ï¸\n\nVite í”„ë¡œì íŠ¸ì—ì„œ process.env.REACT_APP_ì—ì„œ import.meta.env.VITE_ë¡œ ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ê´€í•´ì•¼ í•©ë‹ˆë‹¤. Viteì—ì„œëŠ” import.meta.envë¥¼ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ì— ì•¡ì„¸ìŠ¤í•˜ë©°, ë°˜ë“œì‹œ ì ‘ë‘ì‚¬ VITE_ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n```js\n// CRA\nprocess.env.REACT_APP_API\n\n// Vite\nimport.meta.env.VITE_API\n\nconsole.log(import.meta.env) \n// { BASE_URL: '/', DEV: true, MODE: 'development', PROD: false, SSR: false }\n```\n\nimport.meta.envì—ëŠ” BASE_URL, DEV, MODE, PROD ë° SSRê³¼ ê°™ì€ ëª‡ ê°€ì§€ ë¯¸ë¦¬ ì •ì˜ëœ í™˜ê²½ ë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ViteëŠ” ì‹¤í–‰í•  ë•Œ import.meta.env.MODEë¥¼ developmentë¡œ ìë™ ì„¤ì •í•˜ë©°, vite buildë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” productionìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ë˜í•œ Vite ëª…ë ¹ì„ ì‹¤í–‰í•  ë•Œ í•„ìš”ì— ë”°ë¼ ëª¨ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ vite build --mode stagingì™€ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## 7. react-scripts ì‚­ì œí•˜ê¸° âš¡ï¸\n\në‹¨ìˆœíˆ Viteë¡œ ëŒ€ì²´í–ˆìœ¼ë¯€ë¡œ react-scriptsë¥¼ ì‚­ì œí•˜ê³ , ë§Œì•½ craco.config.js ë˜ëŠ” config-overrides.jsê°€ ìˆë‹¤ë©´ ì‚­ì œí•˜ì„¸ìš”.\n\n<div class=\"content-ad\"></div>\n\n```js\r\nnpm uninstall react-scripts\r\n```\r\n\r\n## 8. íŒ¨í‚¤ì§€.json íŒŒì¼ì˜ ìŠ¤í¬ë¦½íŠ¸ ì—…ë°ì´íŠ¸ âš¡ï¸\r\n\r\nreact-scripts íŒ¨í‚¤ì§€ë¥¼ ì œê±°í•œ í›„ì—ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ viteë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.\r\n\r\n```js\r\n\"scripts\": {\r\n  \"start\": \"vite\",\r\n  \"build\": \"vite build\",\r\n  \"serve\": \"vite preview\"\r\n},\r\n```\n\n<div class=\"content-ad\"></div>\n\n## 9. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ âš¡ï¸\n\nnpm startìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ì„¸ìš”. ë¸Œë¼ìš°ì €ì—ì„œ ì¦‰ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì—´ë¦¬ëŠ” ê²ƒì„ ë³´ê²Œ ë  ê±°ì—ìš”!\n\n![2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1](/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1.png)\n\në˜í•œ npm run buildë¡œ ì •ì  ë¹Œë“œë¥¼ ìˆ˜í–‰í•œ í›„, npx serve -s buildë¥¼ ì‹¤í–‰í•˜ì—¬ í”„ë¡œë•ì…˜ ë¹Œë“œë¥¼ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì–´ìš”. ğŸ˜‹\n\n<div class=\"content-ad\"></div>\n\n## 10. ESLint & Prettier ì„¤ì • âš¡ï¸\n\nCRA ë° ViteëŠ” ë™ì¼í•œ ESLint ë° Prettier êµ¬ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ì´ë™ì´ ê±°ì˜ í•„ìš”í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. ì œ ê²½ìš° eslintë¥¼ ì‹¤í–‰í•  ë•Œ \"react-app\" ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í•´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©° ë‹¤ìŒ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nnpm install eslint-config-react-app\n```\n\n## ì˜¤ë¥˜ ë° ë¬¸ì œ í•´ê²° ğŸ”§\n\n<div class=\"content-ad\"></div>\n\nViteë¡œ ì´ì£¼í•˜ë©´ì„œ ë§Œë‚œ ëª‡ ê°€ì§€ ì˜¤ë¥˜ì™€ ë‚´ê°€ ì‹œë„í•œ ë¬¸ì œ í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤.\n\nğŸ”— í•´ê²°: íŒŒì¼ í˜•ì‹ì„ .jsì—ì„œ .jsxë¡œ ë³€ê²½í•˜ê³ , ì‘ë™í•˜ì§€ ì•Šê±°ë‚˜ ì˜í–¥ì„ ë°›ëŠ” íŒŒì¼ì´ ë§ì€ ê²½ìš°, vite.config.jsì— JS íŒŒì¼ì„ JSXë¡œ ì²˜ë¦¬í•˜ëŠ” êµ¬ì„±ì„ ì¶”ê°€í•©ë‹ˆë‹¤.\n\nğŸ”— í•´ê²°: /src/assets/images/logo.svg?reactë¡œ ëŒ€ì²´í•˜ì—¬ í•´ê²°í•©ë‹ˆë‹¤. SVGë¥¼ React ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ vite.config.jsì— ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ”— í•´ê²°: npm install vite-plugin-commonjsì„ ì‹¤í–‰í•˜ê³ , vite.config.jsì— ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\nğŸ”— ì†”ë£¨ì…˜: process.envë¥¼ import.meta.envë¡œ êµì²´í•˜ì„¸ìš”.\n\nğŸ”— ì†”ë£¨ì…˜: ì´ ì„¤ì •ì„ êµ¬ì„±í–ˆë”ë‹ˆ ì‘ë™í–ˆì–´ìš”. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•˜ìœ„ ë””ë ‰í„°ë¦¬ì— ì¡´ì¬í•˜ëŠ” ê²½ìš°ì— ëŒ€í•œ ê²ƒì…ë‹ˆë‹¤.\n\n## ê²°ë¡ \n\nCRAì—ì„œ Viteë¡œ ì „í™˜í•œ í›„, ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ í”„ë¡œì„¸ìŠ¤ê°€ ìƒë‹¹íˆ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n- Development server startup: ë¶€íŒ… ì‹œê°„ì´ ëŒ€ëµ 14ì´ˆì—ì„œ ë‹¨ 1ì´ˆë¡œ ì¤„ì—ˆìŠµë‹ˆë‹¤.\n- NPM ì„¤ì¹˜: npm ì„¤ì¹˜ ê³¼ì •ì´ ëˆˆì— ë„ê²Œ ë” ë¹¨ë¼ì ¸, 2ë¶„ì—ì„œ 1ë¶„ 30ì´ˆë¡œ ë‹¨ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.\n- ë¹Œë“œ ì‹œê°„: ë¹Œë“œ ì‹œê°„ì´ 45ì´ˆì—ì„œ 22ì´ˆë¡œ ì¤„ì—ˆìŠµë‹ˆë‹¤.\n\nì „ì²´ì ìœ¼ë¡œ, ë§ˆì´ê·¸ë ˆì´ì…˜ì— ë§Œì¡±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨í•œë°ë„ ê°œë°œ ê²½í—˜ì„ ë”ìš± ì›í™œí•˜ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ì¢‹ì€ ëŒ€ì•ˆì´ë¼ê³  ìƒê°í•´ìš”.","ogImage":{"url":"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png"},"coverImage":"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png","tag":["Tech"],"readingTime":8},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>ìš”ì¦˜ íšŒì‚¬ ë‚´ ë³´ì•ˆ íŒ€ìœ¼ë¡œë¶€í„° ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œê²¬ëœ ëª¨ë“  ì·¨ì•½ì ì„ ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ í•´ê²°í•˜ë¼ëŠ” ì•ˆë‚´ë¥¼ ë°›ì•˜ì–´ìš”.</p>\n<p>Synk ë³´ê³ ì„œë¥¼ ì—´ì–´ ë³´ë‹ˆ, react-scripts íŒ¨í‚¤ì§€ì™€ ê´€ë ¨ëœ ì¤‘ìš”ë„ê°€ ì¤‘ê°„ë¶€í„° ë†’ìŒê¹Œì§€ ë‹¤ì–‘í•œ ì·¨ì•½ì ì´ ë‚˜ì—´ë˜ì–´ ìˆì—ˆì–´ìš”. ì´ì— ëŒ€í•œ ì˜ì¡´ì„± ì—…ê·¸ë ˆì´ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤. ì €í¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ 2ë…„ ì „ì— ë‚˜ì˜¨ ë¦¬ì•¡íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ì¸ 5.0.1ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ë” ì´ìƒ ê´€ë¦¬ë˜ì§€ ì•Šê³  ìˆì–´ìš”.</p>\n<p>ê·¸ë˜ì„œ ì˜ì¡´ì„± ë²„ì „ì„ ë®ì–´ì”Œìš°ëŠ” ëŒ€ì‹  Viteì„ ì‚¬ìš©í•´ ë³´ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”!</p>\n<p><img src=\"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<div class=\"content-ad\"></div>\n<p>CRAì—ì„œ Viteë¡œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì „í™˜í•˜ëŠ” ê³¼ì •ì—ì„œ ë”°ë¼í•œ ë‹¨ê³„ë³„ ì•ˆë‚´ì„œë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.</p>\n<h2>1. ì˜ì¡´ì„± ì„¤ì¹˜ âš¡ï¸</h2>\n<p>ê°€ì¥ ë¨¼ì €, ì—¬ëŸ¬ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">npm install vite @vitejs/plugin-react vite-tsconfig-paths vite-plugin-svgr vite-plugin-commonjs --save-dev\n</code></pre>\n<div class=\"content-ad\"></div>\n<ul>\n<li>\n<p>vite</p>\n</li>\n<li>\n<p>@vitejs/plugin-react</p>\n</li>\n<li>\n<p>vite-tsconfig-paths</p>\n</li>\n<li>\n<p>vite-plugin-svgr</p>\n</li>\n<li>\n<p>vite-plugin-commonjs</p>\n</li>\n</ul>\n<h2>2. Create <code>vite.config.ts</code> âš¡ï¸</h2>\n<p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— <code>vite.config.ts</code> íŒŒì¼ì„ ë§Œë“œì„¸ìš”. ì´ íŒŒì¼ì€ Viteê°€ í”„ë¡œì íŠ¸ì—ì„œ ì‘ë™í•˜ëŠ” ì—¬ëŸ¬ ì¸¡ë©´ì„ ì œì–´í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> path <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'path'</span>;\n<span class=\"hljs-keyword\">import</span> { defineConfig } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite'</span>;\n<span class=\"hljs-keyword\">import</span> react <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@vitejs/plugin-react'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineConfig</span>({\n  <span class=\"hljs-attr\">base</span>: <span class=\"hljs-string\">'./'</span>,\n  <span class=\"hljs-attr\">plugins</span>: [\n    <span class=\"hljs-title function_\">react</span>(),\n  ],\n  <span class=\"hljs-attr\">server</span>: {\n    <span class=\"hljs-attr\">open</span>: <span class=\"hljs-literal\">true</span>, <span class=\"hljs-comment\">// ë¸Œë¼ìš°ì €ì—ì„œ ì•± ìë™ìœ¼ë¡œ ì—´ê¸°</span>\n    <span class=\"hljs-attr\">port</span>: <span class=\"hljs-number\">3000</span>,\n  },\n  <span class=\"hljs-attr\">resolve</span>: {\n    <span class=\"hljs-attr\">alias</span>: {\n      <span class=\"hljs-attr\">screens</span>: path.<span class=\"hljs-title function_\">resolve</span>(__dirname, <span class=\"hljs-string\">'./src/screens'</span>),\n    },\n  },\n  <span class=\"hljs-attr\">build</span>: {\n    <span class=\"hljs-attr\">outDir</span>: <span class=\"hljs-string\">'build'</span>,\n  },\n});\n</code></pre>\n<p>ê° êµ¬ì„± ì˜µì…˜ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:</p>\n<ul>\n<li>base: ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ë³¸ URLì„ ì„¤ì •í•©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ <a href=\"https://abc.com/portal/%EC%97%90\" rel=\"nofollow\" target=\"_blank\">https://abc.com/portal/ì—</a> ë°°í¬ë˜ì—ˆë‹¤ë©´ baseë¥¼ <code>/portal/</code>ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.</li>\n<li>plugin: ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— Vite í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. @vitejs/plugin-reactì—ì„œ ì œê³µí•˜ëŠ” React í”ŒëŸ¬ê·¸ì¸ì€ JSX ë° ê¸°íƒ€ React íŠ¹ì • ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤. ê¸°íƒ€ ì„ íƒì  í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œëŠ” commonjs(í•„ìš”í•œ ê²½ìš° CommonJS ëª¨ë“ˆì„ ES6 ëª¨ë“ˆë¡œ ë³€í™˜), svgr(ì• í”Œë¦¬ì¼€ì´ì…˜ì— SVGê°€ ìˆëŠ” ê²½ìš° React ì»´í¬ë„ŒíŠ¸ë¡œ ì§ì ‘ ê°€ì ¸ì™€ì•¼ í•¨) ë° vite-tsconfig-paths(íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ ë³„ì¹­ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©) ë“±ì´ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// vite.config.ts</span>\n<span class=\"hljs-keyword\">import</span> { defineConfig } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite'</span>;\n<span class=\"hljs-keyword\">import</span> react <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@vitejs/plugin-react'</span>;\n<span class=\"hljs-keyword\">import</span> commonjs <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite-plugin-commonjs'</span>;\n<span class=\"hljs-keyword\">import</span> svgr <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite-plugin-svgr'</span>;\n<span class=\"hljs-keyword\">import</span> viteTsConfigPaths <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite-tsconfig-paths'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineConfig</span>({\n  <span class=\"hljs-attr\">plugins</span>: [\n    <span class=\"hljs-title function_\">react</span>(),\n    <span class=\"hljs-title function_\">viteTsConfigPaths</span>(),\n    <span class=\"hljs-title function_\">commonjs</span>(),\n    <span class=\"hljs-title function_\">svgr</span>({\n      <span class=\"hljs-attr\">include</span>: [\n        <span class=\"hljs-string\">'src/**/*.svg'</span>,\n      ],\n    }),\n  ],\n});\n\nâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦\n\n<span class=\"hljs-comment\">// SVG íŒŒì¼ì„ React ì»´í¬ë„ŒíŠ¸ë¡œ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤:</span>\n<span class=\"hljs-comment\">// Component.jsx</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Icon</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./icon.svg?react'</span>.\n\nâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦\n\n<span class=\"hljs-comment\">// tsconfig.json</span>\n{\n  <span class=\"hljs-string\">\"compilerOptions\"</span>: {\n    <span class=\"hljs-string\">\"paths\"</span>: {\n      <span class=\"hljs-string\">\"components/*\"</span>: [<span class=\"hljs-string\">\"src/components/*\"</span>],\n    }\n  }\n}\n\n<span class=\"hljs-comment\">// ìƒëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ëŠ” ëŒ€ì‹ </span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Button</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'../../components/Button'</span>;\n\n<span class=\"hljs-comment\">// ì •ì˜ëœ ë³„ì¹­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Button</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'components/Button'</span>;\n</code></pre>\n<div class=\"content-ad\"></div>\n<ul>\n<li>server: ê°œë°œ ì„œë²„ì˜ í¬íŠ¸ ë²ˆí˜¸ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ í¬íŠ¸ 5173ì…ë‹ˆë‹¤.</li>\n<li>resolve: ë³„ì¹­ì„ ì‚¬ìš©í•˜ì—¬ ê°€ì ¸ì˜¤ê¸° ê²½ë¡œë¥¼ ê°„ì†Œí™”í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</li>\n<li>build: Viteì—ì„œ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‚¬ìš©ì ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¶œë ¥ ë””ë ‰í† ë¦¬ì˜ ì´ë¦„ì„ ì„¤ì •í•˜ê±°ë‚˜ CRAì™€ ë™ì¼í•œ ë¹Œë“œ í´ë”ë¥¼ ìœ ì§€í•˜ë ¤ë©´ buildë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ distì…ë‹ˆë‹¤. ë˜í•œ ì½”ë“œ ë¶„í• ì„ êµ¬ì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> { defineConfig } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineConfig</span>({\n  <span class=\"hljs-attr\">optimizeDeps</span>: {\n    <span class=\"hljs-attr\">force</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-attr\">esbuildOptions</span>: {\n      <span class=\"hljs-attr\">loader</span>: {\n        <span class=\"hljs-string\">'.js'</span>: <span class=\"hljs-string\">'jsx'</span>,\n      },\n    },\n  },\n});\n</code></pre>\n<ul>\n<li>OptimizeDeps: esbuild( Viteì˜ ê¸°ë³¸ ë²ˆë“¤ëŸ¬)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¢…ì†ì„±ì˜ ì‚¬ì „ ë²ˆë“¤ë§ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. force: trueë¡œ ì„¤ì •í•˜ë©´ Viteê°€ ëª¨ë“  ê°œë°œ ì‹œì‘ ì‹œë§ˆë‹¤ ì¢…ì†ì„±ì„ ì‚¬ì „ ë²ˆë“¤ë§í•˜ì—¬ í•­ìƒ ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•˜ë„ë¡ í•©ë‹ˆë‹¤. ë˜í•œ loader: '<code>.js</code>: <code>jsx</code>'ëŠ” ESBuildê°€ JS íŒŒì¼ì„ JSX íŒŒì¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•¨ì„ ì§€ì •í•©ë‹ˆë‹¤. JS íŒŒì¼ì— JSX êµ¬ë¬¸ì´ í¬í•¨ë˜ì–´ ìˆëŠ” ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤.</li>\n</ul>\n<h2>3. vite-env.d.ts íŒŒì¼ ìƒì„± âš¡ï¸</h2>\n<div class=\"content-ad\"></div>\n<p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— vite-env.d.tsë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// vite-env.d.ts</span>\n<span class=\"hljs-comment\">/// &#x3C;reference types=\"vite/client\" /></span>\n</code></pre>\n<p>ì´ ì½”ë“œëŠ” Viteì˜ ì „ì—­ ë³€ìˆ˜ ë° í´ë¼ì´ì–¸íŠ¸ íŠ¹ì • ê¸°ëŠ¥ì— ëŒ€í•œ íƒ€ì… ì •ì˜ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ì´ íŒŒì¼ì€ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ë° ëª¨ë“ˆ ì„ ì–¸ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ì´ëŠ” TypeScriptê°€ Vite í”„ë¡œì íŠ¸ì˜ ë‹¤ë¥¸ ì—ì…‹ ë° ì „ì—­ ë³€ìˆ˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>\n<h2>4. index.html íŒŒì¼ ì—…ë°ì´íŠ¸ âš¡ï¸</h2>\n<div class=\"content-ad\"></div>\n<ul>\n<li>public í´ë”ì—ì„œ index.html íŒŒì¼ì„ ë£¨íŠ¸ í´ë”ë¡œ ì´ë™í•˜ì„¸ìš”. CRAì˜ ê²½ìš° index.html íŒŒì¼ì€ public í´ë”ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ViteëŠ” í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ì— ì´ íŒŒì¼ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</li>\n<li>%PUBLIC_URL%ì„ ì‚­ì œí•˜ì„¸ìš”. ViteëŠ” ì •ì  ìì‚°ê³¼ ê³µê°œ ê²½ë¡œë¥¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•˜ë©° JavaScript íŒŒì¼ì—ì„œ ìì‚°ì„ ì§ì ‘ ê°€ì ¸ì˜¤ê±°ë‚˜ HTMLì—ì„œ ìƒëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\">&#x3C;!<span class=\"hljs-variable constant_\">DOCTYPE</span> html>\n<span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"en\"</span>></span>\n<span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">head</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"robots\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"noindex,nofollow\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"utf-8\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"icon\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"%PUBLIC_URL%/favicon.png\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"manifest\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"%PUBLIC_URL%/manifest.json\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">title</span>></span>CRA<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">title</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">head</span>></span>\n\n<span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">body</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">noscript</span>></span>ì´ ì•±ì„ ì‹¤í–‰í•˜ë ¤ë©´ JavaScriptë¥¼ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤.<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">noscript</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"root\"</span>></span><span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">div</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"%PUBLIC_URL%/src/main.jsx\"</span>></span><span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">script</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">body</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">html</span>></span></span>\n</code></pre>\n<pre><code class=\"hljs language-js\">&#x3C;!<span class=\"hljs-variable constant_\">DOCTYPE</span> html>\n<span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">\"en\"</span>></span>\n<span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">head</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"robots\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"noindex,nofollow\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"utf-8\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"icon\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/favicon.png\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"manifest\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"/manifest.json\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">title</span>></span>CRA<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">title</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">head</span>></span>\n\n<span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">body</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">noscript</span>></span>ì´ ì•±ì„ ì‹¤í–‰í•˜ë ¤ë©´ JavaScriptë¥¼ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤.<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">noscript</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"root\"</span>></span><span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">div</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"/src/main.jsx\"</span>></span><span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">script</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">body</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">html</span>></span></span>\n</code></pre>\n<h2>5. tsconfig.json ì—…ë°ì´íŠ¸ âš¡ï¸</h2>\n<div class=\"content-ad\"></div>\n<p>tsconfig.jsonì„ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤. íŠ¹íˆ target, types ë° libì„ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">{\n  <span class=\"hljs-string\">\"compilerOptions\"</span>: {\n    <span class=\"hljs-string\">\"target\"</span>: <span class=\"hljs-string\">\"ESNext\"</span>,\n    <span class=\"hljs-string\">\"types\"</span>: [<span class=\"hljs-string\">\"vite/client\"</span>, <span class=\"hljs-string\">\"vite-plugin-svgr/client\"</span>],\n    <span class=\"hljs-string\">\"lib\"</span>: [<span class=\"hljs-string\">\"dom\"</span>, <span class=\"hljs-string\">\"dom.iterable\"</span>, <span class=\"hljs-string\">\"esnext\"</span>],\n    <span class=\"hljs-string\">\"allowJs\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"skipLibCheck\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"esModuleInterop\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"allowSyntheticDefaultImports\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"strict\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"forceConsistentCasingInFileNames\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"module\"</span>: <span class=\"hljs-string\">\"esnext\"</span>,\n    <span class=\"hljs-string\">\"moduleResolution\"</span>: <span class=\"hljs-string\">\"node\"</span>,\n    <span class=\"hljs-string\">\"resolveJsonModule\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"isolatedModules\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"noEmit\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"noFallthroughCasesInSwitch\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"allowImportingTsExtensions\"</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-string\">\"jsx\"</span>: <span class=\"hljs-string\">\"react-jsx\"</span>\n  },\n  <span class=\"hljs-string\">\"exclude\"</span>: [\n    <span class=\"hljs-string\">\"node_modules\"</span>\n  ]\n}\n</code></pre>\n<h2>6. í™˜ê²½ ë³€ìˆ˜ âš¡ï¸</h2>\n<p>Vite í”„ë¡œì íŠ¸ì—ì„œ process.env.REACT_APP_ì—ì„œ import.meta.env.VITE_ë¡œ ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ë¥¼ ì´ê´€í•´ì•¼ í•©ë‹ˆë‹¤. Viteì—ì„œëŠ” import.meta.envë¥¼ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ì— ì•¡ì„¸ìŠ¤í•˜ë©°, ë°˜ë“œì‹œ ì ‘ë‘ì‚¬ VITE_ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// CRA</span>\nprocess.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">REACT_APP_API</span>\n\n<span class=\"hljs-comment\">// Vite</span>\n<span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">VITE_API</span>\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-property\">env</span>) \n<span class=\"hljs-comment\">// { BASE_URL: '/', DEV: true, MODE: 'development', PROD: false, SSR: false }</span>\n</code></pre>\n<p>import.meta.envì—ëŠ” BASE_URL, DEV, MODE, PROD ë° SSRê³¼ ê°™ì€ ëª‡ ê°€ì§€ ë¯¸ë¦¬ ì •ì˜ëœ í™˜ê²½ ë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ViteëŠ” ì‹¤í–‰í•  ë•Œ import.meta.env.MODEë¥¼ developmentë¡œ ìë™ ì„¤ì •í•˜ë©°, vite buildë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” productionìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ë˜í•œ Vite ëª…ë ¹ì„ ì‹¤í–‰í•  ë•Œ í•„ìš”ì— ë”°ë¼ ëª¨ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ vite build --mode stagingì™€ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h2>7. react-scripts ì‚­ì œí•˜ê¸° âš¡ï¸</h2>\n<p>ë‹¨ìˆœíˆ Viteë¡œ ëŒ€ì²´í–ˆìœ¼ë¯€ë¡œ react-scriptsë¥¼ ì‚­ì œí•˜ê³ , ë§Œì•½ craco.config.js ë˜ëŠ” config-overrides.jsê°€ ìˆë‹¤ë©´ ì‚­ì œí•˜ì„¸ìš”.</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\">npm uninstall react-scripts\n</code></pre>\n<h2>8. íŒ¨í‚¤ì§€.json íŒŒì¼ì˜ ìŠ¤í¬ë¦½íŠ¸ ì—…ë°ì´íŠ¸ âš¡ï¸</h2>\n<p>react-scripts íŒ¨í‚¤ì§€ë¥¼ ì œê±°í•œ í›„ì—ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ viteë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-string\">\"scripts\"</span>: {\r\n  <span class=\"hljs-string\">\"start\"</span>: <span class=\"hljs-string\">\"vite\"</span>,\r\n  <span class=\"hljs-string\">\"build\"</span>: <span class=\"hljs-string\">\"vite build\"</span>,\r\n  <span class=\"hljs-string\">\"serve\"</span>: <span class=\"hljs-string\">\"vite preview\"</span>\r\n},\n</code></pre>\n<div class=\"content-ad\"></div>\n<h2>9. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ âš¡ï¸</h2>\n<p>npm startìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ì„¸ìš”. ë¸Œë¼ìš°ì €ì—ì„œ ì¦‰ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì—´ë¦¬ëŠ” ê²ƒì„ ë³´ê²Œ ë  ê±°ì—ìš”!</p>\n<p><img src=\"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1.png\" alt=\"2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1\"></p>\n<p>ë˜í•œ npm run buildë¡œ ì •ì  ë¹Œë“œë¥¼ ìˆ˜í–‰í•œ í›„, npx serve -s buildë¥¼ ì‹¤í–‰í•˜ì—¬ í”„ë¡œë•ì…˜ ë¹Œë“œë¥¼ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì–´ìš”. ğŸ˜‹</p>\n<div class=\"content-ad\"></div>\n<h2>10. ESLint &#x26; Prettier ì„¤ì • âš¡ï¸</h2>\n<p>CRA ë° ViteëŠ” ë™ì¼í•œ ESLint ë° Prettier êµ¬ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ì´ë™ì´ ê±°ì˜ í•„ìš”í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. ì œ ê²½ìš° eslintë¥¼ ì‹¤í–‰í•  ë•Œ \"react-app\" ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í•´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©° ë‹¤ìŒ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"hljs language-js\">npm install eslint-config-react-app\n</code></pre>\n<h2>ì˜¤ë¥˜ ë° ë¬¸ì œ í•´ê²° ğŸ”§</h2>\n<div class=\"content-ad\"></div>\n<p>Viteë¡œ ì´ì£¼í•˜ë©´ì„œ ë§Œë‚œ ëª‡ ê°€ì§€ ì˜¤ë¥˜ì™€ ë‚´ê°€ ì‹œë„í•œ ë¬¸ì œ í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤.</p>\n<p>ğŸ”— í•´ê²°: íŒŒì¼ í˜•ì‹ì„ .jsì—ì„œ .jsxë¡œ ë³€ê²½í•˜ê³ , ì‘ë™í•˜ì§€ ì•Šê±°ë‚˜ ì˜í–¥ì„ ë°›ëŠ” íŒŒì¼ì´ ë§ì€ ê²½ìš°, vite.config.jsì— JS íŒŒì¼ì„ JSXë¡œ ì²˜ë¦¬í•˜ëŠ” êµ¬ì„±ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>\n<p>ğŸ”— í•´ê²°: /src/assets/images/logo.svg?reactë¡œ ëŒ€ì²´í•˜ì—¬ í•´ê²°í•©ë‹ˆë‹¤. SVGë¥¼ React ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ vite.config.jsì— ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ğŸ”— í•´ê²°: npm install vite-plugin-commonjsì„ ì‹¤í–‰í•˜ê³ , vite.config.jsì— ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<p>ğŸ”— ì†”ë£¨ì…˜: process.envë¥¼ import.meta.envë¡œ êµì²´í•˜ì„¸ìš”.</p>\n<p>ğŸ”— ì†”ë£¨ì…˜: ì´ ì„¤ì •ì„ êµ¬ì„±í–ˆë”ë‹ˆ ì‘ë™í–ˆì–´ìš”. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í•˜ìœ„ ë””ë ‰í„°ë¦¬ì— ì¡´ì¬í•˜ëŠ” ê²½ìš°ì— ëŒ€í•œ ê²ƒì…ë‹ˆë‹¤.</p>\n<h2>ê²°ë¡ </h2>\n<p>CRAì—ì„œ Viteë¡œ ì „í™˜í•œ í›„, ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ í”„ë¡œì„¸ìŠ¤ê°€ ìƒë‹¹íˆ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<ul>\n<li>Development server startup: ë¶€íŒ… ì‹œê°„ì´ ëŒ€ëµ 14ì´ˆì—ì„œ ë‹¨ 1ì´ˆë¡œ ì¤„ì—ˆìŠµë‹ˆë‹¤.</li>\n<li>NPM ì„¤ì¹˜: npm ì„¤ì¹˜ ê³¼ì •ì´ ëˆˆì— ë„ê²Œ ë” ë¹¨ë¼ì ¸, 2ë¶„ì—ì„œ 1ë¶„ 30ì´ˆë¡œ ë‹¨ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.</li>\n<li>ë¹Œë“œ ì‹œê°„: ë¹Œë“œ ì‹œê°„ì´ 45ì´ˆì—ì„œ 22ì´ˆë¡œ ì¤„ì—ˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<p>ì „ì²´ì ìœ¼ë¡œ, ë§ˆì´ê·¸ë ˆì´ì…˜ì— ë§Œì¡±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨í•œë°ë„ ê°œë°œ ê²½í—˜ì„ ë”ìš± ì›í™œí•˜ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ì¢‹ì€ ëŒ€ì•ˆì´ë¼ê³  ìƒê°í•´ìš”.</p>\n</body>\n</html>\n"},"__N_SSG":true}