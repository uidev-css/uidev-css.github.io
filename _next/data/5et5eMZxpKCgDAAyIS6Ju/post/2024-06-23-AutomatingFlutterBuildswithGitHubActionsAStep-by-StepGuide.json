{"pageProps":{"post":{"title":"GitHub Actionsë¡œ Flutter ë¹Œë“œ ìë™í™” ë‹¨ê³„ë³„ ê°€ì´ë“œ","description":"","date":"2024-06-23 14:45","slug":"2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide","content":"\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_0.png)\n\nì•ˆë…•í•˜ì„¸ìš”! ì´ ê¸°ì‚¬ì—ì„œëŠ” GitHub Actionsë¥¼ í™œìš©í•˜ì—¬ Flutter ì•±ì˜ ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ ê±°ì—ìš”. ì´ ë°©ë²•ì„ í†µí•´ ì—°ì†ì ì¸ í†µí•©/ë°°í¬(CI/CD) íŒŒì´í”„ë¼ì¸ì„ ìœ ì§€í•  ìˆ˜ ìˆì–´ ê°œë°œì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì£ . GitHub Actionsê°€ ë¹Œë“œì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¦´ë¦¬ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆ ë¬´ê±°ìš´ ì‘ì—…ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì¤ë‹ˆë‹¤.\n\n# ì†Œê°œ\n\nìë™í™”ëŠ” í˜„ëŒ€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì˜ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œë¡œ, ê°œë°œìê°€ ë°˜ë³µ ì‘ì—…ì„ ê°„ì†Œí™”í•˜ê³  ì¸ì  ì˜¤ë¥˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. Flutter ê°œë°œìë“¤ì—ê²ŒëŠ” ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ë©´ ìƒì‚°ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ê³  ì¼ê´€ëœ ë°°í¬ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. GitHub ActionsëŠ” GitHub ì €ì¥ì†Œì—ì„œ ì§ì ‘ ì›Œí¬í”Œë¡œë¥¼ ìë™í™”í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ í”Œë«í¼ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œëŠ” Android ë° iOS í”Œë«í¼ìš© Flutter ì•±ì˜ ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ë©° ë²„ì „ ê´€ë¦¬ ë° keystore ê´€ë¦¬ê¹Œì§€ ë‹¤ë£¨ëŠ” GitHub Actions ì›Œí¬í”Œë¡œë¥¼ ìƒì„±í•´ë³¼ ê±°ì—ìš”.\n\n<div class=\"content-ad\"></div>\n\n# ì›Œí¬í”Œë¡œìš° ì„¤ì •í•˜ê¸°\n\nì´ì „ì— ì–¸ê¸‰í–ˆë“¯ì´ Github Actionsì™€ í•¨ê»˜ ì‘ì—…í•  ê²ƒì´ë¯€ë¡œ, ë¨¼ì € í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ Github Repoë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ì˜ ì´ë¦„ì„ flutterGitHubActionìœ¼ë¡œ ì§€ì •í•©ì‹œë‹¤.\n\n![ì´ë¯¸ì§€ 1](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_1.png)\n\n![ì´ë¯¸ì§€ 2](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_2.png)\n\n<div class=\"content-ad\"></div>\n\n```js\n$ git init\n$ git add .\n$ git commit -m \"init app\"\n$ git remote add origin https://github.com/colonal/flutterGitHubAction.git\n$ git push -u origin master\n```\n\n![image](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_3.png)\n\n![image](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_4.png)\n\nì´ì œ ì‚¬ë‘í•˜ëŠ” VSCodeë¡œ ëŒì•„ê°€ì„œ ì‘ì—…ì„ ì‹œì‘í•´ë´…ì‹œë‹¤.\n\n<div class=\"content-ad\"></div>\n\n- í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ í´ë”ì— \" .github \"ë¼ëŠ” ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤.\n- ìƒˆë¡œ ë§Œë“  ë””ë ‰í† ë¦¬ ì•„ë˜ì— ë˜ ë‹¤ë¥¸ ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  \" workflows \"ë¼ê³  ì´ë¦„ ì§“ìŠµë‹ˆë‹¤.\n- ë§ˆì§€ë§‰ìœ¼ë¡œ workflows ë””ë ‰í† ë¦¬ ì•ˆì— \" main.yml \"ì´ë¼ëŠ” ìƒˆ íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_5.png)\n\n- ì´ì œ í•„ìš”í•œ workflowë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤.\n\n```js\nname: \"Build & Release\"   # í•„ìš”ì— ë§ê²Œ ì´ë¦„ì„ ì§€ì •í•˜ì„¸ìš”\n```\n\n<div class=\"content-ad\"></div>\n\n- ì´ê²ƒì€ GitHub Actionsì—ì„œ ì‹¤í–‰í•˜ë ¤ëŠ” workflowì˜ ì´ë¦„ì…ë‹ˆë‹¤.\n\n```js\non:\n  pull_request:\n    branches:\n      - dev\n      - test\n  push:\n    branches:\n      - dev\n      - test \n```\n\n- ì´ ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•˜ê³  ì‹¶ì€ ê²½ìš°ë“¤ì´ë©°, ì—¬ê¸°ì—ì„œëŠ” 2ê°€ì§€ ê²½ìš° [pull_request ë° push]ì— ëŒ€í•´ ì„¤ì •í–ˆìœ¼ë©°, ì²­ì·¨í•˜ê³  íŠ¸ë¦¬ê±°í•  ë¸Œëœì¹˜ë¥¼ ì§€ì •í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ì„œëŠ” [dev, test] ë¸Œëœì¹˜ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.\n- ì´ê²ƒì€ ì¦‰, ìš°ë¦¬ì˜ ì‘ì—…ì´ dev ë˜ëŠ” test ë¸Œëœì¹˜ë¡œ ë­”ê°€ë¥¼ í‘¸ì‹œí•˜ê±°ë‚˜ dev ë˜ëŠ” test ë¸Œëœì¹˜ì—ì„œ PRì„ í•  ë•Œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë  ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n\n```js\njobs:  # ì–´ë–¤ ì‘ì—…ì´ í•„ìš”í•œì§€ ì•Œë ¤ì£¼ëŠ” ë¶€ë¶„\n  build:      # ì‘ì„±ë  ì´ë¦„ê³¼ ë¨¸ì‹ ì„ ì§€ì •\n    name: Build & Release  # ë¹Œë“œ ì´ë¦„ì„ ì›í•˜ì‹œëŠ” ëŒ€ë¡œ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n    runs-on: macos-latest # ì—¬ê¸°ì—ì„œ ìš°ë¦¬ëŠ” ios ë¹Œë“œë¥¼ ì–»ê¸° ìœ„í•´ macos-latestë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤\n```\n\n<div class=\"content-ad\"></div>\n\nì´ì œ ìš°ë¦¬ê°€ ê±°ì³ê°€ê¸¸ ì›í•˜ëŠ” ë‹¨ê³„ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì§€ì •í•´ì•¼ í•´ìš”(ìœ„ì— ë³´ì—¬ì§„ ëŒ€ë¡œ):\n\n![Step Image](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_6.png)\n\n# 1. ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ\n\n```yaml\n- name: Checkout Repository\n  uses: actions/checkout@v3\n```\n\n<div class=\"content-ad\"></div>\n\nì„¤ëª…: ì—¬ê¸°ì„œëŠ” checkoutì´ë¼ëŠ” ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘” ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œ ì½”ë“œë¥¼ ì²´í¬ì•„ì›ƒí•˜ì—¬ ì›Œí¬í”Œë¡œê°€ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ ì‘ì—…ê³¼ ë§ì€ ë‹¤ë¥¸ ì‘ì—…ì€ GitHub Actions marketplaceì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ì‘ì—…ì— ì´ë¦„ì„ ì§€ì •í•˜ëŠ” ê²ƒì€ í•„ìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ ëª…í™•ì„±ì„ ìœ„í•´ ìœ ìš©í•©ë‹ˆë‹¤.\n\n## 2. Java ì„¤ì •\n\n```yaml\n- name: Set Up Java\n  uses: actions/setup-java@v3.12.0\n  with:\n    distribution: 'oracle'\n    java-version: '17'\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” setup-java ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ Java í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤. 'Oracle'ë¥¼ ë°°í¬ë¡œ, '17'ì„ Java ë²„ì „ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤. ì´ëŠ” Android ì•±ì„ ë¹Œë“œí•˜ëŠ” ë° í•„ìš”í•©ë‹ˆë‹¤. ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ ë°°í¬ë³¸ì„ ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n# 3. í”ŒëŸ¬í„° ì„¤ì •í•˜ê¸°\n\n```js\n- name: í”ŒëŸ¬í„° ì„¤ì •\n  uses: subosito/flutter-action@v2\n  with:\n    flutter-version: '3.22.2'\n    channel: 'stable'\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” subosito/flutter-actionì„ ì‚¬ìš©í•˜ì—¬ ì§€ì •ëœ ë²„ì „ê³¼ ì±„ë„ë¡œ í”ŒëŸ¬í„° í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ì˜¬ë°”ë¥¸ ë²„ì „ì˜ í”ŒëŸ¬í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# 4. ì¢…ì†ì„± ì„¤ì¹˜í•˜ê¸°\n\n<div class=\"content-ad\"></div>\n\n\n- name: ì˜ì¡´ì„± ì„¤ì¹˜\n  run: flutter pub get\n\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” í”ŒëŸ¬í„° í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ flutter pub getì„ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ê²ƒì€ ë¡œì»¬ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë©°, pubspec.yaml íŒŒì¼ì—ì„œ ì§€ì •ëœ ëª¨ë“  ì¢…ì†ì„±ì„ í•´ê²°í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤.\n\n# 5. í‚¤ìŠ¤í† ì–´ ì„¤ì •\n\nAndroid ì•±ì— ì„œëª…í•˜ë ¤ë©´ í‚¤ìŠ¤í† ì–´ íŒŒì¼ ë° ê´€ë ¨ ì†ì„±ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ì €ì¥ì†Œì— ì§ì ‘ keystore.jks íŒŒì¼ì„ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  (ë³´ì•ˆì— ì·¨ì•½í•©ë‹ˆë‹¤), í•´ë‹¹ íŒŒì¼ì„ base64 ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ GitHub ì €ì¥ì†Œì—ì„œ ë¹„ë°€ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ë˜í•œ í•„ìš”í•œ ë‹¤ë¥¸ í‚¤ìŠ¤í† ì–´ ì†ì„±ì„ ë¹„ë°€ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ìì„¸í•œ ë‹¨ê³„ì…ë‹ˆë‹¤:\n\n\n<div class=\"content-ad\"></div>\n\n## ë‹¨ê³„ë³„ ì•ˆë‚´:\n\n- í‚¤ìŠ¤í† ì–´ íŒŒì¼ì„ Base64ë¡œ ë³€í™˜í•˜ì„¸ìš”. ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ keystore.jks íŒŒì¼ì„ base64 ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì„¸ìš”:\n\n```js\nbase64 -w 0 keystore.jks > keystore.jks.base64\n```\n\n- keystore.jks.base64 íŒŒì¼ì˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”.\n- GitHub ë¦¬í¬ì§€í† ë¦¬ì— ì‹œí¬ë¦¿ ì¶”ê°€í•˜ê¸°. ë¦¬í¬ì§€í† ë¦¬ ì„¤ì •ìœ¼ë¡œ ì´ë™í•˜ì—¬ \"Actions\"ì—ì„œ \"Secrets and variables\"ë¡œ ì´ë™í•œ í›„ ë‹¤ìŒ ì‹œí¬ë¦¿ì„ ì¶”ê°€í•˜ì„¸ìš”:\n\n<div class=\"content-ad\"></div>\n\n- KEYSTORE_BASE64: keystore.jks.base64ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.\n- KEYSTORE_PASSWORD: í‚¤ìŠ¤í† ì–´ì˜ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.\n- KEY_ALIAS: í‚¤ì— ëŒ€í•œ ë³„ì¹­ì…ë‹ˆë‹¤.\n- KEY_PASSWORD: í‚¤ ë³„ì¹­ì˜ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.\n\n![image](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_7.png)\n\n## GitHub Actions Workflow ë‹¨ê³„:\n\n- Keystore ë””ì½”ë”©\n\n<div class=\"content-ad\"></div>\n\n```yaml\n- name: í‚¤ìŠ¤í† ì–´ ë””ì½”ë“œ\n  run: |\n    echo \"${ secrets.KEYSTORE_BASE64 }\" | base64 --decode > android/app/keystore.jks\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” GitHub ì €ì¥ì†Œì— ì €ì¥ëœ ì‹œí¬ë¦¿ì„ ì‚¬ìš©í•˜ì—¬ base64ë¡œ ì¸ì½”ë”©ëœ í‚¤ìŠ¤í† ì–´ë¥¼ ë””ì½”ë”©í•©ë‹ˆë‹¤. ë””ì½”ë”©ëœ í‚¤ìŠ¤í† ì–´ëŠ” android/app/keystore.jksì— ì €ì¥ë©ë‹ˆë‹¤. Android ì•±ì„ ì„œëª…í•˜ëŠ” ë° í•„ìš”í•©ë‹ˆë‹¤.\n\n2. key.properties íŒŒì¼ ìƒì„±í•˜ê¸°\n\n```yaml\n- name: key.properties íŒŒì¼ ìƒì„±\n  run: |\n    echo \"storePassword=${ secrets.KEYSTORE_PASSWORD }\" > android/key.properties\n    echo \"keyPassword=${ secrets.KEY_PASSWORD }\" >> android/key.properties\n    echo \"keyAlias=${ secrets.KEY_ALIAS }\" >> android/key.properties\n    echo \"storeFile=keystore.jks\" >> android/key.properties\n```\n\n<div class=\"content-ad\"></div>\n\nì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„œëª…í•˜ëŠ” ë° í•„ìš”í•œ ì†ì„±ì„ ê°–ëŠ” key.properties íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì†ì„±ì€ GitHub ì €ì¥ì†Œì— ì €ì¥ëœ ë¹„ë°€ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì±„ì›Œì§‘ë‹ˆë‹¤.\n\n# 6. APK ë¹Œë“œ\n\n```js\n- name: APK ë¹Œë“œ\n  run: flutter build apk --release\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” flutter build apk --release ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ APKë¥¼ ë¦´ë¦¬ìŠ¤ ëª¨ë“œë¡œ ë¹Œë“œí•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n# 7. ì•± ë²ˆë“¤ ë¹Œë“œ\n\n```yaml\n- name: ì•± ë²ˆë“¤ ë¹Œë“œ ì‹¤í–‰\n  run: flutter build appbundle\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” flutter build appbundle ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Android ì•± ë²ˆë“¤(AAB)ì„ ë¹Œë“œí•©ë‹ˆë‹¤.\n\n# 8. IPA ë¹Œë“œ(iOS ë¹Œë“œ)\n\n<div class=\"content-ad\"></div>\n\n```yaml\n- ì´ë¦„: IPA ë¹Œë“œ\n  ì‹¤í–‰: flutter build ipa --no-codesign\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” flutter build ipa --no-codesign ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ì„œëª… ì—†ì´ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ IPA íŒŒì¼ì„ ë¹Œë“œí•©ë‹ˆë‹¤. --no-codesign í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë¡œì»¬ ê°œë°œì„ ìœ„í•´ ìœ íš¨í•œ Apple ê°œë°œì ê³„ì •ì´ í•„ìš”í•˜ì§€ ì•Šê³  IPAë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# 9. ì•„ì¹´ì´ë¸Œì™€ IPA ì••ì¶•\n\n```yaml\n- ì´ë¦„: ì•„ì¹´ì´ë¸Œ ë° IPA ì••ì¶•\n  ì‹¤í–‰: |\n    cd build\n    tar -czf ios_build.tar.gz ios\n```\n\n<div class=\"content-ad\"></div>\n\n# 10. ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ\n\n```js\n- name: ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ\n  uses: actions/upload-artifact@v2\n  with:\n    name: ë¦´ë¦¬ì¦ˆ\n    path: |\n      build/app/outputs/flutter-apk/app-release.apk\n      build/app/outputs/bundle/release/app-release.aab\n      build/ios_build.tar.gz\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” iOS ë¹Œë“œ ë””ë ‰í† ë¦¬ë¥¼ tar.gz íŒŒì¼ë¡œ ì••ì¶•í•˜ì—¬ ì €ì¥ ë° ì „ì†¡ì„ ì‰½ê²Œí•©ë‹ˆë‹¤. ì´ ë‹¨ê³„ëŠ” upload-artifact ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œ ì•„í‹°íŒ©íŠ¸ (APK, AAB ë° ì••ì¶•ëœ iOS ë¹Œë“œ)ë¥¼ ì—…ë¡œë“œí•˜ì—¬ ë‚˜ì¤‘ì— ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¹Œë“œ ì¶œë ¥ë¬¼ì„ GitHub Actions ì‹¤í–‰ í˜ì´ì§€ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n# 11. ë²„ì „ ì¶”ì¶œ\n\n```js\n- name: pubspec.yamlì—ì„œ ë²„ì „ ì¶”ì¶œ\n  id: extract_version\n  run: |\n    version=$(grep '^version: ' pubspec.yaml | cut -d ' ' -f 2 | tr -d '\\r')\n    echo \"VERSION=$version\" >> $GITHUB_ENV\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” pubspec.yaml íŒŒì¼ì—ì„œ ë²„ì „ ë²ˆí˜¸ë¥¼ ì¶”ì¶œí•˜ê³  í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. grep ëª…ë ¹ì€ ë²„ì „ ë¼ì¸ì„ ê²€ìƒ‰í•˜ì—¬ ë²„ì „ ë²ˆí˜¸ë¥¼ ì¶”ì¶œí•˜ê³  ì´ë¥¼ VERSION í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.\n\n# 12. íƒœê·¸ì˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸\n\n<div class=\"content-ad\"></div>\n\n```yaml\n- name: íƒœê·¸ ì—¬ë¶€ í™•ì¸\n  id: check_tag\n  run: |\n    if git rev-parse \"v${ env.VERSION }\" >/dev/null 2>&1; then\n      echo \"TAG_EXISTS=true\" >> $GITHUB_ENV\n    else\n      echo \"TAG_EXISTS=false\" >> $GITHUB_ENV\n    fi\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ëŠ” ì €ì¥ì†Œì— ë²„ì „ íƒœê·¸ê°€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. íƒœê·¸ê°€ ìˆìœ¼ë©´ TAG_EXISTS í™˜ê²½ ë³€ìˆ˜ë¥¼ trueë¡œ ì„¤ì •í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ falseë¡œ ì„¤ì •í•©ë‹ˆë‹¤.\n\n# 13. íƒœê·¸ ìˆ˜ì •í•˜ê¸° (íƒœê·¸ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°)\n\n```yaml\n- name: íƒœê·¸ ìˆ˜ì •\n  if: env.TAG_EXISTS == 'true'\n  id: modify_tag\n  run: |\n    new_version=\"${ env.VERSION }-build-${ github.run_number }\"\n    echo \"VERSION=$new_version\" >> $GITHUB_ENV\n```\n\n<div class=\"content-ad\"></div>\n\nì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” ì´ë¯¸ ìˆëŠ” íƒœê·¸ì¸ ê²½ìš°, ë²„ì „ íƒœê·¸ë¥¼ ìˆ˜ì •í•˜ì—¬ ë²„ì „ ë²ˆí˜¸ì— -build-`run_number`ë¥¼ ì¶”ê°€í•˜ì—¬ ê³ ìœ  ì‹ë³„ìê°€ í¬í•¨ë˜ë„ë¡ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ íƒœê·¸ê°€ ê³ ìœ í•˜ê²Œ ìœ ì§€ë˜ê³  ì¶©ëŒì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# 14. ë¦´ë¦¬ìŠ¤ ìƒì„±\n\n```yaml\n- name: ë¦´ë¦¬ìŠ¤ ìƒì„±\n  uses: ncipollo/release-action@v1\n  with:\n    artifacts: \"build/app/outputs/flutter-apk/app-release.apk,build/app/outputs/bundle/release/app-release.aab,build/ios_build.tar.gz\"\n    tag: v${ env.VERSION }\n    token: ${ secrets.TOKEN }\n```\n\nì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” ncipollo/release-actionì„ ì‚¬ìš©í•˜ì—¬ ì§€ì •ëœ ì•„í‹°íŒ©íŠ¸ë¡œ GitHub ë¦´ë¦¬ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. (í•„ìš”í•œ ê²½ìš° ìˆ˜ì •ëœ) ë²„ì „ì„ íƒœê·¸ë¡œ ì‚¬ìš©í•˜ê³  GitHub ì‹œí¬ë¦¿ì— ì €ì¥ëœ í† í°ì„ ì¸ì¦ì— ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n# ë§ˆë²•ì„ ë³¼ ì¤€ë¹„ê°€ ë˜ì…¨ë‚˜ìš”?\n\n```js\n$ get add .\n$ git commit -m \"test github actions\" \n$ git push -u origin dev\n```\n\n- ë³€ê²½ ì‚¬í•­ì„ dev ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ê³  ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.\n- ë ˆí¬ì§€í† ë¦¬ì˜ Actions íƒ­ìœ¼ë¡œ ì´ë™í•´ì„œ í™•ì¸í•´ ë³´ì„¸ìš”.\n\n![ì´ë¯¸ì§€](/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_8.png)\n\n<div class=\"content-ad\"></div>\n\n# ì™„ì„±ëœ Workflow ì½”ë“œ\n\nì¤‘ìš”í•œ ë©”ëª¨: ë“¤ì—¬ì“°ê¸°ê°€ ì¤‘ìš”í•˜ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”\n\n```js\nname: \"Build\"\n\non:\n  pull_request:\n    branches:\n      - dev\n      - test\n  push:\n    branches:\n      - dev\n      - test\n\njobs:  \n  build:      \n    name: Build & Release \n    runs-on: macos-latest \n\n    steps:\n        #1 ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ\n      - name: ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ\n        uses: actions/checkout@v3\n\n        #2 Java ì„¤ì •\n      - name: Java ì„¤ì •\n        uses: actions/setup-java@v3.12.0\n        with:\n          distribution: 'oracle'\n          java-version: '17'\n\n        #3 Flutter ì„¤ì •\n      - name: Flutter ì„¤ì •\n        uses: subosito/flutter-action@v2\n        with:\n          flutter-version: '3.22.2'\n          channel: 'stable'\n\n        #4 ì¢…ì†ì„± ì„¤ì¹˜\n      - name: ì¢…ì†ì„± ì„¤ì¹˜\n        run: flutter pub get\n\n        #5 Keystore ì„¤ì •\n      - name: Keystore ë””ì½”ë”©\n        run: |\n          echo \"${ secrets.KEYSTORE_BASE64 }\" | base64 --decode > android/app/keystore.jks\n          \n      - name: key.properties ìƒì„±\n        run: |\n          echo \"storePassword=${ secrets.KEYSTORE_PASSWORD }\" > android/key.properties\n          echo \"keyPassword=${ secrets.KEY_PASSWORD }\" >> android/key.properties\n          echo \"keyAlias=${ secrets.KEY_ALIAS }\" >> android/key.properties\n          echo \"storeFile=keystore.jks\" >> android/key.properties\n        \n       #6 APK ë¹Œë“œ\n      - name: APK ë¹Œë“œ\n        run: flutter build apk --release\n\n        #7 App Bundle (aab) ë¹Œë“œ\n      - name: App Bundle ë¹Œë“œ\n        run: flutter build appbundle\n\n        #8 IPA ë¹Œë“œ (iOS ë¹Œë“œ)\n      - name: IPA ë¹Œë“œ\n        run: flutter build ipa --no-codesign\n\n      - name: ì•„ì¹´ì´ë¸Œ ë° IPA ì••ì¶•\n        run: |\n          cd build\n          tar -czf ios_build.tar.gz ios\n\n        #9 ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ\n      - name: ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ\n        uses: actions/upload-artifact@v2\n        with:\n          name: ë¦´ë¦¬ìŠ¤\n          path: |\n            build/app/outputs/flutter-apk/app-release.apk\n            build/app/outputs/bundle/release/app-release.aab\n            build/ios_build.tar.gz\n\n        #10 ë²„ì „ ì¶”ì¶œ\n      - name: pubspec.yamlì—ì„œ ë²„ì „ ì¶”ì¶œ\n        id: extract_version\n        run: |\n          version=$(grep '^version: ' pubspec.yaml | cut -d ' ' -f 2 | tr -d '\\r')\n          echo \"VERSION=$version\" >> $GITHUB_ENV\n\n        #11 íƒœê·¸ í™•ì¸\n      - name: íƒœê·¸ í™•ì¸\n        id: check_tag\n        run: |\n          if git rev-parse \"v${ env.VERSION }\" >/dev/null 2>&1; then\n            echo \"TAG_EXISTS=true\" >> $GITHUB_ENV\n          else\n            echo \"TAG_EXISTS=false\" >> $GITHUB_ENV\n          fi\n\n        #12 íƒœê·¸ ìˆ˜ì •\n      - name: íƒœê·¸ ìˆ˜ì •\n        if: env.TAG_EXISTS == 'true'\n        id: modify_tag\n        run: |\n          new_version=\"${ env.VERSION }-build-${ github.run_number }\"\n          echo \"VERSION=$new_version\" >> $GITHUB_ENV\n        \n        #13 ë¦´ë¦¬ìŠ¤ ìƒì„±\n      - name: ë¦´ë¦¬ìŠ¤ ìƒì„±\n        uses: ncipollo/release-action@v1\n        with:\n          artifacts: \"build/app/outputs/flutter-apk/app-release.apk,build/app/outputs/bundle/release/app-release.aab,build/ios_build.tar.gz\"\n          tag: v${ env.VERSION }\n          token: ${ secrets.TOKEN }\n```\n\nìœ„ ë‹¨ê³„ë¥¼ ë”°ë¼ ì™„ì„±ëœ Workflow ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ Flutter ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ì¼ê´€ì„±ê³¼ íš¨ìœ¨ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n<div class=\"content-ad\"></div>\n\n## ì´ì œ ì²« CI/CD ì›Œí¬í”Œë¡œë¥¼ ë§Œë“¤ì—ˆì–´ìš”, ì¶•í•˜ë“œë ¤ìš” ğŸ¥³ğŸ¥³","ogImage":{"url":"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_0.png"},"coverImage":"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_0.png","tag":["Tech"],"readingTime":12},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_0.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<p>ì•ˆë…•í•˜ì„¸ìš”! ì´ ê¸°ì‚¬ì—ì„œëŠ” GitHub Actionsë¥¼ í™œìš©í•˜ì—¬ Flutter ì•±ì˜ ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¼ ê±°ì—ìš”. ì´ ë°©ë²•ì„ í†µí•´ ì—°ì†ì ì¸ í†µí•©/ë°°í¬(CI/CD) íŒŒì´í”„ë¼ì¸ì„ ìœ ì§€í•  ìˆ˜ ìˆì–´ ê°œë°œì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì£ . GitHub Actionsê°€ ë¹Œë“œì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¦´ë¦¬ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆ ë¬´ê±°ìš´ ì‘ì—…ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì¤ë‹ˆë‹¤.</p>\n<h1>ì†Œê°œ</h1>\n<p>ìë™í™”ëŠ” í˜„ëŒ€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì˜ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œë¡œ, ê°œë°œìê°€ ë°˜ë³µ ì‘ì—…ì„ ê°„ì†Œí™”í•˜ê³  ì¸ì  ì˜¤ë¥˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. Flutter ê°œë°œìë“¤ì—ê²ŒëŠ” ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ë©´ ìƒì‚°ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ê³  ì¼ê´€ëœ ë°°í¬ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. GitHub ActionsëŠ” GitHub ì €ì¥ì†Œì—ì„œ ì§ì ‘ ì›Œí¬í”Œë¡œë¥¼ ìë™í™”í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ í”Œë«í¼ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ê¸°ì‚¬ì—ì„œëŠ” Android ë° iOS í”Œë«í¼ìš© Flutter ì•±ì˜ ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ë©° ë²„ì „ ê´€ë¦¬ ë° keystore ê´€ë¦¬ê¹Œì§€ ë‹¤ë£¨ëŠ” GitHub Actions ì›Œí¬í”Œë¡œë¥¼ ìƒì„±í•´ë³¼ ê±°ì—ìš”.</p>\n<div class=\"content-ad\"></div>\n<h1>ì›Œí¬í”Œë¡œìš° ì„¤ì •í•˜ê¸°</h1>\n<p>ì´ì „ì— ì–¸ê¸‰í–ˆë“¯ì´ Github Actionsì™€ í•¨ê»˜ ì‘ì—…í•  ê²ƒì´ë¯€ë¡œ, ë¨¼ì € í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ Github Repoë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ì˜ ì´ë¦„ì„ flutterGitHubActionìœ¼ë¡œ ì§€ì •í•©ì‹œë‹¤.</p>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_1.png\" alt=\"ì´ë¯¸ì§€ 1\"></p>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_2.png\" alt=\"ì´ë¯¸ì§€ 2\"></p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\">$ git init\n$ git add .\n$ git commit -m <span class=\"hljs-string\">\"init app\"</span>\n$ git remote add origin <span class=\"hljs-attr\">https</span>:<span class=\"hljs-comment\">//github.com/colonal/flutterGitHubAction.git</span>\n$ git push -u origin master\n</code></pre>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_3.png\" alt=\"image\"></p>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_4.png\" alt=\"image\"></p>\n<p>ì´ì œ ì‚¬ë‘í•˜ëŠ” VSCodeë¡œ ëŒì•„ê°€ì„œ ì‘ì—…ì„ ì‹œì‘í•´ë´…ì‹œë‹¤.</p>\n<div class=\"content-ad\"></div>\n<ul>\n<li>í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ í´ë”ì— \" .github \"ë¼ëŠ” ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“­ë‹ˆë‹¤.</li>\n<li>ìƒˆë¡œ ë§Œë“  ë””ë ‰í† ë¦¬ ì•„ë˜ì— ë˜ ë‹¤ë¥¸ ìƒˆ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  \" workflows \"ë¼ê³  ì´ë¦„ ì§“ìŠµë‹ˆë‹¤.</li>\n<li>ë§ˆì§€ë§‰ìœ¼ë¡œ workflows ë””ë ‰í† ë¦¬ ì•ˆì— \" main.yml \"ì´ë¼ëŠ” ìƒˆ íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.</li>\n</ul>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_5.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<ul>\n<li>ì´ì œ í•„ìš”í•œ workflowë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">\"Build &#x26; Release\"</span>   # í•„ìš”ì— ë§ê²Œ ì´ë¦„ì„ ì§€ì •í•˜ì„¸ìš”\n</code></pre>\n<div class=\"content-ad\"></div>\n<ul>\n<li>ì´ê²ƒì€ GitHub Actionsì—ì„œ ì‹¤í–‰í•˜ë ¤ëŠ” workflowì˜ ì´ë¦„ì…ë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">on</span>:\n  <span class=\"hljs-attr\">pull_request</span>:\n    <span class=\"hljs-attr\">branches</span>:\n      - dev\n      - test\n  <span class=\"hljs-attr\">push</span>:\n    <span class=\"hljs-attr\">branches</span>:\n      - dev\n      - test \n</code></pre>\n<ul>\n<li>ì´ ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•˜ê³  ì‹¶ì€ ê²½ìš°ë“¤ì´ë©°, ì—¬ê¸°ì—ì„œëŠ” 2ê°€ì§€ ê²½ìš° [pull_request ë° push]ì— ëŒ€í•´ ì„¤ì •í–ˆìœ¼ë©°, ì²­ì·¨í•˜ê³  íŠ¸ë¦¬ê±°í•  ë¸Œëœì¹˜ë¥¼ ì§€ì •í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ì„œëŠ” [dev, test] ë¸Œëœì¹˜ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</li>\n<li>ì´ê²ƒì€ ì¦‰, ìš°ë¦¬ì˜ ì‘ì—…ì´ dev ë˜ëŠ” test ë¸Œëœì¹˜ë¡œ ë­”ê°€ë¥¼ í‘¸ì‹œí•˜ê±°ë‚˜ dev ë˜ëŠ” test ë¸Œëœì¹˜ì—ì„œ PRì„ í•  ë•Œë§ˆë‹¤ íŠ¸ë¦¬ê±°ë  ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>\n</ul>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">jobs</span>:  # ì–´ë–¤ ì‘ì—…ì´ í•„ìš”í•œì§€ ì•Œë ¤ì£¼ëŠ” ë¶€ë¶„\n  <span class=\"hljs-attr\">build</span>:      # ì‘ì„±ë  ì´ë¦„ê³¼ ë¨¸ì‹ ì„ ì§€ì •\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-title class_\">Build</span> &#x26; <span class=\"hljs-title class_\">Release</span>  # ë¹Œë“œ ì´ë¦„ì„ ì›í•˜ì‹œëŠ” ëŒ€ë¡œ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n    runs-<span class=\"hljs-attr\">on</span>: macos-latest # ì—¬ê¸°ì—ì„œ ìš°ë¦¬ëŠ” ios ë¹Œë“œë¥¼ ì–»ê¸° ìœ„í•´ macos-latestë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>ì´ì œ ìš°ë¦¬ê°€ ê±°ì³ê°€ê¸¸ ì›í•˜ëŠ” ë‹¨ê³„ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì§€ì •í•´ì•¼ í•´ìš”(ìœ„ì— ë³´ì—¬ì§„ ëŒ€ë¡œ):</p>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_6.png\" alt=\"Step Image\"></p>\n<h1>1. ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ</h1>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Checkout</span> <span class=\"hljs-string\">Repository</span>\n  <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v3</span>\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>ì„¤ëª…: ì—¬ê¸°ì„œëŠ” checkoutì´ë¼ëŠ” ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘” ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œ ì½”ë“œë¥¼ ì²´í¬ì•„ì›ƒí•˜ì—¬ ì›Œí¬í”Œë¡œê°€ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ ì‘ì—…ê³¼ ë§ì€ ë‹¤ë¥¸ ì‘ì—…ì€ GitHub Actions marketplaceì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ì‘ì—…ì— ì´ë¦„ì„ ì§€ì •í•˜ëŠ” ê²ƒì€ í•„ìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ ëª…í™•ì„±ì„ ìœ„í•´ ìœ ìš©í•©ë‹ˆë‹¤.</p>\n<h2>2. Java ì„¤ì •</h2>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Set</span> <span class=\"hljs-string\">Up</span> <span class=\"hljs-string\">Java</span>\n  <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/setup-java@v3.12.0</span>\n  <span class=\"hljs-attr\">with:</span>\n    <span class=\"hljs-attr\">distribution:</span> <span class=\"hljs-string\">'oracle'</span>\n    <span class=\"hljs-attr\">java-version:</span> <span class=\"hljs-string\">'17'</span>\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” setup-java ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ Java í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤. 'Oracle'ë¥¼ ë°°í¬ë¡œ, '17'ì„ Java ë²„ì „ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤. ì´ëŠ” Android ì•±ì„ ë¹Œë“œí•˜ëŠ” ë° í•„ìš”í•©ë‹ˆë‹¤. ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ ë°°í¬ë³¸ì„ ì—¬ê¸°ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<h1>3. í”ŒëŸ¬í„° ì„¤ì •í•˜ê¸°</h1>\n<pre><code class=\"hljs language-js\">- <span class=\"hljs-attr\">name</span>: í”ŒëŸ¬í„° ì„¤ì •\n  <span class=\"hljs-attr\">uses</span>: subosito/flutter-action@v2\n  <span class=\"hljs-attr\">with</span>:\n    flutter-<span class=\"hljs-attr\">version</span>: <span class=\"hljs-string\">'3.22.2'</span>\n    <span class=\"hljs-attr\">channel</span>: <span class=\"hljs-string\">'stable'</span>\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” subosito/flutter-actionì„ ì‚¬ìš©í•˜ì—¬ ì§€ì •ëœ ë²„ì „ê³¼ ì±„ë„ë¡œ í”ŒëŸ¬í„° í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ì¤‘ì— ì˜¬ë°”ë¥¸ ë²„ì „ì˜ í”ŒëŸ¬í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h1>4. ì¢…ì†ì„± ì„¤ì¹˜í•˜ê¸°</h1>\n<div class=\"content-ad\"></div>\n<ul>\n<li>name: ì˜ì¡´ì„± ì„¤ì¹˜\nrun: flutter pub get</li>\n</ul>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” í”ŒëŸ¬í„° í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ flutter pub getì„ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ê²ƒì€ ë¡œì»¬ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë©°, pubspec.yaml íŒŒì¼ì—ì„œ ì§€ì •ëœ ëª¨ë“  ì¢…ì†ì„±ì„ í•´ê²°í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤.</p>\n<h1>5. í‚¤ìŠ¤í† ì–´ ì„¤ì •</h1>\n<p>Android ì•±ì— ì„œëª…í•˜ë ¤ë©´ í‚¤ìŠ¤í† ì–´ íŒŒì¼ ë° ê´€ë ¨ ì†ì„±ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ì €ì¥ì†Œì— ì§ì ‘ keystore.jks íŒŒì¼ì„ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  (ë³´ì•ˆì— ì·¨ì•½í•©ë‹ˆë‹¤), í•´ë‹¹ íŒŒì¼ì„ base64 ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ GitHub ì €ì¥ì†Œì—ì„œ ë¹„ë°€ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ë˜í•œ í•„ìš”í•œ ë‹¤ë¥¸ í‚¤ìŠ¤í† ì–´ ì†ì„±ì„ ë¹„ë°€ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ìì„¸í•œ ë‹¨ê³„ì…ë‹ˆë‹¤:</p>\n<div class=\"content-ad\"></div>\n<h2>ë‹¨ê³„ë³„ ì•ˆë‚´:</h2>\n<ul>\n<li>í‚¤ìŠ¤í† ì–´ íŒŒì¼ì„ Base64ë¡œ ë³€í™˜í•˜ì„¸ìš”. ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ keystore.jks íŒŒì¼ì„ base64 ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì„¸ìš”:</li>\n</ul>\n<pre><code class=\"hljs language-js\">base64 -w <span class=\"hljs-number\">0</span> keystore.<span class=\"hljs-property\">jks</span> > keystore.<span class=\"hljs-property\">jks</span>.<span class=\"hljs-property\">base64</span>\n</code></pre>\n<ul>\n<li>keystore.jks.base64 íŒŒì¼ì˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì„¸ìš”.</li>\n<li>GitHub ë¦¬í¬ì§€í† ë¦¬ì— ì‹œí¬ë¦¿ ì¶”ê°€í•˜ê¸°. ë¦¬í¬ì§€í† ë¦¬ ì„¤ì •ìœ¼ë¡œ ì´ë™í•˜ì—¬ \"Actions\"ì—ì„œ \"Secrets and variables\"ë¡œ ì´ë™í•œ í›„ ë‹¤ìŒ ì‹œí¬ë¦¿ì„ ì¶”ê°€í•˜ì„¸ìš”:</li>\n</ul>\n<div class=\"content-ad\"></div>\n<ul>\n<li>KEYSTORE_BASE64: keystore.jks.base64ì˜ ë‚´ìš©ì…ë‹ˆë‹¤.</li>\n<li>KEYSTORE_PASSWORD: í‚¤ìŠ¤í† ì–´ì˜ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.</li>\n<li>KEY_ALIAS: í‚¤ì— ëŒ€í•œ ë³„ì¹­ì…ë‹ˆë‹¤.</li>\n<li>KEY_PASSWORD: í‚¤ ë³„ì¹­ì˜ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.</li>\n</ul>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_7.png\" alt=\"image\"></p>\n<h2>GitHub Actions Workflow ë‹¨ê³„:</h2>\n<ul>\n<li>Keystore ë””ì½”ë”©</li>\n</ul>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">í‚¤ìŠ¤í† ì–´</span> <span class=\"hljs-string\">ë””ì½”ë“œ</span>\n  <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">|\n    echo \"${ secrets.KEYSTORE_BASE64 }\" | base64 --decode > android/app/keystore.jks\n</span></code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” GitHub ì €ì¥ì†Œì— ì €ì¥ëœ ì‹œí¬ë¦¿ì„ ì‚¬ìš©í•˜ì—¬ base64ë¡œ ì¸ì½”ë”©ëœ í‚¤ìŠ¤í† ì–´ë¥¼ ë””ì½”ë”©í•©ë‹ˆë‹¤. ë””ì½”ë”©ëœ í‚¤ìŠ¤í† ì–´ëŠ” android/app/keystore.jksì— ì €ì¥ë©ë‹ˆë‹¤. Android ì•±ì„ ì„œëª…í•˜ëŠ” ë° í•„ìš”í•©ë‹ˆë‹¤.</p>\n<ol start=\"2\">\n<li>key.properties íŒŒì¼ ìƒì„±í•˜ê¸°</li>\n</ol>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">key.properties</span> <span class=\"hljs-string\">íŒŒì¼</span> <span class=\"hljs-string\">ìƒì„±</span>\n  <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">|\n    echo \"storePassword=${ secrets.KEYSTORE_PASSWORD }\" > android/key.properties\n    echo \"keyPassword=${ secrets.KEY_PASSWORD }\" >> android/key.properties\n    echo \"keyAlias=${ secrets.KEY_ALIAS }\" >> android/key.properties\n    echo \"storeFile=keystore.jks\" >> android/key.properties\n</span></code></pre>\n<div class=\"content-ad\"></div>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„œëª…í•˜ëŠ” ë° í•„ìš”í•œ ì†ì„±ì„ ê°–ëŠ” key.properties íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì†ì„±ì€ GitHub ì €ì¥ì†Œì— ì €ì¥ëœ ë¹„ë°€ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì±„ì›Œì§‘ë‹ˆë‹¤.</p>\n<h1>6. APK ë¹Œë“œ</h1>\n<pre><code class=\"hljs language-js\">- <span class=\"hljs-attr\">name</span>: <span class=\"hljs-variable constant_\">APK</span> ë¹Œë“œ\n  <span class=\"hljs-attr\">run</span>: flutter build apk --release\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” flutter build apk --release ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ APKë¥¼ ë¦´ë¦¬ìŠ¤ ëª¨ë“œë¡œ ë¹Œë“œí•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<h1>7. ì•± ë²ˆë“¤ ë¹Œë“œ</h1>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">ì•±</span> <span class=\"hljs-string\">ë²ˆë“¤</span> <span class=\"hljs-string\">ë¹Œë“œ</span> <span class=\"hljs-string\">ì‹¤í–‰</span>\n  <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">flutter</span> <span class=\"hljs-string\">build</span> <span class=\"hljs-string\">appbundle</span>\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” flutter build appbundle ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Android ì•± ë²ˆë“¤(AAB)ì„ ë¹Œë“œí•©ë‹ˆë‹¤.</p>\n<h1>8. IPA ë¹Œë“œ(iOS ë¹Œë“œ)</h1>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">ì´ë¦„:</span> <span class=\"hljs-string\">IPA</span> <span class=\"hljs-string\">ë¹Œë“œ</span>\n  <span class=\"hljs-string\">ì‹¤í–‰:</span> <span class=\"hljs-string\">flutter</span> <span class=\"hljs-string\">build</span> <span class=\"hljs-string\">ipa</span> <span class=\"hljs-string\">--no-codesign</span>\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” flutter build ipa --no-codesign ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ì„œëª… ì—†ì´ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ IPA íŒŒì¼ì„ ë¹Œë“œí•©ë‹ˆë‹¤. --no-codesign í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë¡œì»¬ ê°œë°œì„ ìœ„í•´ ìœ íš¨í•œ Apple ê°œë°œì ê³„ì •ì´ í•„ìš”í•˜ì§€ ì•Šê³  IPAë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h1>9. ì•„ì¹´ì´ë¸Œì™€ IPA ì••ì¶•</h1>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">ì´ë¦„:</span> <span class=\"hljs-string\">ì•„ì¹´ì´ë¸Œ</span> <span class=\"hljs-string\">ë°</span> <span class=\"hljs-string\">IPA</span> <span class=\"hljs-string\">ì••ì¶•</span>\n  <span class=\"hljs-string\">ì‹¤í–‰:</span> <span class=\"hljs-string\">|\n    cd build\n    tar -czf ios_build.tar.gz ios\n</span></code></pre>\n<div class=\"content-ad\"></div>\n<h1>10. ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ</h1>\n<pre><code class=\"hljs language-js\">- <span class=\"hljs-attr\">name</span>: ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ\n  <span class=\"hljs-attr\">uses</span>: actions/upload-artifact@v2\n  <span class=\"hljs-attr\">with</span>:\n    <span class=\"hljs-attr\">name</span>: ë¦´ë¦¬ì¦ˆ\n    <span class=\"hljs-attr\">path</span>: |\n      build/app/outputs/flutter-apk/app-release.<span class=\"hljs-property\">apk</span>\n      build/app/outputs/bundle/release/app-release.<span class=\"hljs-property\">aab</span>\n      build/ios_build.<span class=\"hljs-property\">tar</span>.<span class=\"hljs-property\">gz</span>\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” iOS ë¹Œë“œ ë””ë ‰í† ë¦¬ë¥¼ tar.gz íŒŒì¼ë¡œ ì••ì¶•í•˜ì—¬ ì €ì¥ ë° ì „ì†¡ì„ ì‰½ê²Œí•©ë‹ˆë‹¤. ì´ ë‹¨ê³„ëŠ” upload-artifact ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ ë¹Œë“œ ì•„í‹°íŒ©íŠ¸ (APK, AAB ë° ì••ì¶•ëœ iOS ë¹Œë“œ)ë¥¼ ì—…ë¡œë“œí•˜ì—¬ ë‚˜ì¤‘ì— ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¹Œë“œ ì¶œë ¥ë¬¼ì„ GitHub Actions ì‹¤í–‰ í˜ì´ì§€ì—ì„œ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<h1>11. ë²„ì „ ì¶”ì¶œ</h1>\n<pre><code class=\"hljs language-js\">- <span class=\"hljs-attr\">name</span>: pubspec.<span class=\"hljs-property\">yaml</span>ì—ì„œ ë²„ì „ ì¶”ì¶œ\n  <span class=\"hljs-attr\">id</span>: extract_version\n  <span class=\"hljs-attr\">run</span>: |\n    version=$(grep <span class=\"hljs-string\">'^version: '</span> pubspec.<span class=\"hljs-property\">yaml</span> | cut -d <span class=\"hljs-string\">' '</span> -f <span class=\"hljs-number\">2</span> | tr -d <span class=\"hljs-string\">'\\r'</span>)\n    echo <span class=\"hljs-string\">\"VERSION=$version\"</span> >> $GITHUB_ENV\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” pubspec.yaml íŒŒì¼ì—ì„œ ë²„ì „ ë²ˆí˜¸ë¥¼ ì¶”ì¶œí•˜ê³  í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. grep ëª…ë ¹ì€ ë²„ì „ ë¼ì¸ì„ ê²€ìƒ‰í•˜ì—¬ ë²„ì „ ë²ˆí˜¸ë¥¼ ì¶”ì¶œí•˜ê³  ì´ë¥¼ VERSION í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.</p>\n<h1>12. íƒœê·¸ì˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸</h1>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">íƒœê·¸</span> <span class=\"hljs-string\">ì—¬ë¶€</span> <span class=\"hljs-string\">í™•ì¸</span>\n  <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">check_tag</span>\n  <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">|\n    if git rev-parse \"v${ env.VERSION }\" >/dev/null 2>&#x26;1; then\n      echo \"TAG_EXISTS=true\" >> $GITHUB_ENV\n    else\n      echo \"TAG_EXISTS=false\" >> $GITHUB_ENV\n    fi\n</span></code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ëŠ” ì €ì¥ì†Œì— ë²„ì „ íƒœê·¸ê°€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. íƒœê·¸ê°€ ìˆìœ¼ë©´ TAG_EXISTS í™˜ê²½ ë³€ìˆ˜ë¥¼ trueë¡œ ì„¤ì •í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ falseë¡œ ì„¤ì •í•©ë‹ˆë‹¤.</p>\n<h1>13. íƒœê·¸ ìˆ˜ì •í•˜ê¸° (íƒœê·¸ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°)</h1>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">íƒœê·¸</span> <span class=\"hljs-string\">ìˆ˜ì •</span>\n  <span class=\"hljs-attr\">if:</span> <span class=\"hljs-string\">env.TAG_EXISTS</span> <span class=\"hljs-string\">==</span> <span class=\"hljs-string\">'true'</span>\n  <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">modify_tag</span>\n  <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">|\n    new_version=\"${ env.VERSION }-build-${ github.run_number }\"\n    echo \"VERSION=$new_version\" >> $GITHUB_ENV\n</span></code></pre>\n<div class=\"content-ad\"></div>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” ì´ë¯¸ ìˆëŠ” íƒœê·¸ì¸ ê²½ìš°, ë²„ì „ íƒœê·¸ë¥¼ ìˆ˜ì •í•˜ì—¬ ë²„ì „ ë²ˆí˜¸ì— -build-<code>run_number</code>ë¥¼ ì¶”ê°€í•˜ì—¬ ê³ ìœ  ì‹ë³„ìê°€ í¬í•¨ë˜ë„ë¡ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ íƒœê·¸ê°€ ê³ ìœ í•˜ê²Œ ìœ ì§€ë˜ê³  ì¶©ëŒì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h1>14. ë¦´ë¦¬ìŠ¤ ìƒì„±</h1>\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">ë¦´ë¦¬ìŠ¤</span> <span class=\"hljs-string\">ìƒì„±</span>\n  <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">ncipollo/release-action@v1</span>\n  <span class=\"hljs-attr\">with:</span>\n    <span class=\"hljs-attr\">artifacts:</span> <span class=\"hljs-string\">\"build/app/outputs/flutter-apk/app-release.apk,build/app/outputs/bundle/release/app-release.aab,build/ios_build.tar.gz\"</span>\n    <span class=\"hljs-attr\">tag:</span> <span class=\"hljs-string\">v${</span> <span class=\"hljs-string\">env.VERSION</span> <span class=\"hljs-string\">}</span>\n    <span class=\"hljs-attr\">token:</span> <span class=\"hljs-string\">${</span> <span class=\"hljs-string\">secrets.TOKEN</span> <span class=\"hljs-string\">}</span>\n</code></pre>\n<p>ì„¤ëª…: ì´ ë‹¨ê³„ì—ì„œëŠ” ncipollo/release-actionì„ ì‚¬ìš©í•˜ì—¬ ì§€ì •ëœ ì•„í‹°íŒ©íŠ¸ë¡œ GitHub ë¦´ë¦¬ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. (í•„ìš”í•œ ê²½ìš° ìˆ˜ì •ëœ) ë²„ì „ì„ íƒœê·¸ë¡œ ì‚¬ìš©í•˜ê³  GitHub ì‹œí¬ë¦¿ì— ì €ì¥ëœ í† í°ì„ ì¸ì¦ì— ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<h1>ë§ˆë²•ì„ ë³¼ ì¤€ë¹„ê°€ ë˜ì…¨ë‚˜ìš”?</h1>\n<pre><code class=\"hljs language-js\">$ get add .\n$ git commit -m <span class=\"hljs-string\">\"test github actions\"</span> \n$ git push -u origin dev\n</code></pre>\n<ul>\n<li>ë³€ê²½ ì‚¬í•­ì„ dev ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ê³  ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.</li>\n<li>ë ˆí¬ì§€í† ë¦¬ì˜ Actions íƒ­ìœ¼ë¡œ ì´ë™í•´ì„œ í™•ì¸í•´ ë³´ì„¸ìš”.</li>\n</ul>\n<p><img src=\"/assets/img/2024-06-23-AutomatingFlutterBuildswithGitHubActionsAStep-by-StepGuide_8.png\" alt=\"ì´ë¯¸ì§€\"></p>\n<div class=\"content-ad\"></div>\n<h1>ì™„ì„±ëœ Workflow ì½”ë“œ</h1>\n<p>ì¤‘ìš”í•œ ë©”ëª¨: ë“¤ì—¬ì“°ê¸°ê°€ ì¤‘ìš”í•˜ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">\"Build\"</span>\n\n<span class=\"hljs-attr\">on</span>:\n  <span class=\"hljs-attr\">pull_request</span>:\n    <span class=\"hljs-attr\">branches</span>:\n      - dev\n      - test\n  <span class=\"hljs-attr\">push</span>:\n    <span class=\"hljs-attr\">branches</span>:\n      - dev\n      - test\n\n<span class=\"hljs-attr\">jobs</span>:  \n  <span class=\"hljs-attr\">build</span>:      \n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-title class_\">Build</span> &#x26; <span class=\"hljs-title class_\">Release</span> \n    runs-<span class=\"hljs-attr\">on</span>: macos-latest \n\n    <span class=\"hljs-attr\">steps</span>:\n        #<span class=\"hljs-number\">1</span> ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ\n      - <span class=\"hljs-attr\">name</span>: ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ\n        <span class=\"hljs-attr\">uses</span>: actions/checkout@v3\n\n        #<span class=\"hljs-number\">2</span> <span class=\"hljs-title class_\">Java</span> ì„¤ì •\n      - <span class=\"hljs-attr\">name</span>: <span class=\"hljs-title class_\">Java</span> ì„¤ì •\n        <span class=\"hljs-attr\">uses</span>: actions/setup-java@v3<span class=\"hljs-number\">.12</span><span class=\"hljs-number\">.0</span>\n        <span class=\"hljs-attr\">with</span>:\n          <span class=\"hljs-attr\">distribution</span>: <span class=\"hljs-string\">'oracle'</span>\n          java-<span class=\"hljs-attr\">version</span>: <span class=\"hljs-string\">'17'</span>\n\n        #<span class=\"hljs-number\">3</span> <span class=\"hljs-title class_\">Flutter</span> ì„¤ì •\n      - <span class=\"hljs-attr\">name</span>: <span class=\"hljs-title class_\">Flutter</span> ì„¤ì •\n        <span class=\"hljs-attr\">uses</span>: subosito/flutter-action@v2\n        <span class=\"hljs-attr\">with</span>:\n          flutter-<span class=\"hljs-attr\">version</span>: <span class=\"hljs-string\">'3.22.2'</span>\n          <span class=\"hljs-attr\">channel</span>: <span class=\"hljs-string\">'stable'</span>\n\n        #<span class=\"hljs-number\">4</span> ì¢…ì†ì„± ì„¤ì¹˜\n      - <span class=\"hljs-attr\">name</span>: ì¢…ì†ì„± ì„¤ì¹˜\n        <span class=\"hljs-attr\">run</span>: flutter pub get\n\n        #<span class=\"hljs-number\">5</span> <span class=\"hljs-title class_\">Keystore</span> ì„¤ì •\n      - <span class=\"hljs-attr\">name</span>: <span class=\"hljs-title class_\">Keystore</span> ë””ì½”ë”©\n        <span class=\"hljs-attr\">run</span>: |\n          echo <span class=\"hljs-string\">\"${ secrets.KEYSTORE_BASE64 }\"</span> | base64 --decode > android/app/keystore.<span class=\"hljs-property\">jks</span>\n          \n      - <span class=\"hljs-attr\">name</span>: key.<span class=\"hljs-property\">properties</span> ìƒì„±\n        <span class=\"hljs-attr\">run</span>: |\n          echo <span class=\"hljs-string\">\"storePassword=${ secrets.KEYSTORE_PASSWORD }\"</span> > android/key.<span class=\"hljs-property\">properties</span>\n          echo <span class=\"hljs-string\">\"keyPassword=${ secrets.KEY_PASSWORD }\"</span> >> android/key.<span class=\"hljs-property\">properties</span>\n          echo <span class=\"hljs-string\">\"keyAlias=${ secrets.KEY_ALIAS }\"</span> >> android/key.<span class=\"hljs-property\">properties</span>\n          echo <span class=\"hljs-string\">\"storeFile=keystore.jks\"</span> >> android/key.<span class=\"hljs-property\">properties</span>\n        \n       #<span class=\"hljs-number\">6</span> <span class=\"hljs-variable constant_\">APK</span> ë¹Œë“œ\n      - <span class=\"hljs-attr\">name</span>: <span class=\"hljs-variable constant_\">APK</span> ë¹Œë“œ\n        <span class=\"hljs-attr\">run</span>: flutter build apk --release\n\n        #<span class=\"hljs-number\">7</span> <span class=\"hljs-title class_\">App</span> <span class=\"hljs-title class_\">Bundle</span> (aab) ë¹Œë“œ\n      - <span class=\"hljs-attr\">name</span>: <span class=\"hljs-title class_\">App</span> <span class=\"hljs-title class_\">Bundle</span> ë¹Œë“œ\n        <span class=\"hljs-attr\">run</span>: flutter build appbundle\n\n        #<span class=\"hljs-number\">8</span> <span class=\"hljs-variable constant_\">IPA</span> ë¹Œë“œ (iOS ë¹Œë“œ)\n      - <span class=\"hljs-attr\">name</span>: <span class=\"hljs-variable constant_\">IPA</span> ë¹Œë“œ\n        <span class=\"hljs-attr\">run</span>: flutter build ipa --no-codesign\n\n      - <span class=\"hljs-attr\">name</span>: ì•„ì¹´ì´ë¸Œ ë° <span class=\"hljs-variable constant_\">IPA</span> ì••ì¶•\n        <span class=\"hljs-attr\">run</span>: |\n          cd build\n          tar -czf ios_build.<span class=\"hljs-property\">tar</span>.<span class=\"hljs-property\">gz</span> ios\n\n        #<span class=\"hljs-number\">9</span> ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ\n      - <span class=\"hljs-attr\">name</span>: ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ\n        <span class=\"hljs-attr\">uses</span>: actions/upload-artifact@v2\n        <span class=\"hljs-attr\">with</span>:\n          <span class=\"hljs-attr\">name</span>: ë¦´ë¦¬ìŠ¤\n          <span class=\"hljs-attr\">path</span>: |\n            build/app/outputs/flutter-apk/app-release.<span class=\"hljs-property\">apk</span>\n            build/app/outputs/bundle/release/app-release.<span class=\"hljs-property\">aab</span>\n            build/ios_build.<span class=\"hljs-property\">tar</span>.<span class=\"hljs-property\">gz</span>\n\n        #<span class=\"hljs-number\">10</span> ë²„ì „ ì¶”ì¶œ\n      - <span class=\"hljs-attr\">name</span>: pubspec.<span class=\"hljs-property\">yaml</span>ì—ì„œ ë²„ì „ ì¶”ì¶œ\n        <span class=\"hljs-attr\">id</span>: extract_version\n        <span class=\"hljs-attr\">run</span>: |\n          version=$(grep <span class=\"hljs-string\">'^version: '</span> pubspec.<span class=\"hljs-property\">yaml</span> | cut -d <span class=\"hljs-string\">' '</span> -f <span class=\"hljs-number\">2</span> | tr -d <span class=\"hljs-string\">'\\r'</span>)\n          echo <span class=\"hljs-string\">\"VERSION=$version\"</span> >> $GITHUB_ENV\n\n        #<span class=\"hljs-number\">11</span> íƒœê·¸ í™•ì¸\n      - <span class=\"hljs-attr\">name</span>: íƒœê·¸ í™•ì¸\n        <span class=\"hljs-attr\">id</span>: check_tag\n        <span class=\"hljs-attr\">run</span>: |\n          <span class=\"hljs-keyword\">if</span> git rev-parse <span class=\"hljs-string\">\"v${ env.VERSION }\"</span> ><span class=\"hljs-regexp\">/dev/</span><span class=\"hljs-literal\">null</span> <span class=\"hljs-number\">2</span>>&#x26;<span class=\"hljs-number\">1</span>; then\n            echo <span class=\"hljs-string\">\"TAG_EXISTS=true\"</span> >> $GITHUB_ENV\n          <span class=\"hljs-keyword\">else</span>\n            echo <span class=\"hljs-string\">\"TAG_EXISTS=false\"</span> >> $GITHUB_ENV\n          fi\n\n        #<span class=\"hljs-number\">12</span> íƒœê·¸ ìˆ˜ì •\n      - <span class=\"hljs-attr\">name</span>: íƒœê·¸ ìˆ˜ì •\n        <span class=\"hljs-attr\">if</span>: env.<span class=\"hljs-property\">TAG_EXISTS</span> == <span class=\"hljs-string\">'true'</span>\n        <span class=\"hljs-attr\">id</span>: modify_tag\n        <span class=\"hljs-attr\">run</span>: |\n          new_version=<span class=\"hljs-string\">\"${ env.VERSION }-build-${ github.run_number }\"</span>\n          echo <span class=\"hljs-string\">\"VERSION=$new_version\"</span> >> $GITHUB_ENV\n        \n        #<span class=\"hljs-number\">13</span> ë¦´ë¦¬ìŠ¤ ìƒì„±\n      - <span class=\"hljs-attr\">name</span>: ë¦´ë¦¬ìŠ¤ ìƒì„±\n        <span class=\"hljs-attr\">uses</span>: ncipollo/release-action@v1\n        <span class=\"hljs-attr\">with</span>:\n          <span class=\"hljs-attr\">artifacts</span>: <span class=\"hljs-string\">\"build/app/outputs/flutter-apk/app-release.apk,build/app/outputs/bundle/release/app-release.aab,build/ios_build.tar.gz\"</span>\n          <span class=\"hljs-attr\">tag</span>: v${ env.<span class=\"hljs-property\">VERSION</span> }\n          <span class=\"hljs-attr\">token</span>: ${ secrets.<span class=\"hljs-property\">TOKEN</span> }\n</code></pre>\n<p>ìœ„ ë‹¨ê³„ë¥¼ ë”°ë¼ ì™„ì„±ëœ Workflow ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ Flutter ë¹Œë“œ ë° ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ì—¬ CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ì¼ê´€ì„±ê³¼ íš¨ìœ¨ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"content-ad\"></div>\n<h2>ì´ì œ ì²« CI/CD ì›Œí¬í”Œë¡œë¥¼ ë§Œë“¤ì—ˆì–´ìš”, ì¶•í•˜ë“œë ¤ìš” ğŸ¥³ğŸ¥³</h2>\n</body>\n</html>\n"},"__N_SSG":true}