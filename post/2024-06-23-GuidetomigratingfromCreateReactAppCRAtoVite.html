<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Create React App CRA에서 Vite로 마이그레이션하는 가이드 | uidev-css</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://uidev-css.github.io///post/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Create React App CRA에서 Vite로 마이그레이션하는 가이드 | uidev-css" data-gatsby-head="true"/><meta property="og:title" content="Create React App CRA에서 Vite로 마이그레이션하는 가이드 | uidev-css" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://uidev-css.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://uidev-css.github.io///post/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite" data-gatsby-head="true"/><meta name="twitter:title" content="Create React App CRA에서 Vite로 마이그레이션하는 가이드 | uidev-css" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | uidev-css" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 15:09" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BHFR6GTH9P"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-BHFR6GTH9P');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-b4eed7811784bdd3.js" defer=""></script><script src="/_next/static/5et5eMZxpKCgDAAyIS6Ju/_buildManifest.js" defer=""></script><script src="/_next/static/5et5eMZxpKCgDAAyIS6Ju/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">UIDEV CSS</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Create React App CRA에서 Vite로 마이그레이션하는 가이드</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Create React App CRA에서 Vite로 마이그레이션하는 가이드" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">UIDEV CSS</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>요즘 회사 내 보안 팀으로부터 웹 애플리케이션에서 발견된 모든 취약점을 가능한 한 빨리 해결하라는 안내를 받았어요.</p>
<p>Synk 보고서를 열어 보니, react-scripts 패키지와 관련된 중요도가 중간부터 높음까지 다양한 취약점이 나열되어 있었어요. 이에 대한 의존성 업그레이드가 필요합니다. 저희 웹 애플리케이션은 2년 전에 나온 리액트 스크립트 버전인 5.0.1을 사용하고 있는데, 더 이상 관리되지 않고 있어요.</p>
<p>그래서 의존성 버전을 덮어씌우는 대신 Vite을 사용해 보기로 결정했어요!</p>
<p><img src="/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png" alt="이미지"></p>
<div class="content-ad"></div>
<p>CRA에서 Vite로 웹 애플리케이션을 전환하는 과정에서 따라한 단계별 안내서를 확인해보세요.</p>
<h2>1. 의존성 설치 ⚡️</h2>
<p>가장 먼저, 여러 의존성을 설치해야 합니다.</p>
<pre><code class="hljs language-js">npm install vite @vitejs/plugin-react vite-tsconfig-paths vite-plugin-svgr vite-plugin-commonjs --save-dev
</code></pre>
<div class="content-ad"></div>
<ul>
<li>
<p>vite</p>
</li>
<li>
<p>@vitejs/plugin-react</p>
</li>
<li>
<p>vite-tsconfig-paths</p>
</li>
<li>
<p>vite-plugin-svgr</p>
</li>
<li>
<p>vite-plugin-commonjs</p>
</li>
</ul>
<h2>2. Create <code>vite.config.ts</code> ⚡️</h2>
<p>프로젝트 루트에 <code>vite.config.ts</code> 파일을 만드세요. 이 파일은 Vite가 프로젝트에서 작동하는 여러 측면을 제어하는 데 사용됩니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">base</span>: <span class="hljs-string">'./'</span>,
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">react</span>(),
  ],
  <span class="hljs-attr">server</span>: {
    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 브라우저에서 앱 자동으로 열기</span>
    <span class="hljs-attr">port</span>: <span class="hljs-number">3000</span>,
  },
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-attr">screens</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./src/screens'</span>),
    },
  },
  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">outDir</span>: <span class="hljs-string">'build'</span>,
  },
});
</code></pre>
<p>각 구성 옵션을 살펴보겠습니다:</p>
<ul>
<li>base: 이는 애플리케이션의 기본 URL을 설정합니다. 애플리케이션이 <a href="https://abc.com/portal/%EC%97%90" rel="nofollow" target="_blank">https://abc.com/portal/에</a> 배포되었다면 base를 <code>/portal/</code>로 설정해야 합니다.</li>
<li>plugin: 이는 애플리케이션에 Vite 플러그인을 추가하는 것입니다. @vitejs/plugin-react에서 제공하는 React 플러그인은 JSX 및 기타 React 특정 기능을 처리하기 위해 필요합니다. 기타 선택적 플러그인으로는 commonjs(필요한 경우 CommonJS 모듈을 ES6 모듈로 변환), svgr(애플리케이션에 SVG가 있는 경우 React 컴포넌트로 직접 가져와야 함) 및 vite-tsconfig-paths(타입스크립트 경로 별칭을 해결하기 위해 사용) 등이 있습니다.</li>
</ul>
<pre><code class="hljs language-js"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;
<span class="hljs-keyword">import</span> commonjs <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-commonjs'</span>;
<span class="hljs-keyword">import</span> svgr <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-svgr'</span>;
<span class="hljs-keyword">import</span> viteTsConfigPaths <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-tsconfig-paths'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">react</span>(),
    <span class="hljs-title function_">viteTsConfigPaths</span>(),
    <span class="hljs-title function_">commonjs</span>(),
    <span class="hljs-title function_">svgr</span>({
      <span class="hljs-attr">include</span>: [
        <span class="hljs-string">'src/**/*.svg'</span>,
      ],
    }),
  ],
});

………………………………………………………………………………………………………………………………………………………………

<span class="hljs-comment">// SVG 파일을 React 컴포넌트로 가져와야 합니다:</span>
<span class="hljs-comment">// Component.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Icon</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./icon.svg?react'</span>.

………………………………………………………………………………………………………………………………………………………………

<span class="hljs-comment">// tsconfig.json</span>
{
  <span class="hljs-string">"compilerOptions"</span>: {
    <span class="hljs-string">"paths"</span>: {
      <span class="hljs-string">"components/*"</span>: [<span class="hljs-string">"src/components/*"</span>],
    }
  }
}

<span class="hljs-comment">// 상대 경로를 사용하여 모듈을 가져오는 대신</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/Button'</span>;

<span class="hljs-comment">// 정의된 별칭을 사용할 수 있습니다</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'components/Button'</span>;
</code></pre>
<div class="content-ad"></div>
<ul>
<li>server: 개발 서버의 포트 번호를 구성하는 것입니다. 기본값은 포트 5173입니다.</li>
<li>resolve: 별칭을 사용하여 가져오기 경로를 간소화하는 것입니다.</li>
<li>build: Vite에서 빌드 프로세스를 사용자 정의하는 것입니다. 예를 들어, 출력 디렉토리의 이름을 설정하거나 CRA와 동일한 빌드 폴더를 유지하려면 build를 사용합니다. 기본값은 dist입니다. 또한 코드 분할을 구성할 수도 있습니다.</li>
</ul>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">optimizeDeps</span>: {
    <span class="hljs-attr">force</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">esbuildOptions</span>: {
      <span class="hljs-attr">loader</span>: {
        <span class="hljs-string">'.js'</span>: <span class="hljs-string">'jsx'</span>,
      },
    },
  },
});
</code></pre>
<ul>
<li>OptimizeDeps: esbuild( Vite의 기본 번들러)를 사용하여 종속성의 사전 번들링을 구성하는 것입니다. force: true로 설정하면 Vite가 모든 개발 시작 시마다 종속성을 사전 번들링하여 항상 최신 상태를 유지하도록 합니다. 또한 loader: '<code>.js</code>: <code>jsx</code>'는 ESBuild가 JS 파일을 JSX 파일로 처리해야 함을 지정합니다. JS 파일에 JSX 구문이 포함되어 있는 경우 유용합니다.</li>
</ul>
<h2>3. vite-env.d.ts 파일 생성 ⚡️</h2>
<div class="content-ad"></div>
<p>프로젝트 루트에 vite-env.d.ts라는 파일을 만들어주세요.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// vite-env.d.ts</span>
<span class="hljs-comment">/// &#x3C;reference types="vite/client" /></span>
</code></pre>
<p>이 코드는 Vite의 전역 변수 및 클라이언트 특정 기능에 대한 타입 정의를 포함합니다. 이 파일은 사용자 정의 타입 및 모듈 선언에도 사용할 수 있으며 이는 TypeScript가 Vite 프로젝트의 다른 에셋 및 전역 변수를 처리하는 방법을 이해하는 데 도움이 됩니다.</p>
<h2>4. index.html 파일 업데이트 ⚡️</h2>
<div class="content-ad"></div>
<ul>
<li>public 폴더에서 index.html 파일을 루트 폴더로 이동하세요. CRA의 경우 index.html 파일은 public 폴더에 있어야 합니다. 그러나 Vite는 프로젝트의 루트에 이 파일이 있어야 합니다.</li>
<li>%PUBLIC_URL%을 삭제하세요. Vite는 정적 자산과 공개 경로를 다르게 처리하며 JavaScript 파일에서 자산을 직접 가져오거나 HTML에서 상대 경로를 사용할 수 있도록 해줍니다.</li>
</ul>
<pre><code class="hljs language-js">&#x3C;!<span class="hljs-variable constant_">DOCTYPE</span> html>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>></span>
<span class="hljs-tag">&#x3C;<span class="hljs-name">head</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"robots"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"noindex,nofollow"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"%PUBLIC_URL%/favicon.png"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"manifest"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"%PUBLIC_URL%/manifest.json"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">title</span>></span>CRA<span class="hljs-tag">&#x3C;/<span class="hljs-name">title</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">head</span>></span>

<span class="hljs-tag">&#x3C;<span class="hljs-name">body</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">noscript</span>></span>이 앱을 실행하려면 JavaScript를 활성화해야 합니다.<span class="hljs-tag">&#x3C;/<span class="hljs-name">noscript</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"%PUBLIC_URL%/src/main.jsx"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">body</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">html</span>></span></span>
</code></pre>
<pre><code class="hljs language-js">&#x3C;!<span class="hljs-variable constant_">DOCTYPE</span> html>
<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>></span>
<span class="hljs-tag">&#x3C;<span class="hljs-name">head</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"robots"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"noindex,nofollow"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/favicon.png"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"manifest"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/manifest.json"</span> /></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">title</span>></span>CRA<span class="hljs-tag">&#x3C;/<span class="hljs-name">title</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">head</span>></span>

<span class="hljs-tag">&#x3C;<span class="hljs-name">body</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">noscript</span>></span>이 앱을 실행하려면 JavaScript를 활성화해야 합니다.<span class="hljs-tag">&#x3C;/<span class="hljs-name">noscript</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.jsx"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">body</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">html</span>></span></span>
</code></pre>
<h2>5. tsconfig.json 업데이트 ⚡️</h2>
<div class="content-ad"></div>
<p>tsconfig.json을 업데이트해야 합니다. 특히 target, types 및 lib을 수정해야 합니다.</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"compilerOptions"</span>: {
    <span class="hljs-string">"target"</span>: <span class="hljs-string">"ESNext"</span>,
    <span class="hljs-string">"types"</span>: [<span class="hljs-string">"vite/client"</span>, <span class="hljs-string">"vite-plugin-svgr/client"</span>],
    <span class="hljs-string">"lib"</span>: [<span class="hljs-string">"dom"</span>, <span class="hljs-string">"dom.iterable"</span>, <span class="hljs-string">"esnext"</span>],
    <span class="hljs-string">"allowJs"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"skipLibCheck"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"esModuleInterop"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"allowSyntheticDefaultImports"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"strict"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"forceConsistentCasingInFileNames"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"module"</span>: <span class="hljs-string">"esnext"</span>,
    <span class="hljs-string">"moduleResolution"</span>: <span class="hljs-string">"node"</span>,
    <span class="hljs-string">"resolveJsonModule"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"isolatedModules"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"noEmit"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"noFallthroughCasesInSwitch"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"allowImportingTsExtensions"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"jsx"</span>: <span class="hljs-string">"react-jsx"</span>
  },
  <span class="hljs-string">"exclude"</span>: [
    <span class="hljs-string">"node_modules"</span>
  ]
}
</code></pre>
<h2>6. 환경 변수 ⚡️</h2>
<p>Vite 프로젝트에서 process.env.REACT_APP_에서 import.meta.env.VITE_로 모든 환경 변수를 이관해야 합니다. Vite에서는 import.meta.env를 사용하여 환경 변수에 액세스하며, 반드시 접두사 VITE_로 시작해야 합니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-comment">// CRA</span>
process.<span class="hljs-property">env</span>.<span class="hljs-property">REACT_APP_API</span>

<span class="hljs-comment">// Vite</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>) 
<span class="hljs-comment">// { BASE_URL: '/', DEV: true, MODE: 'development', PROD: false, SSR: false }</span>
</code></pre>
<p>import.meta.env에는 BASE_URL, DEV, MODE, PROD 및 SSR과 같은 몇 가지 미리 정의된 환경 변수가 있습니다. Vite는 실행할 때 import.meta.env.MODE를 development로 자동 설정하며, vite build를 실행할 때는 production으로 설정합니다. 또한 Vite 명령을 실행할 때 필요에 따라 모드를 지정할 수 있습니다. 예를 들어 vite build --mode staging와 같이 실행할 수 있습니다.</p>
<h2>7. react-scripts 삭제하기 ⚡️</h2>
<p>단순히 Vite로 대체했으므로 react-scripts를 삭제하고, 만약 craco.config.js 또는 config-overrides.js가 있다면 삭제하세요.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">npm uninstall react-scripts
</code></pre>
<h2>8. 패키지.json 파일의 스크립트 업데이트 ⚡️</h2>
<p>react-scripts 패키지를 제거한 후에는 스크립트를 vite를 사용하도록 업데이트해야 합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-string">"scripts"</span>: {
  <span class="hljs-string">"start"</span>: <span class="hljs-string">"vite"</span>,
  <span class="hljs-string">"build"</span>: <span class="hljs-string">"vite build"</span>,
  <span class="hljs-string">"serve"</span>: <span class="hljs-string">"vite preview"</span>
},
</code></pre>
<div class="content-ad"></div>
<h2>9. 애플리케이션 실행 ⚡️</h2>
<p>npm start으로 애플리케이션을 실행하세요. 브라우저에서 즉시 애플리케이션이 열리는 것을 보게 될 거에요!</p>
<p><img src="/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1.png" alt="2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1"></p>
<p>또한 npm run build로 정적 빌드를 수행한 후, npx serve -s build를 실행하여 프로덕션 빌드를 로컬에서 테스트할 수 있어요. 😋</p>
<div class="content-ad"></div>
<h2>10. ESLint &#x26; Prettier 설정 ⚡️</h2>
<p>CRA 및 Vite는 동일한 ESLint 및 Prettier 구성을 사용할 수 있으며 이동이 거의 필요하지 않아야 합니다. 제 경우 eslint를 실행할 때 "react-app" 설정을 불러오지 못해 오류가 발생하며 다음 패키지를 설치하여 문제를 해결할 수 있습니다.</p>
<pre><code class="hljs language-js">npm install eslint-config-react-app
</code></pre>
<h2>오류 및 문제 해결 🔧</h2>
<div class="content-ad"></div>
<p>Vite로 이주하면서 만난 몇 가지 오류와 내가 시도한 문제 해결 방법입니다.</p>
<p>🔗 해결: 파일 형식을 .js에서 .jsx로 변경하고, 작동하지 않거나 영향을 받는 파일이 많은 경우, vite.config.js에 JS 파일을 JSX로 처리하는 구성을 추가합니다.</p>
<p>🔗 해결: /src/assets/images/logo.svg?react로 대체하여 해결합니다. SVG를 React 컴포넌트로 변환하기 위해 vite.config.js에 이 플러그인을 추가해야 할 수 있습니다.</p>
<p>🔗 해결: npm install vite-plugin-commonjs을 실행하고, vite.config.js에 이 플러그인을 추가하여 해결할 수 있습니다.</p>
<div class="content-ad"></div>
<p>🔗 솔루션: process.env를 import.meta.env로 교체하세요.</p>
<p>🔗 솔루션: 이 설정을 구성했더니 작동했어요. 애플리케이션이 하위 디렉터리에 존재하는 경우에 대한 것입니다.</p>
<h2>결론</h2>
<p>CRA에서 Vite로 전환한 후, 웹 애플리케이션 개발 프로세스가 상당히 개선되었습니다.</p>
<div class="content-ad"></div>
<ul>
<li>Development server startup: 부팅 시간이 대략 14초에서 단 1초로 줄었습니다.</li>
<li>NPM 설치: npm 설치 과정이 눈에 띄게 더 빨라져, 2분에서 1분 30초로 단축되었습니다.</li>
<li>빌드 시간: 빌드 시간이 45초에서 22초로 줄었습니다.</li>
</ul>
<p>전체적으로, 마이그레이션에 만족하고 있습니다. 간단한데도 개발 경험을 더욱 원활하게 만들어주는 좋은 대안이라고 생각해요.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Create React App CRA에서 Vite로 마이그레이션하는 가이드","description":"","date":"2024-06-23 15:09","slug":"2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite","content":"\n\n요즘 회사 내 보안 팀으로부터 웹 애플리케이션에서 발견된 모든 취약점을 가능한 한 빨리 해결하라는 안내를 받았어요.\n\nSynk 보고서를 열어 보니, react-scripts 패키지와 관련된 중요도가 중간부터 높음까지 다양한 취약점이 나열되어 있었어요. 이에 대한 의존성 업그레이드가 필요합니다. 저희 웹 애플리케이션은 2년 전에 나온 리액트 스크립트 버전인 5.0.1을 사용하고 있는데, 더 이상 관리되지 않고 있어요.\n\n그래서 의존성 버전을 덮어씌우는 대신 Vite을 사용해 보기로 결정했어요!\n\n![이미지](/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nCRA에서 Vite로 웹 애플리케이션을 전환하는 과정에서 따라한 단계별 안내서를 확인해보세요.\n\n## 1. 의존성 설치 ⚡️\n\n가장 먼저, 여러 의존성을 설치해야 합니다.\n\n```js\nnpm install vite @vitejs/plugin-react vite-tsconfig-paths vite-plugin-svgr vite-plugin-commonjs --save-dev\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- vite\n- @vitejs/plugin-react\n- vite-tsconfig-paths\n\n- vite-plugin-svgr\n- vite-plugin-commonjs\n\n## 2. Create `vite.config.ts` ⚡️\n\n프로젝트 루트에 `vite.config.ts` 파일을 만드세요. 이 파일은 Vite가 프로젝트에서 작동하는 여러 측면을 제어하는 데 사용됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nimport path from 'path';\nimport { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\n\nexport default defineConfig({\n  base: './',\n  plugins: [\n    react(),\n  ],\n  server: {\n    open: true, // 브라우저에서 앱 자동으로 열기\n    port: 3000,\n  },\n  resolve: {\n    alias: {\n      screens: path.resolve(__dirname, './src/screens'),\n    },\n  },\n  build: {\n    outDir: 'build',\n  },\n});\n```\n\n각 구성 옵션을 살펴보겠습니다:\n\n- base: 이는 애플리케이션의 기본 URL을 설정합니다. 애플리케이션이 https://abc.com/portal/에 배포되었다면 base를 `/portal/`로 설정해야 합니다.\n- plugin: 이는 애플리케이션에 Vite 플러그인을 추가하는 것입니다. @vitejs/plugin-react에서 제공하는 React 플러그인은 JSX 및 기타 React 특정 기능을 처리하기 위해 필요합니다. 기타 선택적 플러그인으로는 commonjs(필요한 경우 CommonJS 모듈을 ES6 모듈로 변환), svgr(애플리케이션에 SVG가 있는 경우 React 컴포넌트로 직접 가져와야 함) 및 vite-tsconfig-paths(타입스크립트 경로 별칭을 해결하기 위해 사용) 등이 있습니다.\n\n```js\n// vite.config.ts\nimport { defineConfig } from 'vite';\nimport react from '@vitejs/plugin-react';\nimport commonjs from 'vite-plugin-commonjs';\nimport svgr from 'vite-plugin-svgr';\nimport viteTsConfigPaths from 'vite-tsconfig-paths';\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    viteTsConfigPaths(),\n    commonjs(),\n    svgr({\n      include: [\n        'src/**/*.svg',\n      ],\n    }),\n  ],\n});\n\n………………………………………………………………………………………………………………………………………………………………\n\n// SVG 파일을 React 컴포넌트로 가져와야 합니다:\n// Component.jsx\nimport Icon from './icon.svg?react'.\n\n………………………………………………………………………………………………………………………………………………………………\n\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"components/*\": [\"src/components/*\"],\n    }\n  }\n}\n\n// 상대 경로를 사용하여 모듈을 가져오는 대신\nimport Button from '../../components/Button';\n\n// 정의된 별칭을 사용할 수 있습니다\nimport Button from 'components/Button';\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- server: 개발 서버의 포트 번호를 구성하는 것입니다. 기본값은 포트 5173입니다.\n- resolve: 별칭을 사용하여 가져오기 경로를 간소화하는 것입니다.\n- build: Vite에서 빌드 프로세스를 사용자 정의하는 것입니다. 예를 들어, 출력 디렉토리의 이름을 설정하거나 CRA와 동일한 빌드 폴더를 유지하려면 build를 사용합니다. 기본값은 dist입니다. 또한 코드 분할을 구성할 수도 있습니다.\n\n```js\nimport { defineConfig } from 'vite';\n\nexport default defineConfig({\n  optimizeDeps: {\n    force: true,\n    esbuildOptions: {\n      loader: {\n        '.js': 'jsx',\n      },\n    },\n  },\n});\n```\n\n- OptimizeDeps: esbuild( Vite의 기본 번들러)를 사용하여 종속성의 사전 번들링을 구성하는 것입니다. force: true로 설정하면 Vite가 모든 개발 시작 시마다 종속성을 사전 번들링하여 항상 최신 상태를 유지하도록 합니다. 또한 loader: '`.js`: `jsx`'는 ESBuild가 JS 파일을 JSX 파일로 처리해야 함을 지정합니다. JS 파일에 JSX 구문이 포함되어 있는 경우 유용합니다.\n\n## 3. vite-env.d.ts 파일 생성 ⚡️\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n프로젝트 루트에 vite-env.d.ts라는 파일을 만들어주세요.\n\n```js\n// vite-env.d.ts\n/// \u003creference types=\"vite/client\" /\u003e\n```\n\n이 코드는 Vite의 전역 변수 및 클라이언트 특정 기능에 대한 타입 정의를 포함합니다. 이 파일은 사용자 정의 타입 및 모듈 선언에도 사용할 수 있으며 이는 TypeScript가 Vite 프로젝트의 다른 에셋 및 전역 변수를 처리하는 방법을 이해하는 데 도움이 됩니다.\n\n## 4. index.html 파일 업데이트 ⚡️\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- public 폴더에서 index.html 파일을 루트 폴더로 이동하세요. CRA의 경우 index.html 파일은 public 폴더에 있어야 합니다. 그러나 Vite는 프로젝트의 루트에 이 파일이 있어야 합니다.\n- %PUBLIC_URL%을 삭제하세요. Vite는 정적 자산과 공개 경로를 다르게 처리하며 JavaScript 파일에서 자산을 직접 가져오거나 HTML에서 상대 경로를 사용할 수 있도록 해줍니다.\n\n```js\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n  \u003cmeta name=\"robots\" content=\"noindex,nofollow\" /\u003e\n  \u003cmeta charset=\"utf-8\" /\u003e\n  \u003clink rel=\"icon\" href=\"%PUBLIC_URL%/favicon.png\" /\u003e\n  \u003clink rel=\"manifest\" href=\"%PUBLIC_URL%/manifest.json\" /\u003e\n  \u003ctitle\u003eCRA\u003c/title\u003e\n\u003c/head\u003e\n\n\u003cbody\u003e\n  \u003cnoscript\u003e이 앱을 실행하려면 JavaScript를 활성화해야 합니다.\u003c/noscript\u003e\n  \u003cdiv id=\"root\"\u003e\u003c/div\u003e\n  \u003cscript src=\"%PUBLIC_URL%/src/main.jsx\"\u003e\u003c/script\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n```\n\n```js\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n  \u003cmeta name=\"robots\" content=\"noindex,nofollow\" /\u003e\n  \u003cmeta charset=\"utf-8\" /\u003e\n  \u003clink rel=\"icon\" href=\"/favicon.png\" /\u003e\n  \u003clink rel=\"manifest\" href=\"/manifest.json\" /\u003e\n  \u003ctitle\u003eCRA\u003c/title\u003e\n\u003c/head\u003e\n\n\u003cbody\u003e\n  \u003cnoscript\u003e이 앱을 실행하려면 JavaScript를 활성화해야 합니다.\u003c/noscript\u003e\n  \u003cdiv id=\"root\"\u003e\u003c/div\u003e\n  \u003cscript src=\"/src/main.jsx\"\u003e\u003c/script\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n```\n\n## 5. tsconfig.json 업데이트 ⚡️\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\ntsconfig.json을 업데이트해야 합니다. 특히 target, types 및 lib을 수정해야 합니다.\n\n```js\n{\n  \"compilerOptions\": {\n    \"target\": \"ESNext\",\n    \"types\": [\"vite/client\", \"vite-plugin-svgr/client\"],\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"noEmit\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"allowImportingTsExtensions\": true,\n    \"jsx\": \"react-jsx\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n```\n\n## 6. 환경 변수 ⚡️\n\nVite 프로젝트에서 process.env.REACT_APP_에서 import.meta.env.VITE_로 모든 환경 변수를 이관해야 합니다. Vite에서는 import.meta.env를 사용하여 환경 변수에 액세스하며, 반드시 접두사 VITE_로 시작해야 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// CRA\nprocess.env.REACT_APP_API\n\n// Vite\nimport.meta.env.VITE_API\n\nconsole.log(import.meta.env) \n// { BASE_URL: '/', DEV: true, MODE: 'development', PROD: false, SSR: false }\n```\n\nimport.meta.env에는 BASE_URL, DEV, MODE, PROD 및 SSR과 같은 몇 가지 미리 정의된 환경 변수가 있습니다. Vite는 실행할 때 import.meta.env.MODE를 development로 자동 설정하며, vite build를 실행할 때는 production으로 설정합니다. 또한 Vite 명령을 실행할 때 필요에 따라 모드를 지정할 수 있습니다. 예를 들어 vite build --mode staging와 같이 실행할 수 있습니다.\n\n## 7. react-scripts 삭제하기 ⚡️\n\n단순히 Vite로 대체했으므로 react-scripts를 삭제하고, 만약 craco.config.js 또는 config-overrides.js가 있다면 삭제하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\r\nnpm uninstall react-scripts\r\n```\r\n\r\n## 8. 패키지.json 파일의 스크립트 업데이트 ⚡️\r\n\r\nreact-scripts 패키지를 제거한 후에는 스크립트를 vite를 사용하도록 업데이트해야 합니다.\r\n\r\n```js\r\n\"scripts\": {\r\n  \"start\": \"vite\",\r\n  \"build\": \"vite build\",\r\n  \"serve\": \"vite preview\"\r\n},\r\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 9. 애플리케이션 실행 ⚡️\n\nnpm start으로 애플리케이션을 실행하세요. 브라우저에서 즉시 애플리케이션이 열리는 것을 보게 될 거에요!\n\n![2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1](/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1.png)\n\n또한 npm run build로 정적 빌드를 수행한 후, npx serve -s build를 실행하여 프로덕션 빌드를 로컬에서 테스트할 수 있어요. 😋\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 10. ESLint \u0026 Prettier 설정 ⚡️\n\nCRA 및 Vite는 동일한 ESLint 및 Prettier 구성을 사용할 수 있으며 이동이 거의 필요하지 않아야 합니다. 제 경우 eslint를 실행할 때 \"react-app\" 설정을 불러오지 못해 오류가 발생하며 다음 패키지를 설치하여 문제를 해결할 수 있습니다.\n\n```js\nnpm install eslint-config-react-app\n```\n\n## 오류 및 문제 해결 🔧\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nVite로 이주하면서 만난 몇 가지 오류와 내가 시도한 문제 해결 방법입니다.\n\n🔗 해결: 파일 형식을 .js에서 .jsx로 변경하고, 작동하지 않거나 영향을 받는 파일이 많은 경우, vite.config.js에 JS 파일을 JSX로 처리하는 구성을 추가합니다.\n\n🔗 해결: /src/assets/images/logo.svg?react로 대체하여 해결합니다. SVG를 React 컴포넌트로 변환하기 위해 vite.config.js에 이 플러그인을 추가해야 할 수 있습니다.\n\n🔗 해결: npm install vite-plugin-commonjs을 실행하고, vite.config.js에 이 플러그인을 추가하여 해결할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n🔗 솔루션: process.env를 import.meta.env로 교체하세요.\n\n🔗 솔루션: 이 설정을 구성했더니 작동했어요. 애플리케이션이 하위 디렉터리에 존재하는 경우에 대한 것입니다.\n\n## 결론\n\nCRA에서 Vite로 전환한 후, 웹 애플리케이션 개발 프로세스가 상당히 개선되었습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Development server startup: 부팅 시간이 대략 14초에서 단 1초로 줄었습니다.\n- NPM 설치: npm 설치 과정이 눈에 띄게 더 빨라져, 2분에서 1분 30초로 단축되었습니다.\n- 빌드 시간: 빌드 시간이 45초에서 22초로 줄었습니다.\n\n전체적으로, 마이그레이션에 만족하고 있습니다. 간단한데도 개발 경험을 더욱 원활하게 만들어주는 좋은 대안이라고 생각해요.","ogImage":{"url":"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png"},"coverImage":"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e요즘 회사 내 보안 팀으로부터 웹 애플리케이션에서 발견된 모든 취약점을 가능한 한 빨리 해결하라는 안내를 받았어요.\u003c/p\u003e\n\u003cp\u003eSynk 보고서를 열어 보니, react-scripts 패키지와 관련된 중요도가 중간부터 높음까지 다양한 취약점이 나열되어 있었어요. 이에 대한 의존성 업그레이드가 필요합니다. 저희 웹 애플리케이션은 2년 전에 나온 리액트 스크립트 버전인 5.0.1을 사용하고 있는데, 더 이상 관리되지 않고 있어요.\u003c/p\u003e\n\u003cp\u003e그래서 의존성 버전을 덮어씌우는 대신 Vite을 사용해 보기로 결정했어요!\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eCRA에서 Vite로 웹 애플리케이션을 전환하는 과정에서 따라한 단계별 안내서를 확인해보세요.\u003c/p\u003e\n\u003ch2\u003e1. 의존성 설치 ⚡️\u003c/h2\u003e\n\u003cp\u003e가장 먼저, 여러 의존성을 설치해야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install vite @vitejs/plugin-react vite-tsconfig-paths vite-plugin-svgr vite-plugin-commonjs --save-dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003evite\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e@vitejs/plugin-react\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evite-tsconfig-paths\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evite-plugin-svgr\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003evite-plugin-commonjs\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e2. Create \u003ccode\u003evite.config.ts\u003c/code\u003e ⚡️\u003c/h2\u003e\n\u003cp\u003e프로젝트 루트에 \u003ccode\u003evite.config.ts\u003c/code\u003e 파일을 만드세요. 이 파일은 Vite가 프로젝트에서 작동하는 여러 측면을 제어하는 데 사용됩니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e path \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'path'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { defineConfig } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'vite'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e react \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@vitejs/plugin-react'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edefineConfig\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003ebase\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'./'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eplugins\u003c/span\u003e: [\n    \u003cspan class=\"hljs-title function_\"\u003ereact\u003c/span\u003e(),\n  ],\n  \u003cspan class=\"hljs-attr\"\u003eserver\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eopen\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e, \u003cspan class=\"hljs-comment\"\u003e// 브라우저에서 앱 자동으로 열기\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eport\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e,\n  },\n  \u003cspan class=\"hljs-attr\"\u003eresolve\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003ealias\u003c/span\u003e: {\n      \u003cspan class=\"hljs-attr\"\u003escreens\u003c/span\u003e: path.\u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e'./src/screens'\u003c/span\u003e),\n    },\n  },\n  \u003cspan class=\"hljs-attr\"\u003ebuild\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eoutDir\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'build'\u003c/span\u003e,\n  },\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e각 구성 옵션을 살펴보겠습니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ebase: 이는 애플리케이션의 기본 URL을 설정합니다. 애플리케이션이 \u003ca href=\"https://abc.com/portal/%EC%97%90\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://abc.com/portal/에\u003c/a\u003e 배포되었다면 base를 \u003ccode\u003e/portal/\u003c/code\u003e로 설정해야 합니다.\u003c/li\u003e\n\u003cli\u003eplugin: 이는 애플리케이션에 Vite 플러그인을 추가하는 것입니다. @vitejs/plugin-react에서 제공하는 React 플러그인은 JSX 및 기타 React 특정 기능을 처리하기 위해 필요합니다. 기타 선택적 플러그인으로는 commonjs(필요한 경우 CommonJS 모듈을 ES6 모듈로 변환), svgr(애플리케이션에 SVG가 있는 경우 React 컴포넌트로 직접 가져와야 함) 및 vite-tsconfig-paths(타입스크립트 경로 별칭을 해결하기 위해 사용) 등이 있습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// vite.config.ts\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { defineConfig } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'vite'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e react \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@vitejs/plugin-react'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e commonjs \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'vite-plugin-commonjs'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e svgr \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'vite-plugin-svgr'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e viteTsConfigPaths \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'vite-tsconfig-paths'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edefineConfig\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eplugins\u003c/span\u003e: [\n    \u003cspan class=\"hljs-title function_\"\u003ereact\u003c/span\u003e(),\n    \u003cspan class=\"hljs-title function_\"\u003eviteTsConfigPaths\u003c/span\u003e(),\n    \u003cspan class=\"hljs-title function_\"\u003ecommonjs\u003c/span\u003e(),\n    \u003cspan class=\"hljs-title function_\"\u003esvgr\u003c/span\u003e({\n      \u003cspan class=\"hljs-attr\"\u003einclude\u003c/span\u003e: [\n        \u003cspan class=\"hljs-string\"\u003e'src/**/*.svg'\u003c/span\u003e,\n      ],\n    }),\n  ],\n});\n\n………………………………………………………………………………………………………………………………………………………………\n\n\u003cspan class=\"hljs-comment\"\u003e// SVG 파일을 React 컴포넌트로 가져와야 합니다:\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// Component.jsx\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eIcon\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./icon.svg?react'\u003c/span\u003e.\n\n………………………………………………………………………………………………………………………………………………………………\n\n\u003cspan class=\"hljs-comment\"\u003e// tsconfig.json\u003c/span\u003e\n{\n  \u003cspan class=\"hljs-string\"\u003e\"compilerOptions\"\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"paths\"\u003c/span\u003e: {\n      \u003cspan class=\"hljs-string\"\u003e\"components/*\"\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"src/components/*\"\u003c/span\u003e],\n    }\n  }\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// 상대 경로를 사용하여 모듈을 가져오는 대신\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eButton\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../../components/Button'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// 정의된 별칭을 사용할 수 있습니다\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eButton\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'components/Button'\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eserver: 개발 서버의 포트 번호를 구성하는 것입니다. 기본값은 포트 5173입니다.\u003c/li\u003e\n\u003cli\u003eresolve: 별칭을 사용하여 가져오기 경로를 간소화하는 것입니다.\u003c/li\u003e\n\u003cli\u003ebuild: Vite에서 빌드 프로세스를 사용자 정의하는 것입니다. 예를 들어, 출력 디렉토리의 이름을 설정하거나 CRA와 동일한 빌드 폴더를 유지하려면 build를 사용합니다. 기본값은 dist입니다. 또한 코드 분할을 구성할 수도 있습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { defineConfig } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'vite'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edefineConfig\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eoptimizeDeps\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eforce\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eesbuildOptions\u003c/span\u003e: {\n      \u003cspan class=\"hljs-attr\"\u003eloader\u003c/span\u003e: {\n        \u003cspan class=\"hljs-string\"\u003e'.js'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'jsx'\u003c/span\u003e,\n      },\n    },\n  },\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eOptimizeDeps: esbuild( Vite의 기본 번들러)를 사용하여 종속성의 사전 번들링을 구성하는 것입니다. force: true로 설정하면 Vite가 모든 개발 시작 시마다 종속성을 사전 번들링하여 항상 최신 상태를 유지하도록 합니다. 또한 loader: '\u003ccode\u003e.js\u003c/code\u003e: \u003ccode\u003ejsx\u003c/code\u003e'는 ESBuild가 JS 파일을 JSX 파일로 처리해야 함을 지정합니다. JS 파일에 JSX 구문이 포함되어 있는 경우 유용합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e3. vite-env.d.ts 파일 생성 ⚡️\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e프로젝트 루트에 vite-env.d.ts라는 파일을 만들어주세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// vite-env.d.ts\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e/// \u0026#x3C;reference types=\"vite/client\" /\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 코드는 Vite의 전역 변수 및 클라이언트 특정 기능에 대한 타입 정의를 포함합니다. 이 파일은 사용자 정의 타입 및 모듈 선언에도 사용할 수 있으며 이는 TypeScript가 Vite 프로젝트의 다른 에셋 및 전역 변수를 처리하는 방법을 이해하는 데 도움이 됩니다.\u003c/p\u003e\n\u003ch2\u003e4. index.html 파일 업데이트 ⚡️\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003epublic 폴더에서 index.html 파일을 루트 폴더로 이동하세요. CRA의 경우 index.html 파일은 public 폴더에 있어야 합니다. 그러나 Vite는 프로젝트의 루트에 이 파일이 있어야 합니다.\u003c/li\u003e\n\u003cli\u003e%PUBLIC_URL%을 삭제하세요. Vite는 정적 자산과 공개 경로를 다르게 처리하며 JavaScript 파일에서 자산을 직접 가져오거나 HTML에서 상대 경로를 사용할 수 있도록 해줍니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!\u003cspan class=\"hljs-variable constant_\"\u003eDOCTYPE\u003c/span\u003e html\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"en\"\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"robots\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"noindex,nofollow\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"utf-8\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003elink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"icon\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"%PUBLIC_URL%/favicon.png\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003elink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"manifest\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"%PUBLIC_URL%/manifest.json\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003eCRA\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003enoscript\u003c/span\u003e\u003e\u003c/span\u003e이 앱을 실행하려면 JavaScript를 활성화해야 합니다.\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003enoscript\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"root\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"%PUBLIC_URL%/src/main.jsx\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;!\u003cspan class=\"hljs-variable constant_\"\u003eDOCTYPE\u003c/span\u003e html\u003e\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003elang\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"en\"\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"robots\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"noindex,nofollow\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003emeta\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003echarset\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"utf-8\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003elink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"icon\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/favicon.png\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003elink\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erel\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"manifest\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ehref\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/manifest.json\"\u003c/span\u003e /\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003eCRA\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003enoscript\u003c/span\u003e\u003e\u003c/span\u003e이 앱을 실행하려면 JavaScript를 활성화해야 합니다.\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003enoscript\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"root\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"/src/main.jsx\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e5. tsconfig.json 업데이트 ⚡️\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003etsconfig.json을 업데이트해야 합니다. 특히 target, types 및 lib을 수정해야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"compilerOptions\"\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"target\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ESNext\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"types\"\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"vite/client\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"vite-plugin-svgr/client\"\u003c/span\u003e],\n    \u003cspan class=\"hljs-string\"\u003e\"lib\"\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"dom\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"dom.iterable\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"esnext\"\u003c/span\u003e],\n    \u003cspan class=\"hljs-string\"\u003e\"allowJs\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"skipLibCheck\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"esModuleInterop\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"allowSyntheticDefaultImports\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"strict\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"forceConsistentCasingInFileNames\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"module\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"esnext\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"moduleResolution\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"node\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"resolveJsonModule\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"isolatedModules\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"noEmit\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"noFallthroughCasesInSwitch\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"allowImportingTsExtensions\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"jsx\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"react-jsx\"\u003c/span\u003e\n  },\n  \u003cspan class=\"hljs-string\"\u003e\"exclude\"\u003c/span\u003e: [\n    \u003cspan class=\"hljs-string\"\u003e\"node_modules\"\u003c/span\u003e\n  ]\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e6. 환경 변수 ⚡️\u003c/h2\u003e\n\u003cp\u003eVite 프로젝트에서 process.env.REACT_APP_에서 import.meta.env.VITE_로 모든 환경 변수를 이관해야 합니다. Vite에서는 import.meta.env를 사용하여 환경 변수에 액세스하며, 반드시 접두사 VITE_로 시작해야 합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// CRA\u003c/span\u003e\nprocess.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eREACT_APP_API\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Vite\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emeta\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eVITE_API\u003c/span\u003e\n\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emeta\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eenv\u003c/span\u003e) \n\u003cspan class=\"hljs-comment\"\u003e// { BASE_URL: '/', DEV: true, MODE: 'development', PROD: false, SSR: false }\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eimport.meta.env에는 BASE_URL, DEV, MODE, PROD 및 SSR과 같은 몇 가지 미리 정의된 환경 변수가 있습니다. Vite는 실행할 때 import.meta.env.MODE를 development로 자동 설정하며, vite build를 실행할 때는 production으로 설정합니다. 또한 Vite 명령을 실행할 때 필요에 따라 모드를 지정할 수 있습니다. 예를 들어 vite build --mode staging와 같이 실행할 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e7. react-scripts 삭제하기 ⚡️\u003c/h2\u003e\n\u003cp\u003e단순히 Vite로 대체했으므로 react-scripts를 삭제하고, 만약 craco.config.js 또는 config-overrides.js가 있다면 삭제하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm uninstall react-scripts\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e8. 패키지.json 파일의 스크립트 업데이트 ⚡️\u003c/h2\u003e\n\u003cp\u003ereact-scripts 패키지를 제거한 후에는 스크립트를 vite를 사용하도록 업데이트해야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-string\"\u003e\"scripts\"\u003c/span\u003e: {\r\n  \u003cspan class=\"hljs-string\"\u003e\"start\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"vite\"\u003c/span\u003e,\r\n  \u003cspan class=\"hljs-string\"\u003e\"build\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"vite build\"\u003c/span\u003e,\r\n  \u003cspan class=\"hljs-string\"\u003e\"serve\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"vite preview\"\u003c/span\u003e\r\n},\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e9. 애플리케이션 실행 ⚡️\u003c/h2\u003e\n\u003cp\u003enpm start으로 애플리케이션을 실행하세요. 브라우저에서 즉시 애플리케이션이 열리는 것을 보게 될 거에요!\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1.png\" alt=\"2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite_1\"\u003e\u003c/p\u003e\n\u003cp\u003e또한 npm run build로 정적 빌드를 수행한 후, npx serve -s build를 실행하여 프로덕션 빌드를 로컬에서 테스트할 수 있어요. 😋\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e10. ESLint \u0026#x26; Prettier 설정 ⚡️\u003c/h2\u003e\n\u003cp\u003eCRA 및 Vite는 동일한 ESLint 및 Prettier 구성을 사용할 수 있으며 이동이 거의 필요하지 않아야 합니다. 제 경우 eslint를 실행할 때 \"react-app\" 설정을 불러오지 못해 오류가 발생하며 다음 패키지를 설치하여 문제를 해결할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003enpm install eslint-config-react-app\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e오류 및 문제 해결 🔧\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eVite로 이주하면서 만난 몇 가지 오류와 내가 시도한 문제 해결 방법입니다.\u003c/p\u003e\n\u003cp\u003e🔗 해결: 파일 형식을 .js에서 .jsx로 변경하고, 작동하지 않거나 영향을 받는 파일이 많은 경우, vite.config.js에 JS 파일을 JSX로 처리하는 구성을 추가합니다.\u003c/p\u003e\n\u003cp\u003e🔗 해결: /src/assets/images/logo.svg?react로 대체하여 해결합니다. SVG를 React 컴포넌트로 변환하기 위해 vite.config.js에 이 플러그인을 추가해야 할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e🔗 해결: npm install vite-plugin-commonjs을 실행하고, vite.config.js에 이 플러그인을 추가하여 해결할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e🔗 솔루션: process.env를 import.meta.env로 교체하세요.\u003c/p\u003e\n\u003cp\u003e🔗 솔루션: 이 설정을 구성했더니 작동했어요. 애플리케이션이 하위 디렉터리에 존재하는 경우에 대한 것입니다.\u003c/p\u003e\n\u003ch2\u003e결론\u003c/h2\u003e\n\u003cp\u003eCRA에서 Vite로 전환한 후, 웹 애플리케이션 개발 프로세스가 상당히 개선되었습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eDevelopment server startup: 부팅 시간이 대략 14초에서 단 1초로 줄었습니다.\u003c/li\u003e\n\u003cli\u003eNPM 설치: npm 설치 과정이 눈에 띄게 더 빨라져, 2분에서 1분 30초로 단축되었습니다.\u003c/li\u003e\n\u003cli\u003e빌드 시간: 빌드 시간이 45초에서 22초로 줄었습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e전체적으로, 마이그레이션에 만족하고 있습니다. 간단한데도 개발 경험을 더욱 원활하게 만들어주는 좋은 대안이라고 생각해요.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-GuidetomigratingfromCreateReactAppCRAtoVite"},"buildId":"5et5eMZxpKCgDAAyIS6Ju","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>