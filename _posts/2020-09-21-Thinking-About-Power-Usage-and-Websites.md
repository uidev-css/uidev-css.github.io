---
layout: post
title: "전력 사용량 및 웹 사이트 고려"
author: 'CSS Dev'
thumbnail: https://res.cloudinary.com/css-tricks/image/fetch/w_1200,q_auto,f_auto/https://css-tricks.com/wp-content/uploads/2019/08/website-lightning.png
tags: PERFORMANCE
---


Gerry McGovern은 나에게 에너지 소비와 웹사이트에 대한 통찰력이 있는지 물었다. 그는 결국 지구상의 디지털 비용에 관한 책을 가지고 있다. 그는 웹테크의 세부사항에 대해 궁금해했다.

> HTML로 하면 3배 에너지를 소비하지만 JavaScript로 하면 10배 에너지를 소비합니다.

만약 여러분이 정말 보고 정확하게 측정할 줄 안다면, 여러분은 이와 같은 예를 찾을 수 있을 것이라고 생각할 것입니다. 화면 너머로 요소를 옮기고 싶다고 말하세요. 세트를 작성했다면자바스크립트에서 상대 위치 요소의 `좌측` 위치를 1밀리초 증가시킨 Interval` 루프는 `transform: translateX() 값을 변경한 CSS `@keyframes` 애니메이션을 동시에 실행할 때보다 더 많은 리터럴 전기가 필요하다고 99% 확신한다. 이 예에서, 우리는 보통 에너지 소비보다는 성능에 대해 더 많이 생각하고 있습니다. 하지만 바로 흥미로운 점이 있습니다. 좋은 성능이 에너지 사용량을 줄이는 데 도움이 될까요? 아마 그럴 거예요.

연구들이 이것을 조사했습니다.

> 우리는 성능 점수와 모바일 웹 앱의 에너지 소비량(중간에서 큰 효과 크기) 간에 통계적으로 유의한 부정적인 상관관계를 발견하여 성능 점수의 증가가 에너지 소비 감소로 이어지는 경향이 있음을 시사한다.

그들은 라이트하우스 점수를 이용하여 안드로이드에서 모바일 웹 앱을 테스트하고 있었다. 다른 플랫폼 및 기타 성능 메트릭에 대한 맵이 상당히 우수하다고 추측할 수 있습니다.

지금까지의 연구가 내가 논리적으로 진실이라고 기대하는 것과 일치해서 기쁘다. 성능 저하로 이어지는 것은 에너지를 소모하는 것입니다. 이미지를 상상해보세요. 너무 크거나 최적화되지 않은 이미지를 제공하면 성능 점수를 따게 됩니다. 그 성능이 어떤 영향을 미치는지 상상해 보십시오. 서버에는 큰 이미지와 작은 이미지 등 두 개의 이미지가 있습니다. 어떤 것이 어떤 사용자의 컴퓨터로 이동하는데 더 많은 전기가 필요합니까? 큰 거. 구문 분석 및 표시에 더 많은 처리 능력이 필요한 것은 무엇입니까? 큰 거. 어떤 것이 스크린에서 수명이 다할 때까지 메모리를 더 많이 차지합니까? 큰 거.

네트워크를 통해 더 적은 수의 전기를 사용할 수 있습니다.

브라우저가 할 일이 적을수록, 전력은 줄어듭니다.

몇 초마다 자동으로 새로 고친다는 광고요? 귀찮을 뿐만 아니라 대역폭도 낭비되고 따라서 전기 낭비도 됩니다. 웹 소켓과 같은 이벤트 기반 대신 폴링(예: 네트워크 요청 반복)에 의존해야 할 때는 언제입니까? 그것은 여러분이 사용할 필요가 없었던 전기를 사용하는 것입니다.

우리는 CDN이 성능에도 좋다는 것을 알고 있습니다. 전 세계를 여행해야 하는 파일(이미지 같은)이 아니라 해당 작업을 위해 설계된 서버의 지리적으로 훨씬 가까운 서버에서 가져온 것입니다. 여기서부터 일이 좀 더 흐려집니다.

성과와 목표: 목표 달성. 저 에너지 소비량을 목표로 하고 있는데, 우리가 거기 있나요?

연구되긴 했지만 안타깝게도 추상적인 것만으로 결론이 무엇인지 알 수 없다. 제 생각으로는, 전 세계의 서버들이 이러한 자산의 복사본을 저장하고 있다는 사실 때문에 상황이 복잡합니다. 자산이 바뀌면, 전 세계의 서버들을 업데이트하는 하나의 서버만이 아니라, 다시 한번 더 말입니다. 요청을 효율적으로 저장함으로써 비용을 절감할 수 있는 범위 내에서 전파 스토리지와 복제 스토리지 사이에는 균형이 있어야 합니다.

스토리지 효율성 얘기가 나와서 말인데, Disk에 저장된 스토리지는 네트워크를 통해 전송되는 파일보다 훨씬 적은 전력을 소비하지만, 여전히 비용이 듭니다. 파일을 변경할 때마다 모든 파일의 복사본을 저장했다고 말합니다. 웹 사이트를 배포할 때마다 전체 복사본을 저장했다고 가정해 보십시오. 유용하다고요? 물론이죠. 전기요금이 드나요? 틀림없어요. 거기에 갈 만한 균형이 있어야 한다.

Gerry는 나에게 특정한 기술에 대해 묻고 있었다. 나는 CSS랜드에서 또 다른 큰 일을 생각할 수 있어: 다크 모드! 다시 한번, 연구되고 있습니다. 다크 모드는 전력을 절약합니다.

> 다크 모드는 실제로 테스트한 인기 있는 Android 앱 세트의 최대 밝기에서 디스플레이 전력 소모를 최대 58.5%까지 줄일 수 있습니다! 전체 전화 배터리 방전 감소의 경우, 전체 밝기에서 5.6%~44.7% 절약되고 38% 밝기에서 1.8%~23.5% 절약됩니다.

그럼 기술을 비교하는 건 어떨까요? 언어 자체보다 그 기술(또는 언어)이 무엇을 하고 있는지에 대한 것이 훨씬 더 중요한 것 같습니다. 예를 들어 HTML에서 열리고 닫히는 작은 영역을 `자세히` 요소로 만들 수 있습니다. 시각적으로 열고 닫는 요소의 클래스를 전환시키는 버튼에 클릭 핸들러를 부착하여 해당 영역을 만드는 것보다 에너지 효율이 높은가? 좀 의심스러워요. 브라우저가 하고 있는 재도장/재도장 단계에서 사용 중인 전기와 그 뒤의 언어는 관련성이 낮다고 장담합니다. 그런데도! 만약 브라우저가 나의 작은 열기/닫기 요소를 구현하기 위해 50KB 자바스크립트 라이브러리를 다운로드하게 한다면, 그것은 문제가 되고, 자바스크립트 버전은 덜 효율적이다.

이런 식으로, 좋은 성능이 일반적으로 에너지 소비량 감소에 영향을 미치듯이, 최소 전력의 법칙을 준수하는 것도 일반적으로 에너지 소비량 감소에 영향을 미친다고 장담합니다.

내가 뭘 알아맞히는 거 지겨워? 당연하죠.

잭 레녹스가 스매싱에 쓴 " 웹사이트의 성능을 향상시키는 것이 지구를 구하는 데 어떻게 도움이 될 수 있는가"라는 기사는 더 나은 딥 다이브이다. 그는 당신의 사이트를 테스트할 웹사이트를 가리킵니다. 웹 사이트 탄소 계산기가 한 가지 예입니다.

> 웹 사이트의 탄소 배출량을 계산하는 것은 다소 어려운 과제이지만, 다섯 가지 핵심 데이터를 사용하여 다음과 같은 사항을 충분히 추정할 수 있습니다.
1. 전선을 통한 데이터 전송
2. 웹 데이터의 에너지 강도
3. 데이터 센터에서 사용하는 에너지원
4. 전기의 탄소 강도
5. 웹사이트 트래픽

테스트 코드는 오픈 소스입니다.