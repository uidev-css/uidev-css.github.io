---
layout: post
title: "Monorepo
 "
author: 'CSS Dev'
thumbnail: https://res.cloudinary.com/css-tricks/image/fetch/w_1200,q_auto,f_auto/https://css-tricks.com/wp-content/uploads/2021/01/monorepo.jpg
tags: 
---


저는 정확히 대규모 DevOps 담당자는 아니지만 CodePen에서 모노 레포로 되돌아 가고 있으며 많은 소규모 리포지토리가있는 시스템에 비해 이점이 많습니다.
 우리에게는 말입니다.
 당신은 완전히 다른 도전을 가지고 있고 당신의 위치에서 완전히 다른 결론에 도달했을 가능성이 큽니다.
 🤙
 

저는 Ben Nadel의 "마이크로 서비스를 InVision의 모놀리스로 다시 병합하는 이유"를 읽은 후 이에 대해 생각했습니다.
 우리의 결론은 비슷하지만 완전히 다른 문제에 직면 해 있다고 말할 수 있습니다.
 

> 마이크로 서비스는 기술적 문제와 사람 문제를 모두 해결합니다
기술적 인 문제는 애플리케이션의 측면이 인프라에 과도한 부담을주는 문제입니다. 결과적으로 사용자 경험 (UX)이 저하 될 수 있습니다. 예를 들어, 이미지 처리에는 많은 CPU가 필요합니다. 이 CPU로드가 너무 커지면 처리 리소스의 나머지 응용 프로그램이 고갈 될 수 있습니다. 이는 시스템 대기 시간에 영향을 미칠 수 있습니다. 그리고 충분히 나빠지면 시스템 가용성에 영향을 미칠 수 있습니다.

반면에 사람 문제는 응용 프로그램과 거의 관련이 없으며 팀 구성 방식과 관련된 모든 것입니다. 애플리케이션의 특정 부분에서 작업하는 사람이 많을수록 개발 및 배포 속도가 느려지고 오류가 발생하기 쉽습니다. 예를 들어 30 명의 엔지니어가 모두 동일한 서비스를 "지속적으로 배포"(CD)하기 위해 경쟁하는 경우 많은 대기열이 발생합니다. 즉, 제품을 배송 할 수있는 많은 엔지니어가 실제로 배치 될 차례를 기다리고 있습니다.
 

### Monorepo의 장점 (우리에게)
 

- 그들 모두를 지배하는 하나의 반지.
 하나의 리포지토리를`git pull`하면 다른 모든 사용자와 100 % 최신 상태이며 완전한 개발 환경에 필요한 모든 것을 갖추고 있습니다.
 
- 길 잃은 강아지는 없습니다.
 GitHub에서 작업이 발생하는 위치에 대한 혼동이 없습니다.
 monorepo에 대해 pull 요청을 수행합니다.
 monorepo에 대한 문제를 엽니 다.
 이는 손실되는 분산 된 활동을 방지합니다.
 
- 쿰 바야.
 코드를 공유 할 수 있습니다.
 코드베이스의 어느 곳에서나 유틸리티 또는 구성 요소를 공유하는 것이 특히 유용 할 수 있습니다.
 우리는 다른 리포지토리에서 사용할 수 있도록 공유 비트를 npm에 게시하는 것과 같은 아이디어를 찔 렀지 만 해당 워크 플로는 코드를 제자리에 두는 것에 비해 불안정했습니다.
 
- 함께 늙어가는 것.
 오래되고 무시 된 저장소가 없습니다. 단지 하나이기 때문입니다.
 소규모 팀의 경우 수십 개의 리포지토리가 있다는 것은 일부 리포지토리에 오래된 종속성, 노드의 고대 버전, 다른 리포지토리와 동기화되지 않은 린팅 및 형식 지정 규칙 등이 있음을 의미했습니다.
 

### Monorepo의 단점 (우리에게)
 

- 배포가 까다 로움.
 우리가 원래 리포지토리를 분리 한 주된 이유는 해당 리포지토리의 코드가 고유 한 위치로 이동해야하기 때문이라고 생각합니다.
 개별 Lambda 또는 다른 서버의 개별 서비스를 나타낼 수 있습니다.
 개별 저장소는 CI / CD와 같이 해당 서버 / 서비스에 고유 한 항목을 더 쉽게 연결할 수 있음을 의미합니다.
 

### 예, 이것이 논란의 여지가 있다고 생각합니다.
 

사실 그다지 신경 쓰지 않습니다.
 나는 이것에 대해 에어 프라이어 사람들과 CrossFit 열광 자처럼 이것에 대해 모든 것을 강렬하게 받아들이지 않을 것입니다.
 다음은 Matt Klein의 단일 저장소에 대한 전면적 인 주장입니다.
 

저는 단지 말하고 있습니다 : 그것은 우리에게 분명히 유용했습니다.
 다른 회사에서는 상황이 어떻게 다른지 알 수 있습니다.
 계약 업체와 협력하는 회사가 전체 모노 레포보다 적은 것에 대한 액세스를 제한하려는 방법을 알 수 있습니다.
 git repo가 어떻게 다루기 힘들고 커지는 지 알 수 있습니다.
 현재 CodePen에서는 이러한 문제가 문제가 아니므로 단일 저장소의 이점이 있습니다.
 