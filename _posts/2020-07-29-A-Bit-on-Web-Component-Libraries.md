---
layout: post
title: "웹 구성 요소 라이브러리의 비트"
author: 'CSS Dev'
thumbnail: https://res.cloudinary.com/css-tricks/image/fetch/w_1200,q_auto,f_auto/https://css-tricks.com/wp-content/uploads/2020/07/wev-components-logo.jpg
tags: WEB COMPONENTS
---


최근에 웹 컴포넌트 뉴스가 줄줄이 내 책상을 가로질러서 나는 여기에 그것을 묶어야겠다고 생각했다.

제가 생각하기에 웹 구성요소의 가장 좋은 사용 사례 중 하나는 패턴 라이브러리입니다. 부트스트랩에서처럼 =ulclass=nav-nav-twitter를 하거나 불마에서처럼 =divclass="twitter"를 사용하는 대신 =design system-twitter와 같은 사용자 지정 요소를 사용합니다.

새로운 Shoelace 라이브러리는 구성 요소에 `sl` 네임스페이스를 사용합니다. 웹 컴포넌트에 있는 전체 패턴 라이브러리입니다. 그래서 거기에 있는 탭들은 `<sl-tab-group> 요소들이다.

그게 왜 좋은 거죠? 글쎄요, 우선, 파티에 컴포넌트 모델을 가져오는 겁니다. 즉, 구성 요소를 작업하는 경우 템플릿과 스타일시트가 함께 배치되어 있습니다. 신발레이스의 후드 아래를 들여다보면, 스텐실을 기반으로 한 모든 것을 볼 수 있습니다.

또 다른 좋은 이유는 구성 요소가 섀도 DOM을 사용할 수 있다는 것을 의미하기 때문입니다. 이 기능은 웹 플랫폼에서 바로 제공되는 격리 형태를 제공합니다. 우리와 같은 CSS의 경우, 이는 탭 구성 요소의 탭에 대한 스타일링이 `.tab` 클래스(hey, wow, cool)로 수행되지만 해당 구성 요소에서 분리된다는 것을 의미한다. 이름만 가지고도, 저는 페이지의 다른 구성 요소들과 실수로 혼동할 수 없습니다. 그 일반 클래스를 사용하는 페이지나 외부의 다른 CSS들은 내장을 건드리지 않습니다. 섀도우 DOM은 스타일이 새어나오거나 스며드는 것을 방지하는 일종의 안전벽입니다.

FAST Framework도 방금 봤는데, 이 역시 구성 요소 세트입니다. `빠른 탭`으로 정의된 탭이 있습니다. 이것은 제가 웹 컴포넌트가 패턴 라이브러리 접근법으로서 좋아하는 또 다른 것을 생각나게 합니다. API 기반처럼 느껴진다면, 컴포넌트 자체의 이름부터 시작해서 HTML에서 사용하는 것까지 말입니다. 그 요소들의 속성은 완전히 구성될 수 있습니다. 새로운 표준은 구성 요소를 제어하기 위해 구성하는 속성 앞에 `data-*`를 붙일 필요가 없다는 것으로 보입니다. 따라서 탭 구성 요소를 만든다면 `=https-https active-tab="https" 변형="https"일 수 있습니다.

아마도 패턴 라이브러리에 Web Components를 사용하는 가장 큰 플레이어는 Ionic일 것이다. 이들의 탭은 `<ion-tabs>이며 다른 프레임워크와 관련 없이 사용할 수 있다(각도, 반응 및 Vue는 자체 스텐실 외에도 지원하지만). Ionic은 최근 섀도우 파트를 지원하는 Web Components와 관련하여 많은 발전을 이루었습니다. 여기 브랜디 카니가 캡슐화를 다시 설명했습니다.

> 섀도 DOM은 스타일이 구성 요소에서 유출되지 않도록 방지하고 의도치 않게 다른 요소에 적용하는 데 유용합니다. 예를 들어, 우리는 'ion-button' 구성 요소에 '.button' 클래스를 할당합니다. Ionic Framework 사용자가 클래스 '.button'을 자신의 요소 중 하나에 설정하면 이전 버전의 Ionic 버튼 스타일을 상속합니다. 이제 '아이온 버튼'은 섀도우 웹 컴포넌트이기 때문에 더 이상 문제가 되지 않는다.
그러나 이러한 캡슐화 때문에 스타일은 섀도우 구성 요소의 내부 요소로도 블리딩할 수 없습니다. 이것은 섀도우 구성요소가 섀도우 트리 내부에서 요소를 렌더링할 경우 사용자가 자신의 CSS로 내부 요소를 대상으로 지정할 수 없음을 의미합니다.

캡슐화는 좋은 것이지만, 실제로는 (의도적으로) 스타일링을 더 어렵게 만든다. 알아야 할 중요한 CSS 개념이 있다: CSS 사용자 지정 속성은 Shadow DOM을 관통한다. 하지만, 저는 당연히 그렇게 생각합니다. 디자인 시스템의 모든 것을 "변동화"하는 것은 현명한 방법이 아니라고 판단했습니다. 대신, 섀도 DOM 내부의 각 HTML 비트를 `=div part=`icon`과 같은 부분으로 주고, 이를 통해 CSS로 "외부에서 접근"할 수 있는 "custom-component::part(icon){}"와 같은 기능을 제공합니다.

파트 기반 스타일링 훅은 대부분 괜찮고, 이와 같은 패턴 라이브러리를 위한 현명한 방법이라고 생각하지만, 그 일부가 나를 괴롭힌다는 것은 인정한다. 선택기가 예상대로 작동하지 않습니다. 예를 들어, 조건부로 항목을 선택할 수 없습니다. 또한 어린이를 선택하거나 계단식 배열을 사용할 수 없습니다. 다시 말해서, 그것은 단지 일회성 혹은 손으로 막을 통해 직선으로 도달하는 것과 같습니다. 앞으로 손을 뻗어서 물건을 잡든지 말든지 할 수는 있지만, 다른 것은 전혀 할 수 없습니다.

사람들을 괴롭히는 것에 대해 말하자면, Andrea Giammarchi는 웹 컴포넌트의 최근 상태에 대해 다음과 같은 좋은 점을 지적합니다.

> 내 라이브러리를 포함하여 시작하는 모든 라이브러리는 라이브러리를 가져와 [sic]가 "휴대용 사용자 지정 요소"라고 정의해야 한다고 제안합니다.

구글은 항상 LitElement를 제안한다. Microsoft는 FAST Element를 사용하기를 원합니다. 스텐실에는 고유의 구성요소가 있습니다. hyperHTML에는 고유한 구성 요소가 있습니다. 아무도 "원시" 웹 구성요소를 사용하지 않습니다. 이상해! 가장 나쁜 점은 Web Components가 이러한 "원래 플랫폼"이어야 한다는 것입니다. 즉, 이를 사용하기 위해 특정 기술을 구입할 필요가 없다는 뜻입니다. 그럴 때, 우리는 리액터나 그 무엇인가를 사용했을 때처럼 거기에 갇혀 있게 됩니다.

안드레아는 그 기사에 몇 가지 아이디어를 가지고 있다. 그 중에는 새롭고 더 작은 도서관의 사용도 포함된다. 제가 보고 싶은 것은 도서관을 전혀 사용하지 않는 패턴 도서관인 것 같아요.